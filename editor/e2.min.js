!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.E2=t():e.E2=t()}(this,()=>(()=>{"use strict";var e={140:(e,t,n)=>{var i=n(677),s=i.ValidatorResult,o=i.SchemaError,a={ignoreProperties:{id:!0,default:!0,description:!0,title:!0,additionalItems:!0,then:!0,else:!0,$schema:!0,$ref:!0,extends:!0}},r=a.validators={};function l(e,t,n,i,s){var o=t.throwError,a=t.throwAll;t.throwError=!1,t.throwAll=!1;var r=this.validateSchema(e,s,t,n);return t.throwError=o,t.throwAll=a,!r.valid&&i instanceof Function&&i(r),r.valid}function h(e,t){if(Object.hasOwnProperty.call(e,t))return e[t];if(t in e)for(;e=Object.getPrototypeOf(e);)if(Object.propertyIsEnumerable.call(e,t))return e[t]}function d(e,t,n,i,s,o){if(this.types.object(e)&&(!t.properties||void 0===t.properties[s]))if(!1===t.additionalProperties)o.addError({name:"additionalProperties",argument:s,message:"is not allowed to have the additional property "+JSON.stringify(s)});else{var a=t.additionalProperties||{};"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,s,a,n,i);var r=this.validateSchema(e[s],a,n,i.makeChild(a,s));r.instance!==o.instance[s]&&(o.instance[s]=r.instance),o.importErrors(r)}}r.type=function(e,t,n,i){if(void 0===e)return null;var o=new s(e,t,n,i),a=Array.isArray(t.type)?t.type:[t.type];if(!a.some(this.testType.bind(this,e,t,n,i))){var r=a.map(function(e){if(e){var t=e.$id||e.id;return t?"<"+t+">":e+""}});o.addError({name:"type",argument:r,message:"is not of a type(s) "+r})}return o},r.anyOf=function(e,t,n,i){if(void 0===e)return null;var a=new s(e,t,n,i),r=new s(e,t,n,i);if(!Array.isArray(t.anyOf))throw new o("anyOf must be an array");if(!t.anyOf.some(l.bind(this,e,n,i,function(e){r.importErrors(e)}))){var h=t.anyOf.map(function(e,t){var n=e.$id||e.id;return n?"<"+n+">":e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});n.nestedErrors&&a.importErrors(r),a.addError({name:"anyOf",argument:h,message:"is not any of "+h.join(",")})}return a},r.allOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.allOf))throw new o("allOf must be an array");var a=new s(e,t,n,i),r=this;return t.allOf.forEach(function(t,s){var o=r.validateSchema(e,t,n,i);if(!o.valid){var l=t.$id||t.id||t.title&&JSON.stringify(t.title)||t.$ref&&"<"+t.$ref+">"||"[subschema "+s+"]";a.addError({name:"allOf",argument:{id:l,length:o.errors.length,valid:o},message:"does not match allOf schema "+l+" with "+o.errors.length+" error[s]:"}),a.importErrors(o)}}),a},r.oneOf=function(e,t,n,i){if(void 0===e)return null;if(!Array.isArray(t.oneOf))throw new o("oneOf must be an array");var a=new s(e,t,n,i),r=new s(e,t,n,i),h=t.oneOf.filter(l.bind(this,e,n,i,function(e){r.importErrors(e)})).length,d=t.oneOf.map(function(e,t){return e.$id||e.id||e.title&&JSON.stringify(e.title)||e.$ref&&"<"+e.$ref+">"||"[subschema "+t+"]"});return 1!==h&&(n.nestedErrors&&a.importErrors(r),a.addError({name:"oneOf",argument:d,message:"is not exactly one from "+d.join(",")})),a},r.if=function(e,t,n,o){if(void 0===e)return null;if(!i.isSchema(t.if))throw new Error('Expected "if" keyword to be a schema');var a,r=l.call(this,e,n,o,null,t.if),h=new s(e,t,n,o);if(r){if(void 0===t.then)return;if(!i.isSchema(t.then))throw new Error('Expected "then" keyword to be a schema');a=this.validateSchema(e,t.then,n,o.makeChild(t.then)),h.importErrors(a)}else{if(void 0===t.else)return;if(!i.isSchema(t.else))throw new Error('Expected "else" keyword to be a schema');a=this.validateSchema(e,t.else,n,o.makeChild(t.else)),h.importErrors(a)}return h},r.propertyNames=function(e,t,n,a){if(this.types.object(e)){var r=new s(e,t,n,a),l=void 0!==t.propertyNames?t.propertyNames:{};if(!i.isSchema(l))throw new o('Expected "propertyNames" to be a schema (object or boolean)');for(var d in e)if(void 0!==h(e,d)){var c=this.validateSchema(d,l,n,a.makeChild(l));r.importErrors(c)}return r}},r.properties=function(e,t,n,i){if(this.types.object(e)){var a=new s(e,t,n,i),r=t.properties||{};for(var l in r){var d=r[l];if(void 0!==d){if(null===d)throw new o('Unexpected null, expected schema in "properties"');"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,l,d,n,i);var c=h(e,l),u=this.validateSchema(c,d,n,i.makeChild(d,l));u.instance!==a.instance[l]&&(a.instance[l]=u.instance),a.importErrors(u)}}return a}},r.patternProperties=function(e,t,n,i){if(this.types.object(e)){var a=new s(e,t,n,i),r=t.patternProperties||{};for(var l in e){var h=!0;for(var c in r){var u=r[c];if(void 0!==u){if(null===u)throw new o('Unexpected null, expected schema in "patternProperties"');try{var p=new RegExp(c,"u")}catch(e){p=new RegExp(c)}if(p.test(l)){h=!1,"function"==typeof n.preValidateProperty&&n.preValidateProperty(e,l,u,n,i);var m=this.validateSchema(e[l],u,n,i.makeChild(u,l));m.instance!==a.instance[l]&&(a.instance[l]=m.instance),a.importErrors(m)}}}h&&d.call(this,e,t,n,i,l,a)}return a}},r.additionalProperties=function(e,t,n,i){if(this.types.object(e)){if(t.patternProperties)return null;var o=new s(e,t,n,i);for(var a in e)d.call(this,e,t,n,i,a,o);return o}},r.minProperties=function(e,t,n,i){if(this.types.object(e)){var o=new s(e,t,n,i);return Object.keys(e).length>=t.minProperties||o.addError({name:"minProperties",argument:t.minProperties,message:"does not meet minimum property length of "+t.minProperties}),o}},r.maxProperties=function(e,t,n,i){if(this.types.object(e)){var o=new s(e,t,n,i);return Object.keys(e).length<=t.maxProperties||o.addError({name:"maxProperties",argument:t.maxProperties,message:"does not meet maximum property length of "+t.maxProperties}),o}},r.items=function(e,t,n,i){var o=this;if(this.types.array(e)&&void 0!==t.items){var a=new s(e,t,n,i);return e.every(function(e,s){if(Array.isArray(t.items))var r=void 0===t.items[s]?t.additionalItems:t.items[s];else r=t.items;if(void 0===r)return!0;if(!1===r)return a.addError({name:"items",message:"additionalItems not permitted"}),!1;var l=o.validateSchema(e,r,n,i.makeChild(r,s));return l.instance!==a.instance[s]&&(a.instance[s]=l.instance),a.importErrors(l),!0}),a}},r.contains=function(e,t,n,o){var a=this;if(this.types.array(e)&&void 0!==t.contains){if(!i.isSchema(t.contains))throw new Error('Expected "contains" keyword to be a schema');var r=new s(e,t,n,o);return!1===e.some(function(e,i){return 0===a.validateSchema(e,t.contains,n,o.makeChild(t.contains,i)).errors.length})&&r.addError({name:"contains",argument:t.contains,message:"must contain an item matching given schema"}),r}},r.minimum=function(e,t,n,i){if(this.types.number(e)){var o=new s(e,t,n,i);return t.exclusiveMinimum&&!0===t.exclusiveMinimum?e>t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than "+t.minimum}):e>=t.minimum||o.addError({name:"minimum",argument:t.minimum,message:"must be greater than or equal to "+t.minimum}),o}},r.maximum=function(e,t,n,i){if(this.types.number(e)){var o=new s(e,t,n,i);return t.exclusiveMaximum&&!0===t.exclusiveMaximum?e<t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than "+t.maximum}):e<=t.maximum||o.addError({name:"maximum",argument:t.maximum,message:"must be less than or equal to "+t.maximum}),o}},r.exclusiveMinimum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMinimum&&this.types.number(e)){var o=new s(e,t,n,i);return e>t.exclusiveMinimum||o.addError({name:"exclusiveMinimum",argument:t.exclusiveMinimum,message:"must be strictly greater than "+t.exclusiveMinimum}),o}},r.exclusiveMaximum=function(e,t,n,i){if("boolean"!=typeof t.exclusiveMaximum&&this.types.number(e)){var o=new s(e,t,n,i);return e<t.exclusiveMaximum||o.addError({name:"exclusiveMaximum",argument:t.exclusiveMaximum,message:"must be strictly less than "+t.exclusiveMaximum}),o}};var c=function(e,t,n,a,r,l){if(this.types.number(e)){var h=t[r];if(0==h)throw new o(r+" cannot be zero");var d=new s(e,t,n,a),c=i.getDecimalPlaces(e),u=i.getDecimalPlaces(h),p=Math.max(c,u),m=Math.pow(10,p);return Math.round(e*m)%Math.round(h*m)!==0&&d.addError({name:r,argument:h,message:l+JSON.stringify(h)}),d}};function u(e,t,n){var s,o=n.length;for(s=t+1;s<o;s++)if(i.deepCompareStrict(e,n[s]))return!1;return!0}r.multipleOf=function(e,t,n,i){return c.call(this,e,t,n,i,"multipleOf","is not a multiple of (divisible by) ")},r.divisibleBy=function(e,t,n,i){return c.call(this,e,t,n,i,"divisibleBy","is not divisible by (multiple of) ")},r.required=function(e,t,n,i){var o=new s(e,t,n,i);return void 0===e&&!0===t.required?o.addError({name:"required",message:"is required"}):this.types.object(e)&&Array.isArray(t.required)&&t.required.forEach(function(t){void 0===h(e,t)&&o.addError({name:"required",argument:t,message:"requires property "+JSON.stringify(t)})}),o},r.pattern=function(e,t,n,i){if(this.types.string(e)){var o=new s(e,t,n,i),a=t.pattern;try{var r=new RegExp(a,"u")}catch(e){r=new RegExp(a)}return e.match(r)||o.addError({name:"pattern",argument:t.pattern,message:"does not match pattern "+JSON.stringify(t.pattern.toString())}),o}},r.format=function(e,t,n,o){if(void 0!==e){var a=new s(e,t,n,o);return a.disableFormat||i.isFormat(e,t.format,this)||a.addError({name:"format",argument:t.format,message:"does not conform to the "+JSON.stringify(t.format)+" format"}),a}},r.minLength=function(e,t,n,i){if(this.types.string(e)){var o=new s(e,t,n,i),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)>=t.minLength||o.addError({name:"minLength",argument:t.minLength,message:"does not meet minimum length of "+t.minLength}),o}},r.maxLength=function(e,t,n,i){if(this.types.string(e)){var o=new s(e,t,n,i),a=e.match(/[\uDC00-\uDFFF]/g);return e.length-(a?a.length:0)<=t.maxLength||o.addError({name:"maxLength",argument:t.maxLength,message:"does not meet maximum length of "+t.maxLength}),o}},r.minItems=function(e,t,n,i){if(this.types.array(e)){var o=new s(e,t,n,i);return e.length>=t.minItems||o.addError({name:"minItems",argument:t.minItems,message:"does not meet minimum length of "+t.minItems}),o}},r.maxItems=function(e,t,n,i){if(this.types.array(e)){var o=new s(e,t,n,i);return e.length<=t.maxItems||o.addError({name:"maxItems",argument:t.maxItems,message:"does not meet maximum length of "+t.maxItems}),o}},r.uniqueItems=function(e,t,n,i){if(!0===t.uniqueItems&&this.types.array(e)){var o=new s(e,t,n,i);return e.every(u)||o.addError({name:"uniqueItems",message:"contains duplicate item"}),o}},r.dependencies=function(e,t,n,i){if(this.types.object(e)){var o=new s(e,t,n,i);for(var a in t.dependencies)if(void 0!==e[a]){var r=t.dependencies[a],l=i.makeChild(r,a);if("string"==typeof r&&(r=[r]),Array.isArray(r))r.forEach(function(t){void 0===e[t]&&o.addError({name:"dependencies",argument:l.propertyPath,message:"property "+t+" not found, required by "+l.propertyPath})});else{var h=this.validateSchema(e,r,n,l);o.instance!==h.instance&&(o.instance=h.instance),h&&h.errors.length&&(o.addError({name:"dependencies",argument:l.propertyPath,message:"does not meet dependency required by "+l.propertyPath}),o.importErrors(h))}}return o}},r.enum=function(e,t,n,a){if(void 0===e)return null;if(!Array.isArray(t.enum))throw new o("enum expects an array",t);var r=new s(e,t,n,a);return t.enum.some(i.deepCompareStrict.bind(null,e))||r.addError({name:"enum",argument:t.enum,message:"is not one of enum values: "+t.enum.map(String).join(",")}),r},r.const=function(e,t,n,o){if(void 0===e)return null;var a=new s(e,t,n,o);return i.deepCompareStrict(t.const,e)||a.addError({name:"const",argument:t.const,message:"does not exactly match expected constant: "+t.const}),a},r.not=r.disallow=function(e,t,n,i){var o=this;if(void 0===e)return null;var a=new s(e,t,n,i),r=t.not||t.disallow;return r?(Array.isArray(r)||(r=[r]),r.forEach(function(s){if(o.testType(e,t,n,i,s)){var r=s&&(s.$id||s.id)||s;a.addError({name:"not",argument:r,message:"is of prohibited type "+r})}}),a):null},e.exports=a},304:(e,t,n)=>{e.exports.Validator=n(482);n(677).ValidatorResult,n(677).ValidatorResultError,n(677).ValidationError,n(677).SchemaError,n(911),n(911).S},482:(e,t,n)=>{var i=n(140),s=n(677),o=n(911).S,a=s.ValidatorResult,r=s.ValidatorResultError,l=s.SchemaError,h=s.SchemaContext,d=function e(){this.customFormats=Object.create(e.prototype.customFormats),this.schemas={},this.unresolvedRefs=[],this.types=Object.create(u),this.attributes=Object.create(i.validators)};function c(e){var t="string"==typeof e?e:e.$ref;return"string"==typeof t&&t}d.prototype.customFormats={},d.prototype.schemas=null,d.prototype.types=null,d.prototype.attributes=null,d.prototype.unresolvedRefs=null,d.prototype.addSchema=function(e,t){var n=this;if(!e)return null;var i=o(t||"/",e),s=t||e.$id||e.id;for(var a in i.id)this.schemas[a]=i.id[a];for(var a in i.ref)this.unresolvedRefs.push(a);return this.unresolvedRefs=this.unresolvedRefs.filter(function(e){return void 0===n.schemas[e]}),this.schemas[s]},d.prototype.addSubSchemaArray=function(e,t){if(Array.isArray(t))for(var n=0;n<t.length;n++)this.addSubSchema(e,t[n])},d.prototype.addSubSchemaObject=function(e,t){if(t&&"object"==typeof t)for(var n in t)this.addSubSchema(e,t[n])},d.prototype.setSchemas=function(e){this.schemas=e},d.prototype.getSchema=function(e){return this.schemas[e]},d.prototype.validate=function(e,t,n,i){if("boolean"!=typeof t&&"object"!=typeof t||null===t)throw new l("Expected `schema` to be an object or boolean");n||(n={});var d=t.$id||t.id;let c=s.resolveUrl(n.base,d||"");if(!i){(i=new h(t,n,[],c,Object.create(this.schemas))).schemas[c]||(i.schemas[c]=t);var u=o(c,t);for(var p in u.id){var m=u.id[p];i.schemas[p]=m}}var b;if(n.required&&void 0===e)return(b=new a(e,t,n,i)).addError("is required, but is undefined"),b;if(!(b=this.validateSchema(e,t,n,i)))throw new Error("Result undefined");if(n.throwAll&&b.errors.length)throw new r(b);return b},d.prototype.validateSchema=function(e,t,n,o){var r=new a(e,t,n,o);if("boolean"==typeof t)!0===t?t={}:!1===t&&(t={type:[]});else if(!t)throw new Error("schema is undefined");if(t.extends)if(Array.isArray(t.extends)){var d={schema:t,ctx:o};t.extends.forEach(this.schemaTraverser.bind(this,d)),t=d.schema,d.schema=null,d.ctx=null,d=null}else t=s.deepMerge(t,this.superResolve(t.extends,o));var u=c(t);if(u){var p=this.resolve(t,u,o),m=new h(p.subschema,n,o.path,p.switchSchema,o.schemas);return this.validateSchema(e,p.subschema,n,m)}var b=n&&n.skipAttributes||[];for(var g in t)if(!i.ignoreProperties[g]&&b.indexOf(g)<0){var f=null,v=this.attributes[g];if(v)f=v.call(this,e,t,n,o);else if(!1===n.allowUnknownAttributes)throw new l("Unsupported attribute: "+g,t);f&&r.importErrors(f)}if("function"==typeof n.rewrite){var y=n.rewrite.call(this,e,t,n,o);r.instance=y}return r},d.prototype.schemaTraverser=function(e,t){e.schema=s.deepMerge(e.schema,this.superResolve(t,e.ctx))},d.prototype.superResolve=function(e,t){var n=c(e);return n?this.resolve(e,n,t).subschema:e},d.prototype.resolve=function(e,t,n){if(t=n.resolve(t),n.schemas[t])return{subschema:n.schemas[t],switchSchema:t};let i=new URL(t,"thismessage::/").hash;var o=i&&i.length&&t.substr(0,t.length-i.length);if(!o||!n.schemas[o])throw new l("no such schema <"+t+">",e);var a=s.objectGetPath(n.schemas[o],i.substr(1));if(void 0===a)throw new l("no such schema "+i+" located in <"+o+">",e);return{subschema:a,switchSchema:t}},d.prototype.testType=function(e,t,n,i,s){if(void 0!==s){if(null===s)throw new l('Unexpected null in "type" keyword');if("function"==typeof this.types[s])return this.types[s].call(this,e);if(s&&"object"==typeof s){var o=this.validateSchema(e,s,n,i);return void 0===o||!(o&&o.errors.length)}return!0}};var u=d.prototype.types={};u.string=function(e){return"string"==typeof e},u.number=function(e){return"number"==typeof e&&isFinite(e)},u.integer=function(e){return"number"==typeof e&&e%1==0},u.boolean=function(e){return"boolean"==typeof e},u.array=function(e){return Array.isArray(e)},u.null=function(e){return null===e},u.date=function(e){return e instanceof Date},u.any=function(e){return!0},u.object=function(e){return e&&"object"==typeof e&&!Array.isArray(e)&&!(e instanceof Date)},e.exports=d},677:(e,t)=>{var n=t.ValidationError=function(e,t,n,i,s,o){if(Array.isArray(i)?(this.path=i,this.property=i.reduce(function(e,t){return e+h(t)},"instance")):void 0!==i&&(this.property=i),e&&(this.message=e),n){var a=n.$id||n.id;this.schema=a||n}void 0!==t&&(this.instance=t),this.name=s,this.argument=o,this.stack=this.toString()};n.prototype.toString=function(){return this.property+" "+this.message};var i=t.ValidatorResult=function(e,t,n,i){this.instance=e,this.schema=t,this.options=n,this.path=i.path,this.propertyPath=i.propertyPath,this.errors=[],this.throwError=n&&n.throwError,this.throwFirst=n&&n.throwFirst,this.throwAll=n&&n.throwAll,this.disableFormat=n&&!0===n.disableFormat};function s(e,t){return t+": "+e.toString()+"\n"}function o(e){"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,o),this.instance=e.instance,this.schema=e.schema,this.options=e.options,this.errors=e.errors}i.prototype.addError=function(e){var t;if("string"==typeof e)t=new n(e,this.instance,this.schema,this.path);else{if(!e)throw new Error("Missing error detail");if(!e.message)throw new Error("Missing error message");if(!e.name)throw new Error("Missing validator type");t=new n(e.message,this.instance,this.schema,this.path,e.name,e.argument)}if(this.errors.push(t),this.throwFirst)throw new o(this);if(this.throwError)throw t;return t},i.prototype.importErrors=function(e){"string"==typeof e||e&&e.validatorType?this.addError(e):e&&e.errors&&(this.errors=this.errors.concat(e.errors))},i.prototype.toString=function(e){return this.errors.map(s).join("")},Object.defineProperty(i.prototype,"valid",{get:function(){return!this.errors.length}}),e.exports.ValidatorResultError=o,o.prototype=new Error,o.prototype.constructor=o,o.prototype.name="Validation Error";var a=t.SchemaError=function e(t,n){this.message=t,this.schema=n,Error.call(this,t),"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)};a.prototype=Object.create(Error.prototype,{constructor:{value:a,enumerable:!1},name:{value:"SchemaError",enumerable:!1}});var r=t.SchemaContext=function(e,t,n,i,s){this.schema=e,this.options=t,Array.isArray(n)?(this.path=n,this.propertyPath=n.reduce(function(e,t){return e+h(t)},"instance")):this.propertyPath=n,this.base=i,this.schemas=s};r.prototype.resolve=function(e){return(()=>b(this.base,e))()},r.prototype.makeChild=function(e,t){var n=void 0===t?this.path:this.path.concat([t]),i=e.$id||e.id;let s=(()=>b(this.base,i||""))();var o=new r(e,this.options,n,s,Object.create(this.schemas));return i&&!o.schemas[s]&&(o.schemas[s]=e),o};var l=t.FORMAT_REGEXPS={"date-time":/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])[tT ](2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])(\.\d+)?([zZ]|[+-]([0-5][0-9]):(60|[0-5][0-9]))$/,date:/^\d{4}-(?:0[0-9]{1}|1[0-2]{1})-(3[01]|0[1-9]|[12][0-9])$/,time:/^(2[0-4]|[01][0-9]):([0-5][0-9]):(60|[0-5][0-9])$/,duration:/P(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S)|\d+(D|M(\d+D)?|Y(\d+M(\d+D)?)?)(T\d+(H(\d+M(\d+S)?)?|M(\d+S)?|S))?|\d+W)/i,email:/^(?:[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+\.)*[\w\!\#\$\%\&\'\*\+\-\/\=\?\^\`\{\|\}\~]+@(?:(?:(?:[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!\.)){0,61}[a-zA-Z0-9]?\.)+[a-zA-Z0-9](?:[a-zA-Z0-9\-](?!$)){0,61}[a-zA-Z0-9]?)|(?:\[(?:(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\.){3}(?:[01]?\d{1,2}|2[0-4]\d|25[0-5])\]))$/,"idn-email":/^("(?:[!#-\[\]-\u{10FFFF}]|\\[\t -\u{10FFFF}])*"|[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*)@([!#-'*+\-/-9=?A-Z\^-\u{10FFFF}](?:\.?[!#-'*+\-/-9=?A-Z\^-\u{10FFFF}])*|\[[!-Z\^-\u{10FFFF}]*\])$/u,"ip-address":/^(?:(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.){3}(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/,ipv6:/^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/,uri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"uri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/,iri:/^[a-zA-Z][a-zA-Z0-9+.-]*:[^\s]*$/,"iri-reference":/^(((([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:?)?)|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?)?))#(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|(([A-Za-z][+\-.0-9A-Za-z]*)?%[0-9A-Fa-f]{2}|[!$&-.0-9;=@_~-\u{10FFFF}]|[A-Za-z][+\-.0-9A-Za-z]*[!$&-*,;=@_~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-.0-9;=@-Z_a-z~-\u{10FFFF}])*((([/?](%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?#|[/?])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*)?|([A-Za-z][+\-.0-9A-Za-z]*(:%[0-9A-Fa-f]{2}|:[!$&-.0-;=?-Z_a-z~-\u{10FFFF}]|[/?])|\?)(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|([A-Za-z][+\-.0-9A-Za-z]*:)?\/((%[0-9A-Fa-f]{2}|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)(:\d*)?[/?]|[!$&-.0-;=?-Z_a-z~-\u{10FFFF}])(%[0-9A-Fa-f]{2}|[!$&-;=?-Z_a-z~-\u{10FFFF}])*|\/((%[0-9A-Fa-f]{2}|[!$&-.0-9;=A-Z_a-z~-\u{10FFFF}])+(:\d*)?|(\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?:\d*|\[(([Vv][0-9A-Fa-f]+\.[!$&-.0-;=A-Z_a-z~-\u{10FFFF}]+)?|[.0-:A-Fa-f]+)\])?)?|[A-Za-z][+\-.0-9A-Za-z]*:?)?$/u,uuid:/^[0-9A-F]{8}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{4}-[0-9A-F]{12}$/i,"uri-template":/(%[0-9a-f]{2}|[!#$&(-;=?@\[\]_a-z~]|\{[!#&+,./;=?@|]?(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?(,(%[0-9a-f]{2}|[0-9_a-z])(\.?(%[0-9a-f]{2}|[0-9_a-z]))*(:[1-9]\d{0,3}|\*)?)*\})*/iu,"json-pointer":/^(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*$/iu,"relative-json-pointer":/^\d+(#|(\/([\x00-\x2e0-@\[-}\x7f]|~[01])*)*)$/iu,hostname:/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"host-name":/^(?=.{1,255}$)[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?(?:\.[0-9A-Za-z](?:(?:[0-9A-Za-z]|-){0,61}[0-9A-Za-z])?)*\.?$/,"utc-millisec":function(e){return"string"==typeof e&&parseFloat(e)===parseInt(e,10)&&!isNaN(e)},regex:function(e){var t=!0;try{new RegExp(e)}catch(e){t=!1}return t},style:/[\r\n\t ]*[^\r\n\t ][^:]*:[\r\n\t ]*[^\r\n\t ;]*[\r\n\t ]*;?/,color:/^(#?([0-9A-Fa-f]{3}){1,2}\b|aqua|black|blue|fuchsia|gray|green|lime|maroon|navy|olive|orange|purple|red|silver|teal|white|yellow|(rgb\(\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*,\s*\b([0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])\b\s*\))|(rgb\(\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*,\s*(\d?\d%|100%)+\s*\)))$/,phone:/^\+(?:[0-9] ?){6,14}[0-9]$/,alpha:/^[a-zA-Z]+$/,alphanumeric:/^[a-zA-Z0-9]+$/};l.regexp=l.regex,l.pattern=l.regex,l.ipv4=l["ip-address"],t.isFormat=function(e,t,n){if("string"==typeof e&&void 0!==l[t]){if(l[t]instanceof RegExp)return l[t].test(e);if("function"==typeof l[t])return l[t](e)}else if(n&&n.customFormats&&"function"==typeof n.customFormats[t])return n.customFormats[t](e);return!0};var h=t.makeSuffix=function(e){return(e=e.toString()).match(/[.\s\[\]]/)||e.match(/^[\d]/)?e.match(/^\d+$/)?"["+e+"]":"["+JSON.stringify(e)+"]":"."+e};function d(e,t,n,i){"object"==typeof n?t[i]=p(e[i],n):-1===e.indexOf(n)&&t.push(n)}function c(e,t,n){t[n]=e[n]}function u(e,t,n,i){"object"==typeof t[i]&&t[i]&&e[i]?n[i]=p(e[i],t[i]):n[i]=t[i]}function p(e,t){var n=Array.isArray(t),i=n&&[]||{};return n?(e=e||[],i=i.concat(e),t.forEach(d.bind(null,e,i))):(e&&"object"==typeof e&&Object.keys(e).forEach(c.bind(null,e,i)),Object.keys(t).forEach(u.bind(null,e,t,i))),i}function m(e){return"/"+encodeURIComponent(e).replace(/~/g,"%7E")}t.deepCompareStrict=function e(t,n){if(typeof t!=typeof n)return!1;if(Array.isArray(t))return!!Array.isArray(n)&&t.length===n.length&&t.every(function(i,s){return e(t[s],n[s])});if("object"==typeof t){if(!t||!n)return t===n;var i=Object.keys(t),s=Object.keys(n);return i.length===s.length&&i.every(function(i){return e(t[i],n[i])})}return t===n},e.exports.deepMerge=p,t.objectGetPath=function(e,t){for(var n,i=t.split("/").slice(1);"string"==typeof(n=i.shift());){var s=decodeURIComponent(n.replace(/~0/,"~").replace(/~1/g,"/"));if(!(s in e))return;e=e[s]}return e},t.encodePath=function(e){return e.map(m).join("")},t.getDecimalPlaces=function(e){var t=0;if(isNaN(e))return t;"number"!=typeof e&&(e=Number(e));var n=e.toString().split("e");if(2===n.length){if("-"!==n[1][0])return t;t=Number(n[1].slice(1))}var i=n[0].split(".");return 2===i.length&&(t+=i[1].length),t},t.isSchema=function(e){return"object"==typeof e&&e||"boolean"==typeof e};var b=t.resolveUrl=function(e,t){const n=new URL(t,new URL(e,"resolve://"));if("resolve:"===n.protocol){const{pathname:e,search:t,hash:i}=n;return e+t+i}return n.toString()}},911:(e,t,n)=>{var i=n(677);function s(e,t){this.id=e,this.ref=t}e.exports.S=function(e,t){function n(e,t){if(!t||"object"!=typeof t)return;if(t.$ref){let n=i.resolveUrl(e,t.$ref);return void(l[n]=l[n]?l[n]+1:0)}var s=t.$id||t.id;let h=i.resolveUrl(e,s);var d=s?h:e;if(d){if(d.indexOf("#")<0&&(d+="#"),r[d]){if(!i.deepCompareStrict(r[d],t))throw new Error("Schema <"+d+"> already exists with different definition");return r[d]}r[d]=t,"#"==d[d.length-1]&&(r[d.substring(0,d.length-1)]=t)}o(d+"/items",Array.isArray(t.items)?t.items:[t.items]),o(d+"/extends",Array.isArray(t.extends)?t.extends:[t.extends]),n(d+"/additionalItems",t.additionalItems),a(d+"/properties",t.properties),n(d+"/additionalProperties",t.additionalProperties),a(d+"/definitions",t.definitions),a(d+"/patternProperties",t.patternProperties),a(d+"/dependencies",t.dependencies),o(d+"/disallow",t.disallow),o(d+"/allOf",t.allOf),o(d+"/anyOf",t.anyOf),o(d+"/oneOf",t.oneOf),n(d+"/not",t.not)}function o(e,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)n(e+"/"+i,t[i])}function a(e,t){if(t&&"object"==typeof t)for(var i in t)n(e+"/"+i,t[i])}var r={},l={};return n(e,t),new s(r,l)}}},t={};function n(i){var s=t[i];if(void 0!==s)return s.exports;var o=t[i]={exports:{}};return e[i](o,o.exports,n),o.exports}n.d=(e,t)=>{for(var i in t)n.o(t,i)&&!n.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};function s(e="element"){return`${e}-${Math.random().toString(36).substring(2,9)}`}function o(e,t,n,i={}){const s=new CustomEvent(t,{detail:n,bubbles:!0,cancelable:!0,...i});return e.dispatchEvent(s)}function a(e,t){if(t&&document.getElementById(t))return;const n=document.createElement("style");t&&(n.id=t),n.textContent=e,document.head.appendChild(n)}function r(e){const t=document.createElement("template");return t.innerHTML=e.trim(),t}function l(e,t={mode:"open"}){return e.shadowRoot||e.attachShadow(t)}function h(e,t){let n;return function(...i){clearTimeout(n),n=window.setTimeout(()=>{clearTimeout(n),e(...i)},t)}}function d(e){const t=e.getBoundingClientRect();return t.top>=0&&t.left>=0&&t.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&t.right<=(window.innerWidth||document.documentElement.clientWidth)}function c(e){let t=e.parentElement;for(;t;){if("e2-app"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}function u(e){const t=e.getAttribute("theme");if(t&&["light","dark","auto"].includes(t))return t;const n=c(e);if(n){const e=n.getAttribute("theme");if(e&&["light","dark","auto"].includes(e))return e}return"auto"}function p(e,t){e.classList.remove("theme-light","theme-dark","theme-auto"),e.classList.add(`theme-${t}`)}function m(e){p(e,u(e))}function b(e,t){const n=n=>{if(!e.hasAttribute("theme")){const i=n.detail.theme;p(e,i),t&&t(i)}};return document.addEventListener("e2-app-theme-change",n),()=>{document.removeEventListener("e2-app-theme-change",n)}}function g(e,t){const n=new CustomEvent("e2-app-theme-change",{detail:{theme:t,appElement:e},bubbles:!0,cancelable:!1});e.dispatchEvent(n),document.dispatchEvent(n)}function f(e,t){return e.hasAttribute("theme")?void e.applyTheme(t):(m(e),b(e))}function v(e,t,n){n.current&&(n.current(),n.current=void 0),t?e.applyTheme(t):e.isConnected&&(m(e),n.current=b(e))}function y(e,t,n={}){const i=document.createElement("e2-notification");let s;if(i.type=e,i.message=t,n.title&&(i.title=n.title),void 0!==n.timeout&&(i.timeout=n.timeout),void 0!==n.dismissible&&(i.dismissible=n.dismissible),void 0!==n.persistent&&(i.persistent=n.persistent),n.container)if("string"==typeof n.container){s=document.querySelector(n.container)||document.body}else s=n.container;else{const e=document.querySelector("e2-notification-container");if(e)s=e;else{const e=document.createElement("e2-notification-container");e.position="top-right",document.body.appendChild(e),s=e}}return s.appendChild(i),i.show().then(()=>{i.parentNode&&i.parentNode.removeChild(i)})}n.r(i),n.d(i,{Toast:()=>x,VERSION:()=>K,addGlobalCSS:()=>a,applyEffectiveTheme:()=>m,applyTheme:()=>p,createTemplate:()=>r,createToast:()=>y,debounce:()=>h,dispatchCustomEvent:()=>o,findParentApp:()=>c,generateId:()=>s,getEffectiveTheme:()=>u,getShadowRoot:()=>l,handleThemeChange:()=>v,initializeThemeInheritance:()=>f,isElementVisible:()=>d,notifyThemeChange:()=>g,setupThemeInheritance:()=>b});const x={info:(e,t)=>y("info",e,t),success:(e,t)=>y("success",e,t),warning:(e,t)=>y("warning",e,t),error:(e,t)=>y("error",e,t)};class _ extends HTMLElement{static get observedAttributes(){return["theme"]}constructor(){super(),this._theme="auto",this._stylesInitialized=!1,this.handleThemeChange=()=>{"auto"===this._theme&&(this.applyTheme("auto"),g(this,"auto"))}}setupElement(){if(!this._stylesInitialized&&!document.getElementById("e2-app-styles")){const e=document.createElement("style");e.id="e2-app-styles",e.textContent='\n        /* CSS Reset and Base Styles */\n        e2-app, e2-app * {\n          box-sizing: border-box;\n        }\n\n        e2-app {\n          /* Layout */\n          --app-width: 100%;\n          --app-height: 100vh;\n          --app-padding: 0;\n          --app-margin: 0;\n\n          /* Typography */\n          --font-family: system-ui, -apple-system, BlinkMacSystemFont, \'Segoe UI\', \'Roboto\', \'Oxygen\', \'Ubuntu\', \'Cantarell\', sans-serif;\n          --font-size: 14px;\n          --line-height: 1.4;\n          --font-weight: 400;\n\n          /* Colors - Light Theme */\n          --bg-primary: #ffffff;\n          --bg-secondary: #f8f9fa;\n          --bg-tertiary: #e9ecef;\n          --text-primary: #212529;\n          --text-secondary: #6c757d;\n          --text-muted: #adb5bd;\n          --border-color: #dee2e6;\n          --border-color-hover: #adb5bd;\n          --accent-color: #0d6efd;\n          --accent-color-hover: #0b5ed7;\n          --success-color: #198754;\n          --warning-color: #ffc107;\n          --danger-color: #dc3545;\n\n          /* Form Controls */\n          --input-bg: #ffffff;\n          --input-border: #ced4da;\n          --input-border-focus: #86b7fe;\n          --input-text: #212529;\n          --input-placeholder: #6c757d;\n          --input-padding: 6px 12px;\n          --input-border-radius: 4px;\n          --input-font-size: 14px;\n\n          /* Buttons */\n          --button-bg: #f8f9fa;\n          --button-bg-hover: #e9ecef;\n          --button-border: #ced4da;\n          --button-text: #212529;\n          --button-padding: 6px 12px;\n          --button-border-radius: 4px;\n\n          /* Shadows */\n          --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.05);\n          --shadow: 0 1px 3px rgba(0, 0, 0, 0.1);\n          --shadow-lg: 0 4px 6px rgba(0, 0, 0, 0.1);\n\n          /* Transitions */\n          --transition-fast: 0.15s ease-in-out;\n          --transition-normal: 0.3s ease-in-out;\n\n          /* Apply base layout */\n          display: block;\n          width: var(--app-width);\n          height: var(--app-height);\n          padding: var(--app-padding);\n          margin: var(--app-margin);\n          font-family: var(--font-family);\n          font-size: var(--font-size);\n          line-height: var(--line-height);\n          font-weight: var(--font-weight);\n          color: var(--text-primary);\n          background-color: var(--bg-primary);\n          overflow: hidden;\n        }\n\n        /* Dark Theme */\n        e2-app.theme-dark {\n          --bg-primary: #1a1a1a;\n          --bg-secondary: #2d2d2d;\n          --bg-tertiary: #404040;\n          --text-primary: #ffffff;\n          --text-secondary: #cccccc;\n          --text-muted: #999999;\n          --border-color: #404040;\n          --border-color-hover: #666666;\n          --accent-color: #4dabf7;\n          --accent-color-hover: #339af0;\n          --success-color: #51cf66;\n          --warning-color: #ffd43b;\n          --danger-color: #ff6b6b;\n\n          --input-bg: #2d2d2d;\n          --input-border: #404040;\n          --input-border-focus: #4dabf7;\n          --input-text: #ffffff;\n          --input-placeholder: #999999;\n\n          --button-bg: #2d2d2d;\n          --button-bg-hover: #404040;\n          --button-border: #404040;\n          --button-text: #ffffff;\n\n          --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.25);\n          --shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n          --shadow-lg: 0 4px 6px rgba(0, 0, 0, 0.3);\n        }\n\n        /* Auto Theme - uses system preference */\n        e2-app.theme-auto {\n          color-scheme: light dark;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          e2-app.theme-auto {\n            --bg-primary: #1a1a1a;\n            --bg-secondary: #2d2d2d;\n            --bg-tertiary: #404040;\n            --text-primary: #ffffff;\n            --text-secondary: #cccccc;\n            --text-muted: #999999;\n            --border-color: #404040;\n            --border-color-hover: #666666;\n            --accent-color: #4dabf7;\n            --accent-color-hover: #339af0;\n            --success-color: #51cf66;\n            --warning-color: #ffd43b;\n            --danger-color: #ff6b6b;\n\n            --input-bg: #2d2d2d;\n            --input-border: #404040;\n            --input-border-focus: #4dabf7;\n            --input-text: #ffffff;\n            --input-placeholder: #999999;\n\n            --button-bg: #2d2d2d;\n            --button-bg-hover: #404040;\n            --button-border: #404040;\n            --button-text: #ffffff;\n\n            --shadow-sm: 0 1px 2px rgba(0, 0, 0, 0.25);\n            --shadow: 0 1px 3px rgba(0, 0, 0, 0.3);\n            --shadow-lg: 0 4px 6px rgba(0, 0, 0, 0.3);\n          }\n        }\n\n        /* Typography Styles */\n        e2-app h1, e2-app h2, e2-app h3, e2-app h4, e2-app h5, e2-app h6 {\n          margin: 0 0 0.5em 0;\n          font-weight: 600;\n          line-height: 1.2;\n          color: var(--text-primary);\n        }\n\n        e2-app h1 { font-size: 2rem; }\n        e2-app h2 { font-size: 1.5rem; }\n        e2-app h3 { font-size: 1.25rem; }\n        e2-app h4 { font-size: 1.1rem; }\n        e2-app h5 { font-size: 1rem; }\n        e2-app h6 { font-size: 0.9rem; }\n\n        e2-app p {\n          margin: 0 0 1em 0;\n          color: var(--text-primary);\n        }\n\n        e2-app small {\n          font-size: 0.875em;\n          color: var(--text-secondary);\n        }\n\n        e2-app strong {\n          font-weight: 600;\n        }\n\n        e2-app a {\n          color: var(--accent-color);\n          text-decoration: none;\n          transition: color var(--transition-fast);\n        }\n\n        e2-app a:hover {\n          color: var(--accent-color-hover);\n          text-decoration: underline;\n        }\n\n        /* Form Control Styles */\n        e2-app input[type="text"],\n        e2-app input[type="email"],\n        e2-app input[type="password"],\n        e2-app input[type="number"],\n        e2-app input[type="search"],\n        e2-app input[type="url"],\n        e2-app input[type="tel"],\n        e2-app input[type="date"],\n        e2-app input[type="time"],\n        e2-app input[type="datetime-local"],\n        e2-app textarea,\n        e2-app select {\n          display: block;\n          width: 100%;\n          padding: var(--input-padding);\n          font-size: var(--input-font-size);\n          font-family: var(--font-family);\n          line-height: var(--line-height);\n          color: var(--input-text);\n          background-color: var(--input-bg);\n          background-clip: padding-box;\n          border: 1px solid var(--input-border);\n          border-radius: var(--input-border-radius);\n          transition: border-color var(--transition-fast), box-shadow var(--transition-fast);\n        }\n\n        e2-app input[type="text"]:focus,\n        e2-app input[type="email"]:focus,\n        e2-app input[type="password"]:focus,\n        e2-app input[type="number"]:focus,\n        e2-app input[type="search"]:focus,\n        e2-app input[type="url"]:focus,\n        e2-app input[type="tel"]:focus,\n        e2-app input[type="date"]:focus,\n        e2-app input[type="time"]:focus,\n        e2-app input[type="datetime-local"]:focus,\n        e2-app textarea:focus,\n        e2-app select:focus {\n          outline: 0;\n          border-color: var(--input-border-focus);\n          box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.25);\n        }\n\n        e2-app input::placeholder,\n        e2-app textarea::placeholder {\n          color: var(--input-placeholder);\n          opacity: 1;\n        }\n\n        e2-app input:disabled,\n        e2-app textarea:disabled,\n        e2-app select:disabled {\n          background-color: var(--bg-tertiary);\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        /* Textarea specific */\n        e2-app textarea {\n          resize: vertical;\n          min-height: 80px;\n        }\n\n        /* Select specific */\n        e2-app select {\n          cursor: pointer;\n        }\n\n        /* Checkbox and Radio Styles */\n        e2-app input[type="checkbox"],\n        e2-app input[type="radio"] {\n          width: 16px;\n          height: 16px;\n          margin: 0 8px 0 0;\n          vertical-align: middle;\n          cursor: pointer;\n          accent-color: var(--accent-color);\n        }\n\n        e2-app input[type="checkbox"]:disabled,\n        e2-app input[type="radio"]:disabled {\n          cursor: not-allowed;\n          opacity: 0.6;\n        }\n\n        /* Range Input */\n        e2-app input[type="range"] {\n          width: 100%;\n          height: 6px;\n          background: var(--bg-tertiary);\n          border-radius: 3px;\n          outline: none;\n          cursor: pointer;\n          accent-color: var(--accent-color);\n        }\n\n        /* File Input */\n        e2-app input[type="file"] {\n          display: block;\n          width: 100%;\n          padding: var(--input-padding);\n          font-size: var(--input-font-size);\n          font-family: var(--font-family);\n          color: var(--input-text);\n          background-color: var(--input-bg);\n          border: 1px solid var(--input-border);\n          border-radius: var(--input-border-radius);\n          cursor: pointer;\n        }\n\n        /* Button Styles */\n        e2-app button,\n        e2-app input[type="button"],\n        e2-app input[type="submit"],\n        e2-app input[type="reset"] {\n          display: inline-block;\n          padding: var(--button-padding);\n          font-size: var(--input-font-size);\n          font-family: var(--font-family);\n          font-weight: 500;\n          line-height: var(--line-height);\n          color: var(--button-text);\n          text-align: center;\n          text-decoration: none;\n          vertical-align: middle;\n          cursor: pointer;\n          background-color: var(--button-bg);\n          border: 1px solid var(--button-border);\n          border-radius: var(--button-border-radius);\n          transition: all var(--transition-fast);\n          user-select: none;\n        }\n\n        e2-app button:hover,\n        e2-app input[type="button"]:hover,\n        e2-app input[type="submit"]:hover,\n        e2-app input[type="reset"]:hover {\n          background-color: var(--button-bg-hover);\n          border-color: var(--border-color-hover);\n        }\n\n        e2-app button:focus,\n        e2-app input[type="button"]:focus,\n        e2-app input[type="submit"]:focus,\n        e2-app input[type="reset"]:focus {\n          outline: 0;\n          box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.25);\n        }\n\n        e2-app button:disabled,\n        e2-app input[type="button"]:disabled,\n        e2-app input[type="submit"]:disabled,\n        e2-app input[type="reset"]:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          pointer-events: none;\n        }\n\n        /* Primary Button Variant */\n        e2-app button.primary,\n        e2-app input[type="submit"] {\n          color: white;\n          background-color: var(--accent-color);\n          border-color: var(--accent-color);\n        }\n\n        e2-app button.primary:hover,\n        e2-app input[type="submit"]:hover {\n          background-color: var(--accent-color-hover);\n          border-color: var(--accent-color-hover);\n        }\n\n        /* Label Styles */\n        e2-app label {\n          display: inline-block;\n          margin-bottom: 4px;\n          font-weight: 500;\n          color: var(--text-primary);\n          cursor: pointer;\n        }\n\n        /* Fieldset and Legend */\n        e2-app fieldset {\n          padding: 16px;\n          margin: 0 0 16px 0;\n          border: 1px solid var(--border-color);\n          border-radius: var(--input-border-radius);\n        }\n\n        e2-app legend {\n          padding: 0 8px;\n          font-weight: 600;\n          color: var(--text-primary);\n        }\n\n        /* Form Groups */\n        e2-app .form-group {\n          margin-bottom: 16px;\n        }\n\n        e2-app .form-group label {\n          display: block;\n          margin-bottom: 4px;\n        }\n\n        /* Utility Classes */\n        e2-app .text-muted {\n          color: var(--text-muted) !important;\n        }\n\n        e2-app .text-primary {\n          color: var(--text-primary) !important;\n        }\n\n        e2-app .text-secondary {\n          color: var(--text-secondary) !important;\n        }\n\n        e2-app .bg-primary {\n          background-color: var(--bg-primary) !important;\n        }\n\n        e2-app .bg-secondary {\n          background-color: var(--bg-secondary) !important;\n        }\n\n        e2-app .border {\n          border: 1px solid var(--border-color) !important;\n        }\n\n        e2-app .rounded {\n          border-radius: var(--input-border-radius) !important;\n        }\n\n        e2-app .shadow {\n          box-shadow: var(--shadow) !important;\n        }\n\n        e2-app .shadow-sm {\n          box-shadow: var(--shadow-sm) !important;\n        }\n\n        e2-app .shadow-lg {\n          box-shadow: var(--shadow-lg) !important;\n        }\n      ',document.head.appendChild(e),this._stylesInitialized=!0}}connectedCallback(){this.id||(this.id=s("e2-app")),this.setupElement(),this.applyTheme(this._theme),"auto"===this._theme&&this.setupAutoTheme(),setTimeout(()=>{g(this,this._theme)},0)}disconnectedCallback(){this.mediaQueryList&&this.mediaQueryList.removeEventListener("change",this.handleThemeChange)}setupAutoTheme(){"undefined"!=typeof window&&window.matchMedia&&(this.mediaQueryList=window.matchMedia("(prefers-color-scheme: dark)"),this.mediaQueryList.addEventListener("change",this.handleThemeChange))}attributeChangedCallback(e,t,n){t!==n&&"theme"===e&&(this.theme=n)}get theme(){return this._theme}set theme(e){const t=this._theme;this._theme=e,this.applyTheme(e),"auto"===e?this.setupAutoTheme():this.mediaQueryList&&(this.mediaQueryList.removeEventListener("change",this.handleThemeChange),this.mediaQueryList=void 0),t!==e&&g(this,e)}applyTheme(e){p(this,e)}setCSSVariable(e,t){this.style.setProperty(`--${e}`,t)}getCSSVariable(e){return getComputedStyle(this).getPropertyValue(`--${e}`).trim()}}customElements.get("e2-app")||customElements.define("e2-app",_);class w extends HTMLElement{static get observedAttributes(){return["theme","disabled","target"]}constructor(){super(),this._theme="auto",this._visible=!1,this._justShown=!1,this.boundContextMenuHandler=this.handleContextMenu.bind(this),this.setupElement(),this.bindEvents()}setupElement(){l(this).innerHTML="\n      <style>\n        :host {\n          position: fixed;\n          z-index: 9999;\n          display: none;\n          min-width: 180px;\n          background: var(--context-menu-bg, #ffffff);\n          border: 1px solid var(--context-menu-border, #d0d0d0);\n          border-radius: 4px;\n          box-shadow: var(--context-menu-shadow, 0 2px 8px rgba(0, 0, 0, 0.15));\n          padding: 4px 0;\n          font-family: inherit;\n          font-size: 14px;\n        }\n\n        :host([visible]) {\n          display: block;\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Light theme */\n        :host(.theme-light) {\n          background: var(--context-menu-bg-light, #ffffff);\n          border-color: var(--context-menu-border-light, #d0d0d0);\n          box-shadow: var(--context-menu-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.15));\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) {\n          background: var(--context-menu-bg-dark, #2a2a2a);\n          border-color: var(--context-menu-border-dark, #444444);\n          box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) {\n            background: var(--context-menu-bg-dark, #2a2a2a);\n            border-color: var(--context-menu-border-dark, #444444);\n            box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n          }\n        }\n\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n      <slot></slot>\n    "}bindEvents(){document.addEventListener("click",this.handleDocumentClick.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this))}connectedCallback(){this.id||(this.id=s("context-menu")),this.hasAttribute("theme")?this.applyTheme(this._theme):(this.applyEffectiveThemeFromTarget(),this._themeCleanup=b(this,e=>{this.applyEffectiveThemeFromTarget()})),this.setupTargetListeners()}disconnectedCallback(){this.removeTargetListeners(),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(this.applyEffectiveThemeFromTarget(),this._themeCleanup=b(this));break;case"target":this.removeTargetListeners(),this.setupTargetListeners();break;case"disabled":null!==n&&this._visible&&this.hide()}}setupTargetListeners(){const e=this.getAttribute("target");e&&document.querySelectorAll(e).forEach(e=>{e.addEventListener("contextmenu",this.boundContextMenuHandler)})}removeTargetListeners(){const e=this.getAttribute("target");e&&document.querySelectorAll(e).forEach(e=>{e.removeEventListener("contextmenu",this.boundContextMenuHandler)})}handleContextMenu(e){if(this.disabled)return;const t=e;t.preventDefault(),t.stopPropagation();const n=t.currentTarget,i=t.componentContext;this.show(t.clientX,t.clientY,n,i)}handleDocumentClick(e){var t,n;if(!this._visible)return;if(this._justShown)return void(this._justShown=!1);const i=e.target;let s=this.contains(i)||(null===(t=this.shadowRoot)||void 0===t?void 0:t.contains(i));if(!s){const e=Array.from(this.querySelectorAll("e2-context-menu-menu"));for(const t of e){const e=null===(n=t.shadowRoot)||void 0===n?void 0:n.querySelector(".submenu");if(e&&e.contains(i)){s=!0;break}}}s||this.hide()}handleKeyDown(e){if(this._visible)switch(e.key){case"Escape":e.preventDefault(),this.hide();break;case"ArrowDown":e.preventDefault(),this.focusNextItem();break;case"ArrowUp":e.preventDefault(),this.focusPreviousItem();break;case"Enter":case" ":e.preventDefault(),this.activateFocusedItem()}}handleWindowResize(){this._visible&&this.hide()}focusNextItem(){const e=this.querySelectorAll("e2-context-menu-item:not([disabled]), e2-context-menu-menu:not([disabled])"),t=Array.from(e).findIndex(e=>{var t;return e===document.activeElement||(null===(t=e.shadowRoot)||void 0===t?void 0:t.activeElement)});e[t<e.length-1?t+1:0].focus()}focusPreviousItem(){const e=this.querySelectorAll("e2-context-menu-item:not([disabled]), e2-context-menu-menu:not([disabled])"),t=Array.from(e).findIndex(e=>{var t;return e===document.activeElement||(null===(t=e.shadowRoot)||void 0===t?void 0:t.activeElement)});e[t>0?t-1:e.length-1].focus()}activateFocusedItem(){const e=document.activeElement;!e||"E2-CONTEXT-MENU-ITEM"!==e.tagName&&"E2-CONTEXT-MENU-MENU"!==e.tagName||e.click()}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get visible(){return this._visible}get target(){return this.getAttribute("target")}set target(e){e?this.setAttribute("target",e):this.removeAttribute("target")}show(e,t,n,i){if(this.disabled)return;this._visible=!0,this.setAttribute("visible",""),this.style.left=`${e}px`,this.style.top=`${t}px`,this.adjustPosition(),this._justShown=!0,setTimeout(()=>{this._justShown=!1},50),this.hasAttribute("theme")||this.applyEffectiveThemeFromTarget(),this.applyTheme(this._theme),requestAnimationFrame(()=>{const e=this.querySelector("e2-context-menu-item:not([disabled]), e2-context-menu-menu:not([disabled])");e&&e.focus()});const s={menuId:this.id,menu:this,x:e,y:t,trigger:n||this};i&&(s.componentContext=i),o(this,"context-menu-show",s)}hide(){this._visible&&(this._visible=!1,this.removeAttribute("visible"),this.querySelectorAll("e2-context-menu-menu").forEach(e=>{"function"==typeof e.resetSubMenuState&&e.resetSubMenuState()}),o(this,"context-menu-hide",{menuId:this.id,menu:this}))}adjustPosition(){const e=this.getBoundingClientRect(),t=window.innerWidth,n=window.innerHeight;let i=parseInt(this.style.left),s=parseInt(this.style.top);i+e.width>t&&(i=t-e.width-10),i<10&&(i=10),s+e.height>n&&(s=n-e.height-10),s<10&&(s=10),this.style.left=`${i}px`,this.style.top=`${s}px`}applyEffectiveThemeFromTarget(){const e=this.getAttribute("target");if(e){const t=document.querySelectorAll(e);if(t.length>0){const e=t[0],n=e.getAttribute("theme");if(n&&["light","dark","auto"].includes(n))return void this.applyTheme(n);const i=this.findParentApp(e);if(i){const e=i.getAttribute("theme");if(e&&["light","dark","auto"].includes(e))return void this.applyTheme(e)}}}m(this)}findParentApp(e){let t=e.parentElement;for(;t;){if("e2-app"===t.tagName.toLowerCase())return t;t=t.parentElement}return null}applyTheme(e){this._theme=e,p(this,e),this.querySelectorAll("e2-context-menu-item, e2-context-menu-separator, e2-context-menu-menu").forEach(t=>{"function"==typeof t.applyTheme&&t.applyTheme(e)})}}customElements.get("e2-context-menu")||customElements.define("e2-context-menu",w);class k extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled","value","shortcut"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          display: block;\n        }\n\n        .item {\n          display: flex;\n          align-items: center;\n          padding: 8px 16px;\n          cursor: pointer;\n          color: var(--context-menu-item-color, #333);\n          background: transparent;\n          border: none;\n          width: 100%;\n          text-align: left;\n          font-family: inherit;\n          font-size: inherit;\n          line-height: 1.4;\n          transition: background-color 0.15s ease;\n          outline: none;\n        }\n\n        .item:hover,\n        .item:focus {\n          background: var(--context-menu-item-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        .item:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .item:disabled:hover {\n          background: transparent;\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          margin-right: 8px;\n          flex-shrink: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .icon:empty {\n          margin-right: 0;\n          width: 0;\n        }\n\n        .content {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          min-width: 0;\n        }\n\n        .label {\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .shortcut {\n          color: var(--context-menu-item-shortcut-color, #666);\n          font-size: 0.85em;\n          margin-left: 12px;\n          flex-shrink: 0;\n        }\n\n        /* Light theme */\n        :host(.theme-light) .item {\n          color: var(--context-menu-item-color-light, #333);\n        }\n\n        :host(.theme-light) .item:hover,\n        :host(.theme-light) .item:focus {\n          background: var(--context-menu-item-hover-bg-light, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-light) .shortcut {\n          color: var(--context-menu-item-shortcut-color-light, #666);\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) .item {\n          color: var(--context-menu-item-color-dark, #fff);\n        }\n\n        :host(.theme-dark) .item:hover,\n        :host(.theme-dark) .item:focus {\n          background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) .shortcut {\n          color: var(--context-menu-item-shortcut-color-dark, #aaa);\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .item {\n            color: var(--context-menu-item-color-dark, #fff);\n          }\n\n          :host(.theme-auto) .item:hover,\n          :host(.theme-auto) .item:focus {\n            background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n          }\n\n          :host(.theme-auto) .shortcut {\n            color: var(--context-menu-item-shortcut-color-dark, #aaa);\n          }\n        }\n      </style>\n      <button class="item" type="button">\n        <span class="icon"></span>\n        <div class="content">\n          <span class="label"></span>\n          <span class="shortcut"></span>\n        </div>\n      </button>\n    ';const t=e.querySelector(".item");t.addEventListener("click",this.handleClick.bind(this)),t.addEventListener("keydown",e=>this.handleKeyDown(e))}connectedCallback(){this.id||(this.id=s("context-menu-item")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.tabIndex=0,this.addEventListener("focus",this.handleFocus.bind(this)),this.updateContent()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this));break;case"label":case"icon":case"shortcut":this.updateContent();break;case"disabled":this.updateDisabledState()}}updateContent(){var e;if(!this.shadowRoot)return;const t=this.shadowRoot.querySelector(".icon"),n=this.shadowRoot.querySelector(".label"),i=this.shadowRoot.querySelector(".shortcut"),s=this.getAttribute("icon");s?(t.textContent=s,t.style.display="flex"):(t.textContent="",t.style.display="none");const o=this.getAttribute("label")||(null===(e=this.textContent)||void 0===e?void 0:e.trim())||"";n.textContent=o;const a=this.getAttribute("shortcut");a?(i.textContent=a,i.style.display="block"):(i.textContent="",i.style.display="none")}updateDisabledState(){this.shadowRoot&&(this.shadowRoot.querySelector(".item").disabled=this.disabled)}handleClick(e){if(this.disabled)return;e.stopPropagation();const t=this.closest("e2-context-menu");o(this,"context-menu-item-click",{itemId:this.id,item:this,menuId:(null==t?void 0:t.id)||"",menu:t,value:this.value}),t&&"function"==typeof t.hide&&t.hide()}handleKeyDown(e){this.disabled||["ArrowDown","ArrowUp","Escape"].includes(e.key)||"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleClick(e))}handleFocus(){this.shadowRoot&&this.shadowRoot.querySelector(".item").focus()}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")||""}set icon(e){e?this.setAttribute("icon",e):this.removeAttribute("icon")}get value(){return this.getAttribute("value")||this.label}set value(e){this.setAttribute("value",e)}get shortcut(){return this.getAttribute("shortcut")||""}set shortcut(e){e?this.setAttribute("shortcut",e):this.removeAttribute("shortcut")}click(){this.disabled||this.handleClick(new Event("click"))}focus(){super.focus(),this.handleFocus()}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-context-menu-item")||customElements.define("e2-context-menu-item",k);class A extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled"]}constructor(){super(),this._theme="auto",this._subMenuVisible=!1,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n        }\n\n        .item {\n          display: flex;\n          align-items: center;\n          padding: 8px 16px;\n          cursor: pointer;\n          color: var(--context-menu-item-color, #333);\n          background: transparent;\n          border: none;\n          width: 100%;\n          text-align: left;\n          font-family: inherit;\n          font-size: inherit;\n          line-height: 1.4;\n          transition: background-color 0.15s ease;\n          outline: none;\n        }\n\n        .item:hover,\n        .item:focus {\n          background: var(--context-menu-item-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        .item:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .item:disabled:hover {\n          background: transparent;\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          margin-right: 8px;\n          flex-shrink: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .icon:empty {\n          margin-right: 0;\n          width: 0;\n        }\n\n        .content {\n          flex: 1;\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          min-width: 0;\n        }\n\n        .label {\n          flex: 1;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        .arrow {\n          color: var(--context-menu-item-shortcut-color, #666);\n          font-size: 0.85em;\n          margin-left: 12px;\n          flex-shrink: 0;\n          width: 12px;\n          height: 12px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .submenu {\n          position: fixed;\n          z-index: 10000;\n          display: none;\n          min-width: 180px;\n          background: var(--context-menu-bg, #ffffff);\n          border: 1px solid var(--context-menu-border, #d0d0d0);\n          border-radius: 4px;\n          box-shadow: var(--context-menu-shadow, 0 2px 8px rgba(0, 0, 0, 0.15));\n          padding: 4px 0;\n          font-family: inherit;\n          font-size: 14px;\n        }\n\n        .submenu.visible {\n          display: block;\n        }\n\n        /* Light theme */\n        :host(.theme-light) .item {\n          color: var(--context-menu-item-color-light, #333);\n        }\n\n        :host(.theme-light) .item:hover,\n        :host(.theme-light) .item:focus {\n          background: var(--context-menu-item-hover-bg-light, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-light) .arrow {\n          color: var(--context-menu-item-shortcut-color-light, #666);\n        }\n\n        :host(.theme-light) .submenu {\n          background: var(--context-menu-bg-light, #ffffff);\n          border-color: var(--context-menu-border-light, #d0d0d0);\n          box-shadow: var(--context-menu-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.15));\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) .item {\n          color: var(--context-menu-item-color-dark, #fff);\n        }\n\n        :host(.theme-dark) .item:hover,\n        :host(.theme-dark) .item:focus {\n          background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) .arrow {\n          color: var(--context-menu-item-shortcut-color-dark, #aaa);\n        }\n\n        :host(.theme-dark) .submenu {\n          background: var(--context-menu-bg-dark, #2a2a2a);\n          border-color: var(--context-menu-border-dark, #444444);\n          box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .item {\n            color: var(--context-menu-item-color-dark, #fff);\n          }\n\n          :host(.theme-auto) .item:hover,\n          :host(.theme-auto) .item:focus {\n            background: var(--context-menu-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n          }\n\n          :host(.theme-auto) .arrow {\n            color: var(--context-menu-item-shortcut-color-dark, #aaa);\n          }\n\n          :host(.theme-auto) .submenu {\n            background: var(--context-menu-bg-dark, #2a2a2a);\n            border-color: var(--context-menu-border-dark, #444444);\n            box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n          }\n        }\n      </style>\n      <button class="item" type="button">\n        <span class="icon"></span>\n        <div class="content">\n          <span class="label"></span>\n          <span class="arrow"></span>\n        </div>\n      </button>\n      <div class="submenu">\n        <slot></slot>\n      </div>\n    ';const t=e.querySelector(".item");t.addEventListener("mouseenter",this.handleMouseEnter.bind(this)),t.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),t.addEventListener("click",this.handleClick.bind(this)),t.addEventListener("keydown",e=>this.handleKeyDown(e));const n=e.querySelector(".submenu");n.addEventListener("mouseenter",this.handleSubMenuMouseEnter.bind(this)),n.addEventListener("mouseleave",this.handleSubMenuMouseLeave.bind(this))}connectedCallback(){var e;this.id||(this.id=s("context-menu-menu")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.tabIndex=0,this.addEventListener("focus",this.handleFocus.bind(this)),this.updateContent(),this._subMenu=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".submenu")}disconnectedCallback(){this._hoverTimeout&&clearTimeout(this._hoverTimeout),this._hideTimeout&&clearTimeout(this._hideTimeout),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this));break;case"label":case"icon":this.updateContent();break;case"disabled":this.updateDisabledState(),null!==n&&this._subMenuVisible&&this.hideSubMenu()}}updateContent(){var e;if(!this.shadowRoot)return;const t=this.shadowRoot.querySelector(".icon"),n=this.shadowRoot.querySelector(".label"),i=this.getAttribute("icon");i?(t.textContent=i,t.style.display="flex"):(t.textContent="",t.style.display="none");const s=this.getAttribute("label")||(null===(e=this.textContent)||void 0===e?void 0:e.trim())||"";n.textContent=s}updateDisabledState(){this.shadowRoot&&(this.shadowRoot.querySelector(".item").disabled=this.disabled)}handleMouseEnter(){this.disabled||(this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=void 0),this._hoverTimeout=window.setTimeout(()=>{this.showSubMenu()},300))}handleMouseLeave(){this.disabled||(this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=void 0),this._hideTimeout=window.setTimeout(()=>{this.hideSubMenu()},300))}handleSubMenuMouseEnter(){this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0)}handleSubMenuMouseLeave(){this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this._hideTimeout=window.setTimeout(()=>{this.hideSubMenu()},300)}handleClick(e){this.disabled||(e.stopPropagation(),this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=void 0),this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this._subMenuVisible?this.hideSubMenu():this.showSubMenu())}handleKeyDown(e){this.disabled||["ArrowDown","ArrowUp","Escape"].includes(e.key)||("ArrowRight"===e.key?(e.preventDefault(),e.stopPropagation(),this.showSubMenu(),requestAnimationFrame(()=>{var e;const t=null===(e=this._subMenu)||void 0===e?void 0:e.querySelector("e2-context-menu-item:not([disabled]), e2-context-menu-menu:not([disabled])");t&&t.focus()})):"ArrowLeft"===e.key?(e.preventDefault(),e.stopPropagation(),this.hideSubMenu()):"Enter"!==e.key&&" "!==e.key||(e.preventDefault(),this.handleClick(e)))}handleFocus(){this.shadowRoot&&this.shadowRoot.querySelector(".item").focus()}showSubMenu(){if(!this._subMenu||this.disabled||this._subMenuVisible)return;this.closeSiblingSubMenus(),this._subMenuVisible=!0,this._subMenu.style.display="",this._subMenu.classList.add("visible"),this.positionSubMenu(),this.applyTheme(this._theme);const e=this.closest("e2-context-menu");o(this,"context-menu-menu-show",{menuId:(null==e?void 0:e.id)||"",menu:e,subMenuId:this.id,subMenu:this,x:parseInt(this._subMenu.style.left)||0,y:parseInt(this._subMenu.style.top)||0,trigger:this})}closeSiblingSubMenus(){const e=this.closest("e2-context-menu");e&&e.querySelectorAll("e2-context-menu-menu").forEach(e=>{e!==this&&(this.contains(e)||e.contains(this)||"function"==typeof e.hideSubMenu&&e.hideSubMenu())})}hideSubMenu(){if(!this._subMenu)return;const e=this._subMenuVisible;this._subMenuVisible=!1,this._subMenu.classList.remove("visible"),this._subMenu.style.display="",this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=void 0),this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this.querySelectorAll("e2-context-menu-menu").forEach(e=>{"function"==typeof e.hideSubMenu&&e.hideSubMenu()});const t=this.closest("e2-context-menu");e&&o(this,"context-menu-menu-hide",{menuId:(null==t?void 0:t.id)||"",menu:t,subMenuId:this.id,subMenu:this})}positionSubMenu(){if(!this._subMenu)return;const e=this.getBoundingClientRect(),t=window.innerWidth,n=window.innerHeight,i=this._subMenu.style.display;this._subMenu.style.visibility="hidden",this._subMenu.style.display="block";const s=this._subMenu.getBoundingClientRect();this._subMenu.style.visibility="",this._subMenu.style.display=i;let o=e.right,a=e.top;o+s.width>t&&(o=e.left-s.width),o<10&&(o=10),a+s.height>n&&(a=n-s.height-10),a<10&&(a=10),this._subMenu.style.left=`${o}px`,this._subMenu.style.top=`${a}px`}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")||""}set icon(e){e?this.setAttribute("icon",e):this.removeAttribute("icon")}get subMenuVisible(){return this._subMenuVisible}resetSubMenuState(){this._subMenuVisible=!1,this._subMenu&&(this._subMenu.classList.remove("visible"),this._subMenu.style.display="none",this._subMenu.style.left="",this._subMenu.style.top=""),this._hoverTimeout&&(clearTimeout(this._hoverTimeout),this._hoverTimeout=void 0),this._hideTimeout&&(clearTimeout(this._hideTimeout),this._hideTimeout=void 0),this.querySelectorAll("e2-context-menu-menu").forEach(e=>{"function"==typeof e.resetSubMenuState&&e.resetSubMenuState()})}focus(){super.focus(),this.handleFocus()}applyTheme(e){this._theme=e,p(this,e),this.querySelectorAll("e2-context-menu-item, e2-context-menu-separator, e2-context-menu-menu").forEach(t=>{"function"==typeof t.applyTheme&&t.applyTheme(e)})}}customElements.get("e2-context-menu-menu")||customElements.define("e2-context-menu-menu",A);class C extends HTMLElement{static get observedAttributes(){return["theme"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: block;\n          margin: 4px 0;\n        }\n\n        .separator {\n          height: 1px;\n          background: var(--context-menu-separator-color, #e0e0e0);\n          margin: 0 8px;\n        }\n\n        /* Light theme */\n        :host(.theme-light) .separator {\n          background: var(--context-menu-separator-color-light, #e0e0e0);\n        }\n\n        /* Dark theme */\n        :host(.theme-dark) .separator {\n          background: var(--context-menu-separator-color-dark, #555);\n        }\n\n        /* Auto theme - follows system preference */\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .separator {\n            background: var(--context-menu-separator-color-dark, #555);\n          }\n        }\n      </style>\n      <div class="separator"></div>\n    '}connectedCallback(){this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){t!==n&&"theme"===e&&(n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this)))}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get disabled(){return!1}set disabled(e){}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-context-menu-separator")||customElements.define("e2-context-menu-separator",C);class E extends HTMLElement{static get observedAttributes(){return["title","message","button-text","theme","type"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --button-bg: #007bff;\n          --button-hover: #0056b3;\n          --button-active: #004085;\n          --icon-info: #17a2b8;\n          --icon-success: #28a745;\n          --icon-warning: #ffc107;\n          --icon-error: #dc3545;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --button-bg: #0d6efd;\n          --button-hover: #0b5ed7;\n          --button-active: #0a58ca;\n          --icon-info: #0dcaf0;\n          --icon-success: #198754;\n          --icon-warning: #fd7e14;\n          --icon-error: #dc3545;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 320px;\n          max-width: 500px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-header {\n          display: flex;\n          align-items: flex-start;\n          gap: 12px;\n          margin-bottom: 16px;\n        }\n\n        .dialog-icon {\n          flex-shrink: 0;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 20px;\n          margin-top: 2px;\n        }\n\n        .dialog-icon.type-info {\n          color: var(--icon-info);\n        }\n\n        .dialog-icon.type-success {\n          color: var(--icon-success);\n        }\n\n        .dialog-icon.type-warning {\n          color: var(--icon-warning);\n        }\n\n        .dialog-icon.type-error {\n          color: var(--icon-error);\n        }\n\n        .dialog-text {\n          flex: 1;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 8px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0;\n          white-space: pre-wrap;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: center;\n          margin-top: 24px;\n        }\n\n        .dialog-button {\n          padding: 10px 24px;\n          border: none;\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: white;\n          font-family: inherit;\n          font-size: 14px;\n          font-weight: 500;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 100px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--button-bg);\n          outline-offset: 2px;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <div class="dialog-header" part="header">\n            <div class="dialog-icon type-info" part="icon"></div>\n            <div class="dialog-text" part="text">\n              <h3 class="dialog-title" part="title">Information</h3>\n              <p class="dialog-message" part="message">This is an alert message.</p>\n            </div>\n          </div>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button" part="button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=e.querySelector("dialog");const t=e.querySelector(".dialog-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),t&&t.addEventListener("click",()=>this.close())}connectedCallback(){this.id||(this.id=s("alert-dialog")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.applyTheme(this._theme),this.updateContent()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"title":case"message":case"button-text":case"type":this.updateContent();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this))}}updateContent(){var e,t,n,i;const s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-title"),o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-message"),a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".dialog-button"),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".dialog-icon");if(s&&(s.textContent=this.getAttribute("title")||this.getDefaultTitle()),o&&(o.textContent=this.getAttribute("message")||"This is an alert message."),a&&(a.textContent=this.getAttribute("button-text")||"OK"),r){const e=this.getAttribute("type")||"info";r.className=`dialog-icon type-${e}`,r.textContent=this.getIconForType(e)}}getDefaultTitle(){switch(this.getAttribute("type")||"info"){case"success":return"Success";case"warning":return"Warning";case"error":return"Error";default:return"Information"}}getIconForType(e){switch(e){case"success":return"";case"warning":return"";case"error":return"";default:return""}}handleClose(){this._resolvePromise&&(this._resolvePromise(),this._resolvePromise=null,this._rejectPromise=null),o(this,"alert-dialog-close",{dialogId:this.id,dialog:this})}handleCancel(e){o(this,"alert-dialog-cancel",{dialogId:this.id,dialog:this})?this.close():e.preventDefault()}close(){var e;this._resolvePromise&&(this._resolvePromise(),this._resolvePromise=null,this._rejectPromise=null),o(this,"alert-dialog-dismiss",{dialogId:this.id,dialog:this}),null===(e=this._nativeDialog)||void 0===e||e.close()}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get title(){return this.getAttribute("title")||this.getDefaultTitle()}set title(e){this.setAttribute("title",e)}get message(){return this.getAttribute("message")||"This is an alert message."}set message(e){this.setAttribute("message",e)}get buttonText(){return this.getAttribute("button-text")||"OK"}set buttonText(e){this.setAttribute("button-text",e)}get type(){return this.getAttribute("type")||"info"}set type(e){this.setAttribute("type",e)}get open(){var e;return(null===(e=this._nativeDialog)||void 0===e?void 0:e.open)||!1}show(){return new Promise((e,t)=>{var n,i;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=e,this._rejectPromise=t,o(this,"alert-dialog-show",{dialogId:this.id,dialog:this}),null===(i=this._nativeDialog)||void 0===i||i.showModal()})}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-alert")||customElements.define("e2-alert",E);class S extends HTMLElement{static get observedAttributes(){return["title","message","confirm-text","cancel-text","theme","danger"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --button-bg: #f8f9fa;\n          --button-border: #e0e0e0;\n          --button-hover: #e9ecef;\n          --button-active: #dee2e6;\n          --confirm-bg: #007bff;\n          --confirm-hover: #0056b3;\n          --confirm-active: #004085;\n          --danger-bg: #dc3545;\n          --danger-hover: #c82333;\n          --danger-active: #bd2130;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --button-bg: #404040;\n          --button-border: #555555;\n          --button-hover: #4a4a4a;\n          --button-active: #555555;\n          --confirm-bg: #0d6efd;\n          --confirm-hover: #0b5ed7;\n          --confirm-active: #0a58ca;\n          --danger-bg: #dc3545;\n          --danger-hover: #bb2d3b;\n          --danger-active: #b02a37;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 320px;\n          max-width: 500px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 16px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0 0 24px 0;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-button {\n          padding: 8px 16px;\n          border: 1px solid var(--button-border);\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 80px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--confirm-bg);\n          outline-offset: 2px;\n        }\n\n        .confirm-button {\n          background: var(--confirm-bg);\n          color: white;\n          border-color: var(--confirm-bg);\n        }\n\n        .confirm-button:hover {\n          background: var(--confirm-hover);\n          border-color: var(--confirm-hover);\n        }\n\n        .confirm-button:active {\n          background: var(--confirm-active);\n          border-color: var(--confirm-active);\n        }\n\n        :host([danger]) .confirm-button {\n          background: var(--danger-bg);\n          border-color: var(--danger-bg);\n        }\n\n        :host([danger]) .confirm-button:hover {\n          background: var(--danger-hover);\n          border-color: var(--danger-hover);\n        }\n\n        :host([danger]) .confirm-button:active {\n          background: var(--danger-active);\n          border-color: var(--danger-active);\n        }\n\n        :host([danger]) .confirm-button:focus {\n          outline-color: var(--danger-bg);\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <h3 class="dialog-title" part="title">Confirm</h3>\n          <p class="dialog-message" part="message">Are you sure?</p>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button cancel-button" part="cancel-button" type="button">\n              Cancel\n            </button>\n            <button class="dialog-button confirm-button" part="confirm-button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=e.querySelector("dialog");const t=e.querySelector(".confirm-button"),n=e.querySelector(".cancel-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),t&&t.addEventListener("click",()=>this.confirm()),n&&n.addEventListener("click",()=>this.cancel())}connectedCallback(){this.id||(this.id=s("confirm-dialog")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.applyTheme(this._theme),this.updateContent()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"title":case"message":case"confirm-text":case"cancel-text":this.updateContent();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this))}}updateContent(){var e,t,n,i;const s=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-title"),o=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-message"),a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button"),r=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".cancel-button");s&&(s.textContent=this.getAttribute("title")||"Confirm"),o&&(o.textContent=this.getAttribute("message")||"Are you sure?"),a&&(a.textContent=this.getAttribute("confirm-text")||"OK"),r&&(r.textContent=this.getAttribute("cancel-text")||"Cancel")}handleClose(){this._resolvePromise&&(this._resolvePromise(!1),this._resolvePromise=null,this._rejectPromise=null),o(this,"confirm-dialog-close",{dialogId:this.id,dialog:this,confirmed:!1})}handleCancel(e){o(this,"confirm-dialog-cancel",{dialogId:this.id,dialog:this})?this.cancel():e.preventDefault()}confirm(){var e;this._resolvePromise&&(this._resolvePromise(!0),this._resolvePromise=null,this._rejectPromise=null),o(this,"confirm-dialog-confirm",{dialogId:this.id,dialog:this,confirmed:!0}),null===(e=this._nativeDialog)||void 0===e||e.close("confirmed")}cancel(){var e;this._resolvePromise&&(this._resolvePromise(!1),this._resolvePromise=null,this._rejectPromise=null),o(this,"confirm-dialog-cancel",{dialogId:this.id,dialog:this,confirmed:!1}),null===(e=this._nativeDialog)||void 0===e||e.close("cancelled")}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get title(){return this.getAttribute("title")||"Confirm"}set title(e){this.setAttribute("title",e)}get message(){return this.getAttribute("message")||"Are you sure?"}set message(e){this.setAttribute("message",e)}get confirmText(){return this.getAttribute("confirm-text")||"OK"}set confirmText(e){this.setAttribute("confirm-text",e)}get cancelText(){return this.getAttribute("cancel-text")||"Cancel"}set cancelText(e){this.setAttribute("cancel-text",e)}get danger(){return this.hasAttribute("danger")}set danger(e){e?this.setAttribute("danger",""):this.removeAttribute("danger")}get open(){var e;return(null===(e=this._nativeDialog)||void 0===e?void 0:e.open)||!1}show(){return new Promise((e,t)=>{var n,i;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=e,this._rejectPromise=t,o(this,"confirm-dialog-show",{dialogId:this.id,dialog:this}),null===(i=this._nativeDialog)||void 0===i||i.showModal()})}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-confirm")||customElements.define("e2-confirm",S);class z extends HTMLElement{static get observedAttributes(){return["title","theme","modal","closable","width","height"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --dialog-header-bg: #f8f9fa;\n          --dialog-header-border: #e0e0e0;\n          --text-color: #333333;\n          --close-button-hover: #f0f0f0;\n          --close-button-active: #e0e0e0;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --dialog-header-bg: #404040;\n          --dialog-header-border: #555555;\n          --text-color: #ffffff;\n          --close-button-hover: #404040;\n          --close-button-active: #555555;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 300px;\n          max-width: calc(100vw - 32px);\n          max-height: calc(100vh - 32px);\n          overflow: hidden;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-header {\n          display: flex;\n          align-items: center;\n          justify-content: space-between;\n          padding: 16px 20px;\n          background: var(--dialog-header-bg);\n          border-bottom: 1px solid var(--dialog-header-border);\n          min-height: 24px;\n        }\n\n        .dialog-title {\n          font-weight: 600;\n          font-size: 16px;\n          margin: 0;\n        }\n\n        .close-button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          width: 28px;\n          height: 28px;\n          border: none;\n          background: transparent;\n          border-radius: 4px;\n          cursor: pointer;\n          color: var(--text-color);\n          font-size: 18px;\n          transition: background-color 0.15s ease;\n        }\n\n        .close-button:hover {\n          background: var(--close-button-hover);\n        }\n\n        .close-button:active {\n          background: var(--close-button-active);\n        }\n\n        .close-button:disabled {\n          opacity: 0.5;\n          cursor: not-allowed;\n        }\n\n        .dialog-content {\n          padding: 20px;\n          overflow-y: auto;\n        }\n\n        .dialog-footer {\n          padding: 16px 20px;\n          border-top: 1px solid var(--dialog-header-border);\n          background: var(--dialog-header-bg);\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-footer:empty {\n          display: none;\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-header" part="header">\n          <h3 class="dialog-title" part="title"></h3>\n          <button class="close-button" part="close-button" type="button" aria-label="Close dialog">\n            \n          </button>\n        </div>\n\n        <div class="dialog-content" part="content">\n          <slot></slot>\n        </div>\n\n        <div class="dialog-footer" part="footer">\n          <slot name="footer"></slot>\n        </div>\n      </dialog>\n    ',this._nativeDialog=e.querySelector("dialog");const t=e.querySelector(".close-button");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),t&&t.addEventListener("click",()=>this.close())}connectedCallback(){this.id||(this.id=s("dialog")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.applyTheme(this._theme)}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"title":this.updateTitle();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this));break;case"modal":break;case"closable":this.updateClosable();break;case"width":case"height":this.updateSize()}}updateTitle(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-title");t&&(t.textContent=this.getAttribute("title")||"")}updateClosable(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".close-button");if(t){const e="false"!==this.getAttribute("closable");t.disabled=!e,t.style.display=e?"flex":"none"}}updateSize(){if(this._nativeDialog){const e=this.getAttribute("width"),t=this.getAttribute("height");e&&(this._nativeDialog.style.width=e.includes("px")||e.includes("%")||e.includes("em")?e:`${e}px`),t&&(this._nativeDialog.style.height=t.includes("px")||t.includes("%")||t.includes("em")?t:`${t}px`)}}handleClose(){var e;o(this,"dialog-close",{dialogId:this.id,dialog:this,returnValue:null===(e=this._nativeDialog)||void 0===e?void 0:e.returnValue})}handleCancel(e){o(this,"dialog-cancel",{dialogId:this.id,dialog:this})||e.preventDefault()}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get title(){return this.getAttribute("title")||""}set title(e){this.setAttribute("title",e)}get modal(){return this.hasAttribute("modal")}set modal(e){e?this.setAttribute("modal",""):this.removeAttribute("modal")}get closable(){return"false"!==this.getAttribute("closable")}set closable(e){this.setAttribute("closable",e.toString())}get open(){var e;return(null===(e=this._nativeDialog)||void 0===e?void 0:e.open)||!1}get returnValue(){var e;return(null===(e=this._nativeDialog)||void 0===e?void 0:e.returnValue)||""}set returnValue(e){this._nativeDialog&&(this._nativeDialog.returnValue=e)}show(){this._nativeDialog&&(o(this,"dialog-show",{dialogId:this.id,dialog:this}),this._nativeDialog.show())}showModal(){this._nativeDialog&&(o(this,"dialog-show",{dialogId:this.id,dialog:this,modal:!0}),this._nativeDialog.showModal())}close(e){this._nativeDialog&&(void 0!==e&&(this._nativeDialog.returnValue=e),this._nativeDialog.close())}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-dialog")||customElements.define("e2-dialog",z);class T extends HTMLElement{static get observedAttributes(){return["title","message","placeholder","default-value","confirm-text","cancel-text","theme","required","multiline","pattern","min-length","max-length"]}constructor(){super(),this._theme="auto",this._nativeDialog=null,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          --dialog-bg: #ffffff;\n          --dialog-border: #e0e0e0;\n          --dialog-shadow: rgba(0, 0, 0, 0.25);\n          --dialog-backdrop: rgba(0, 0, 0, 0.5);\n          --text-color: #333333;\n          --text-secondary: #666666;\n          --input-bg: #ffffff;\n          --input-border: #d0d7de;\n          --input-border-focus: #0969da;\n          --input-border-error: #d1242f;\n          --button-bg: #f8f9fa;\n          --button-border: #e0e0e0;\n          --button-hover: #e9ecef;\n          --button-active: #dee2e6;\n          --confirm-bg: #007bff;\n          --confirm-hover: #0056b3;\n          --confirm-active: #004085;\n          --error-color: #d1242f;\n\n          display: block;\n        }\n\n        :host(.theme-dark) {\n          --dialog-bg: #2d2d2d;\n          --dialog-border: #555555;\n          --dialog-shadow: rgba(0, 0, 0, 0.5);\n          --dialog-backdrop: rgba(0, 0, 0, 0.7);\n          --text-color: #ffffff;\n          --text-secondary: #cccccc;\n          --input-bg: #21262d;\n          --input-border: #30363d;\n          --input-border-focus: #0969da;\n          --input-border-error: #f85149;\n          --button-bg: #404040;\n          --button-border: #555555;\n          --button-hover: #4a4a4a;\n          --button-active: #555555;\n          --confirm-bg: #0d6efd;\n          --confirm-hover: #0b5ed7;\n          --confirm-active: #0a58ca;\n          --error-color: #f85149;\n        }\n\n        dialog {\n          border: 1px solid var(--dialog-border);\n          border-radius: 8px;\n          padding: 0;\n          background: var(--dialog-bg);\n          color: var(--text-color);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          box-shadow: 0 8px 24px var(--dialog-shadow);\n          min-width: 400px;\n          max-width: 600px;\n          animation: dialog-fade-in 0.2s ease-out;\n        }\n\n        dialog::backdrop {\n          background: var(--dialog-backdrop);\n          animation: backdrop-fade-in 0.2s ease-out;\n        }\n\n        @keyframes dialog-fade-in {\n          from {\n            opacity: 0;\n            transform: scale(0.9) translateY(-20px);\n          }\n          to {\n            opacity: 1;\n            transform: scale(1) translateY(0);\n          }\n        }\n\n        @keyframes backdrop-fade-in {\n          from { opacity: 0; }\n          to { opacity: 1; }\n        }\n\n        .dialog-content {\n          padding: 24px;\n        }\n\n        .dialog-title {\n          font-size: 18px;\n          font-weight: 600;\n          margin: 0 0 8px 0;\n          color: var(--text-color);\n        }\n\n        .dialog-message {\n          color: var(--text-secondary);\n          line-height: 1.5;\n          margin: 0 0 16px 0;\n        }\n\n        .dialog-message:empty {\n          display: none;\n        }\n\n        .input-group {\n          margin-bottom: 20px;\n        }\n\n        .dialog-input {\n          width: 100%;\n          padding: 8px 12px;\n          border: 1px solid var(--input-border);\n          border-radius: 4px;\n          background: var(--input-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          transition: border-color 0.15s ease;\n          box-sizing: border-box;\n        }\n\n        .dialog-input:focus {\n          outline: none;\n          border-color: var(--input-border-focus);\n          box-shadow: 0 0 0 2px rgba(9, 105, 218, 0.3);\n        }\n\n        .dialog-input.error {\n          border-color: var(--input-border-error);\n        }\n\n        .dialog-input.error:focus {\n          box-shadow: 0 0 0 2px rgba(209, 36, 47, 0.3);\n        }\n\n        .dialog-textarea {\n          min-height: 80px;\n          resize: vertical;\n          font-family: inherit;\n        }\n\n        .error-message {\n          color: var(--error-color);\n          font-size: 12px;\n          margin-top: 4px;\n          display: none;\n        }\n\n        .error-message.visible {\n          display: block;\n        }\n\n        .dialog-buttons {\n          display: flex;\n          justify-content: flex-end;\n          gap: 12px;\n        }\n\n        .dialog-button {\n          padding: 8px 16px;\n          border: 1px solid var(--button-border);\n          border-radius: 4px;\n          background: var(--button-bg);\n          color: var(--text-color);\n          font-family: inherit;\n          font-size: 14px;\n          cursor: pointer;\n          transition: all 0.15s ease;\n          min-width: 80px;\n        }\n\n        .dialog-button:hover {\n          background: var(--button-hover);\n        }\n\n        .dialog-button:active {\n          background: var(--button-active);\n        }\n\n        .dialog-button:focus {\n          outline: 2px solid var(--confirm-bg);\n          outline-offset: 2px;\n        }\n\n        .dialog-button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .confirm-button {\n          background: var(--confirm-bg);\n          color: white;\n          border-color: var(--confirm-bg);\n        }\n\n        .confirm-button:hover:not(:disabled) {\n          background: var(--confirm-hover);\n          border-color: var(--confirm-hover);\n        }\n\n        .confirm-button:active:not(:disabled) {\n          background: var(--confirm-active);\n          border-color: var(--confirm-active);\n        }\n\n        :host([hidden]) {\n          display: none !important;\n        }\n      </style>\n\n      <dialog part="dialog">\n        <div class="dialog-content" part="content">\n          <h3 class="dialog-title" part="title">Input Required</h3>\n          <p class="dialog-message" part="message"></p>\n\n          <div class="input-group" part="input-group">\n            <input class="dialog-input" part="input" type="text" />\n            <div class="error-message" part="error-message"></div>\n          </div>\n\n          <div class="dialog-buttons" part="buttons">\n            <button class="dialog-button cancel-button" part="cancel-button" type="button">\n              Cancel\n            </button>\n            <button class="dialog-button confirm-button" part="confirm-button" type="button">\n              OK\n            </button>\n          </div>\n        </div>\n      </dialog>\n    ',this._nativeDialog=e.querySelector("dialog");const t=e.querySelector(".confirm-button"),n=e.querySelector(".cancel-button"),i=e.querySelector(".dialog-input");this._nativeDialog&&(this._nativeDialog.addEventListener("close",this.handleClose.bind(this)),this._nativeDialog.addEventListener("cancel",this.handleCancel.bind(this))),t&&t.addEventListener("click",()=>this.confirm()),n&&n.addEventListener("click",()=>this.cancel()),i&&(i.addEventListener("input",this.handleInput.bind(this)),i.addEventListener("keydown",this.handleKeydown.bind(this)))}connectedCallback(){this.id||(this.id=s("prompt-dialog")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.applyTheme(this._theme),this.updateContent()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"title":case"message":case"placeholder":case"default-value":case"confirm-text":case"cancel-text":case"required":case"multiline":case"pattern":case"min-length":case"max-length":this.updateContent();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this))}}updateContent(){var e,t,n,i,s,o,a;const r=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-title"),l=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-message"),h=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button"),d=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(".cancel-button"),c=null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector(".dialog-input");if(r&&(r.textContent=this.getAttribute("title")||"Input Required"),l){const e=this.getAttribute("message")||"";l.textContent=e}if(h&&(h.textContent=this.getAttribute("confirm-text")||"OK"),d&&(d.textContent=this.getAttribute("cancel-text")||"Cancel"),c){const e=this.hasAttribute("multiline"),t=c.tagName.toLowerCase();if(e&&"input"===t){const e=document.createElement("textarea");e.className="dialog-input dialog-textarea",e.setAttribute("part","input"),null===(o=c.parentNode)||void 0===o||o.replaceChild(e,c),this.setupInputElement(e)}else if(e||"textarea"!==t)this.setupInputElement(c);else{const e=document.createElement("input");e.className="dialog-input",e.setAttribute("part","input"),e.type="text",null===(a=c.parentNode)||void 0===a||a.replaceChild(e,c),this.setupInputElement(e)}}}setupInputElement(e){const t=this.getAttribute("placeholder")||"",n=this.getAttribute("default-value")||"",i=this.getAttribute("pattern"),s=this.getAttribute("min-length"),o=this.getAttribute("max-length");e.placeholder=t,e.value=n,i&&e instanceof HTMLInputElement&&(e.pattern=i),s&&(e.minLength=parseInt(s,10)),o&&(e.maxLength=parseInt(o,10)),e.addEventListener("input",this.handleInput.bind(this)),e.addEventListener("keydown",e=>this.handleKeydown(e))}handleInput(){this.validateInput()}handleKeydown(e){"Enter"!==e.key||e.shiftKey||this.hasAttribute("multiline")?"Escape"===e.key&&(e.preventDefault(),this.cancel()):(e.preventDefault(),this.confirm())}validateInput(){var e,t,n;const i=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-input"),s=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".error-message"),o=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(".confirm-button");if(!i||!s||!o)return!1;let a=!0,r="";const l=i.value,h=this.hasAttribute("required"),d=this.getAttribute("pattern"),c=this.getAttribute("min-length"),u=this.getAttribute("max-length");return h&&!l.trim()&&(a=!1,r="This field is required"),a&&d&&l&&!new RegExp(d).test(l)&&(a=!1,r="Invalid format"),a&&c&&l.length<parseInt(c,10)&&(a=!1,r=`Minimum length is ${c} characters`),a&&u&&l.length>parseInt(u,10)&&(a=!1,r=`Maximum length is ${u} characters`),i.classList.toggle("error",!a),s.textContent=r,s.classList.toggle("visible",!a),o.disabled=!a,a}handleClose(){this._resolvePromise&&(this._resolvePromise(null),this._resolvePromise=null,this._rejectPromise=null),o(this,"prompt-dialog-close",{dialogId:this.id,dialog:this,value:null})}handleCancel(e){o(this,"prompt-dialog-cancel",{dialogId:this.id,dialog:this})?this.cancel():e.preventDefault()}confirm(){var e,t;if(!this.validateInput())return;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-input"),i=(null==n?void 0:n.value)||"";this._resolvePromise&&(this._resolvePromise(i),this._resolvePromise=null,this._rejectPromise=null),o(this,"prompt-dialog-confirm",{dialogId:this.id,dialog:this,value:i}),null===(t=this._nativeDialog)||void 0===t||t.close(i)}cancel(){var e;this._resolvePromise&&(this._resolvePromise(null),this._resolvePromise=null,this._rejectPromise=null),o(this,"prompt-dialog-cancel",{dialogId:this.id,dialog:this,value:null}),null===(e=this._nativeDialog)||void 0===e||e.close()}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get title(){return this.getAttribute("title")||"Input Required"}set title(e){this.setAttribute("title",e)}get message(){return this.getAttribute("message")||""}set message(e){this.setAttribute("message",e)}get placeholder(){return this.getAttribute("placeholder")||""}set placeholder(e){this.setAttribute("placeholder",e)}get defaultValue(){return this.getAttribute("default-value")||""}set defaultValue(e){this.setAttribute("default-value",e)}get confirmText(){return this.getAttribute("confirm-text")||"OK"}set confirmText(e){this.setAttribute("confirm-text",e)}get cancelText(){return this.getAttribute("cancel-text")||"Cancel"}set cancelText(e){this.setAttribute("cancel-text",e)}get required(){return this.hasAttribute("required")}set required(e){e?this.setAttribute("required",""):this.removeAttribute("required")}get multiline(){return this.hasAttribute("multiline")}set multiline(e){e?this.setAttribute("multiline",""):this.removeAttribute("multiline")}get value(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-input");return(null==t?void 0:t.value)||""}set value(e){var t;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".dialog-input");n&&(n.value=e,this.validateInput())}get open(){var e;return(null===(e=this._nativeDialog)||void 0===e?void 0:e.open)||!1}show(){return new Promise((e,t)=>{var n,i;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Dialog was replaced by another show() call"))),this._resolvePromise=e,this._rejectPromise=t,o(this,"prompt-dialog-show",{dialogId:this.id,dialog:this}),null===(i=this._nativeDialog)||void 0===i||i.showModal(),setTimeout(()=>{var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".dialog-input");null==t||t.focus(),null==t||t.select()},100)})}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-prompt")||customElements.define("e2-prompt",T);var I=n(304);class $ extends HTMLElement{static get observedAttributes(){return["theme","disabled","readonly","compact","header-title"]}constructor(){super(),this._theme="auto",this._value={},this._valueProxy={},this._schema=null,this._readonly=!1,this._compact=!1,this._headerTitle=null,this._validationErrors=[],this._validator=new I.Validator,this._throttleTimers=new Map,this.setupElement(),this._headerTitle=this.getAttribute("header-title")}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          --spacing: 12px;\n          --border-radius: 6px;\n          --error-color: var(--danger-color, #dc3545);\n          --success-color: var(--success-color, #198754);\n          --warning-color: var(--warning-color, #ffc107);\n\n          display: block;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          color: var(--text-primary, #212529);\n        }\n\n        :host(.theme-dark) {\n          --error-color: var(--danger-color, #f85149);\n          --success-color: var(--success-color, #51cf66);\n          --warning-color: var(--warning-color, #ffd43b);\n          color: var(--text-primary, #e6edf3);\n        }\n\n        :host(.theme-dark) .keyvalue-container {\n          background: var(--bg-primary-dark, #1e1e1e);\n          border-color: var(--border-color-dark, #3e3e42);\n        }\n\n        :host(.theme-dark) .keyvalue-header {\n          background: var(--bg-secondary-dark, #252526);\n          border-bottom-color: var(--border-color-dark, #3e3e42);\n          color: var(--text-secondary-dark, #cccccc);\n        }\n\n        :host(.theme-dark) .field-label {\n          color: var(--text-primary-dark, #e6edf3);\n        }\n\n        :host(.theme-dark) .range-value {\n          color: var(--text-secondary-dark, #cccccc);\n        }\n\n        :host(.theme-dark) .field-description {\n          color: var(--text-secondary-dark, #cccccc);\n        }\n\n        :host(.theme-dark) .nested-section {\n          background: var(--bg-secondary-dark, #252526);\n        }\n\n        :host(.theme-dark) .nested-header {\n          background: transparent;\n          border-bottom-color: var(--border-color-dark, rgba(255, 255, 255, 0.1));\n          color: var(--text-primary-dark, #e6edf3);\n        }\n\n        :host(.theme-dark) .nested-header:hover {\n          background: var(--bg-hover-dark, rgba(255, 255, 255, 0.05));\n        }\n\n        :host(.theme-dark) .nested-content {\n          background: transparent;\n        }\n\n        :host(.theme-dark) .empty-state {\n          color: var(--text-secondary-dark, #cccccc);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .keyvalue-container {\n          background: var(--bg-primary, #ffffff);\n          border: 1px solid var(--border-color, #dee2e6);\n          border-radius: var(--border-radius);\n          overflow: hidden;\n        }\n\n        .keyvalue-header {\n          background: var(--bg-secondary, #f8f9fa);\n          border-bottom: 1px solid var(--border-color, #dee2e6);\n          padding: var(--spacing);\n          font-weight: 600;\n          font-size: 13px;\n          text-transform: uppercase;\n          letter-spacing: 0.5px;\n          color: var(--text-secondary, #6c757d);\n        }\n\n        .keyvalue-content {\n          padding: 0;\n        }\n\n        .field-row {\n          display: flex;\n          align-items: flex-start;\n          margin: var(--spacing);\n          gap: var(--spacing);\n        }\n\n        :host([compact]) .field-row {\n          margin: calc(var(--spacing) / 2) var(--spacing);\n        }\n\n        .field-label {\n          flex: 0 0 30%;\n          font-weight: 500;\n          color: var(--text-primary, #212529);\n          padding: 8px 0;\n          line-height: 1.4;\n          cursor: pointer;\n        }\n\n        :host([compact]) .field-label {\n          padding: 4px 0;\n        }\n\n        .field-input {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        /* Input controls - inherit e2-app styles via CSS custom properties */\n        .input-control {\n          display: block;\n          width: 100%;\n          box-sizing: border-box;\n          padding: var(--input-padding, 6px 12px);\n          font-size: var(--input-font-size, 14px);\n          font-family: var(--font-family, system-ui, sans-serif);\n          line-height: var(--line-height, 1.4);\n          color: var(--input-text, #212529);\n          background-color: var(--input-bg, #ffffff);\n          background-clip: padding-box;\n          border: 1px solid var(--input-border, #ced4da);\n          border-radius: var(--input-border-radius, 4px);\n          transition: border-color var(--transition-fast, 0.15s ease-in-out), box-shadow var(--transition-fast, 0.15s ease-in-out);\n        }\n\n        .input-control:focus {\n          outline: 0;\n          border-color: var(--input-border-focus, #86b7fe);\n          box-shadow: 0 0 0 2px rgba(13, 110, 253, 0.25);\n        }\n\n        .input-control::placeholder {\n          color: var(--input-placeholder, #6c757d);\n          opacity: 1;\n        }\n\n        .input-control:disabled {\n          background-color: var(--bg-tertiary, #e9ecef);\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        .input-control.error {\n          border-color: var(--error-color) !important;\n        }\n\n        .input-control.error:focus {\n          border-color: var(--error-color) !important;\n          box-shadow: 0 0 0 2px color-mix(in srgb, var(--error-color) 25%, transparent) !important;\n        }\n\n        /* Special styling for specific input types */\n        .input-control[type="color"] {\n          width: 60px;\n          height: 38px;\n          padding: 4px;\n          cursor: pointer;\n        }\n\n        .input-control[type="range"] {\n          height: auto;\n          padding: 0;\n          background: var(--bg-tertiary, #e9ecef);\n          cursor: pointer;\n          accent-color: var(--accent-color, #0d6efd);\n        }\n\n        .input-control[type="checkbox"] {\n          width: 16px;\n          height: 16px;\n          margin: 0;\n          position: relative;\n          top: 0.5em;\n          cursor: pointer;\n          accent-color: var(--accent-color, #0d6efd);\n        }\n\n        .input-control[type="checkbox"]:disabled {\n          cursor: not-allowed;\n          opacity: 0.6;\n        }\n\n        .input-control[type="file"] {\n          cursor: pointer;\n        }\n\n        /* Textarea specific */\n        textarea.input-control {\n          resize: vertical;\n          min-height: 80px;\n        }\n\n        /* Select specific */\n        select.input-control {\n          cursor: pointer;\n        }\n\n        .range-container {\n          display: flex;\n          flex-direction: column;\n          gap: 8px;\n        }\n\n        .range-slider-row {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .range-slider-wrapper {\n          flex: 1;\n          display: flex;\n          flex-direction: column;\n          gap: 4px;\n        }\n\n        .range-slider-track {\n          position: relative;\n          display: flex;\n          align-items: center;\n        }\n\n        .range-slider-track input[type="range"] {\n          flex: 1;\n        }\n\n        .range-markers {\n          display: flex;\n          justify-content: space-between;\n          font-size: 11px;\n          color: var(--text-secondary, #6c757d);\n          padding: 0 2px;\n        }\n\n        .range-number-input {\n          width: 80px;\n          flex-shrink: 0;\n        }\n\n        .field-error {\n          color: var(--error-color);\n          font-size: 12px;\n          margin-top: 2px;\n          font-weight: 500;\n        }\n\n        .field-description {\n          color: var(--text-secondary, #6c757d);\n          font-size: 12px;\n          margin-top: 2px;\n          line-height: 1.3;\n        }\n\n        .nested-section {\n          background: var(--bg-secondary, #f8f9fa);\n          overflow: hidden;\n        }\n\n        .nested-header {\n          background: transparent;\n          border-bottom: 1px solid var(--border-color, rgba(0, 0, 0, 0.1));\n          padding: var(--spacing);\n          cursor: pointer;\n          user-select: none;\n          display: flex;\n          align-items: center;\n          gap: var(--spacing);\n          font-weight: 500;\n          transition: background-color var(--transition-fast, 0.15s ease-in-out);\n        }\n\n        .nested-header:hover {\n          background: var(--bg-hover, rgba(0, 0, 0, 0.05));\n        }\n\n        .nested-toggle {\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: transform 0.2s ease;\n        }\n\n        .nested-section.expanded .nested-toggle {\n          transform: rotate(90deg);\n        }\n\n        .nested-content {\n          padding: var(--spacing);\n          display: none;\n          background: transparent;\n        }\n\n        .nested-section.expanded .nested-content {\n          display: block;\n        }\n\n        .empty-state {\n          text-align: center;\n          color: var(--text-secondary, #6c757d);\n          padding: calc(var(--spacing) * 3) var(--spacing);\n          font-style: italic;\n        }\n\n        .function-button {\n          display: inline-block;\n          padding: var(--input-padding, 6px 12px);\n          font-size: var(--input-font-size, 14px);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-weight: 500;\n          line-height: var(--line-height, 1.4);\n          color: var(--button-text, #ffffff);\n          background-color: var(--accent-color, #0d6efd);\n          border: 1px solid var(--accent-color, #0d6efd);\n          border-radius: var(--input-border-radius, 4px);\n          cursor: pointer;\n          transition: background-color var(--transition-fast, 0.15s ease-in-out), border-color var(--transition-fast, 0.15s ease-in-out);\n          user-select: none;\n        }\n\n        .function-button:hover:not(:disabled) {\n          background-color: color-mix(in srgb, var(--accent-color, #0d6efd) 85%, black);\n          border-color: color-mix(in srgb, var(--accent-color, #0d6efd) 85%, black);\n        }\n\n        .function-button:active:not(:disabled) {\n          background-color: color-mix(in srgb, var(--accent-color, #0d6efd) 75%, black);\n          border-color: color-mix(in srgb, var(--accent-color, #0d6efd) 75%, black);\n        }\n\n        .function-button:disabled {\n          background-color: var(--bg-tertiary, #e9ecef);\n          border-color: var(--bg-tertiary, #e9ecef);\n          color: var(--text-secondary, #6c757d);\n          cursor: not-allowed;\n          opacity: 0.6;\n        }\n\n        /* Array editor styles */\n        .array-section {\n          background: var(--bg-secondary, #f8f9fa);\n          overflow: hidden;\n        }\n\n        .array-header {\n          background: transparent;\n          border-bottom: 1px solid var(--border-color, rgba(0, 0, 0, 0.1));\n          padding: var(--spacing);\n          cursor: pointer;\n          user-select: none;\n          display: flex;\n          align-items: center;\n          gap: var(--spacing);\n          font-weight: 500;\n          transition: background-color var(--transition-fast, 0.15s ease-in-out);\n        }\n\n        .array-header:hover {\n          background: var(--bg-hover, rgba(0, 0, 0, 0.05));\n        }\n\n        .array-toggle {\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          transition: transform 0.2s ease;\n        }\n\n        .array-section.expanded .array-toggle {\n          transform: rotate(90deg);\n        }\n\n        .array-count {\n          color: var(--text-secondary, #6c757d);\n          font-size: 12px;\n          font-weight: normal;\n        }\n\n        .array-content {\n          padding: var(--spacing);\n          display: none;\n          background: transparent;\n        }\n\n        .array-section.expanded .array-content {\n          display: block;\n        }\n\n        .array-items {\n          display: flex;\n          flex-direction: column;\n          gap: calc(var(--spacing) / 2);\n          margin-bottom: var(--spacing);\n        }\n\n        .array-item {\n          display: flex;\n          align-items: center;\n          gap: calc(var(--spacing) / 2);\n          background: var(--bg-primary, #ffffff);\n          padding: calc(var(--spacing) / 2);\n          border-radius: calc(var(--border-radius) / 2);\n          border: 1px solid var(--border-color, #dee2e6);\n        }\n\n        :host(.theme-dark) .array-section {\n          background: var(--bg-secondary-dark, #252526);\n        }\n\n        :host(.theme-dark) .array-header {\n          border-bottom-color: var(--border-color-dark, #3e3e42);\n          color: var(--text-primary-dark, #e6edf3);\n        }\n\n        :host(.theme-dark) .array-header:hover {\n          background: var(--bg-hover-dark, rgba(255, 255, 255, 0.05));\n        }\n\n        :host(.theme-dark) .array-item {\n          background: var(--bg-primary-dark, #1e1e1e);\n          border-color: var(--border-color-dark, #3e3e42);\n        }\n\n        .array-item-index {\n          flex: 0 0 30px;\n          font-size: 12px;\n          color: var(--text-secondary, #6c757d);\n          text-align: right;\n          font-weight: 500;\n        }\n\n        .array-item-input {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .array-item-controls {\n          flex: 0 0 auto;\n          display: flex;\n          gap: 4px;\n        }\n\n        .array-item-button {\n          width: 28px;\n          height: 28px;\n          padding: 0;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 14px;\n          background: var(--bg-secondary, #f8f9fa);\n          border: 1px solid var(--border-color, #dee2e6);\n          border-radius: calc(var(--border-radius) / 2);\n          cursor: pointer;\n          transition: background-color var(--transition-fast, 0.15s ease-in-out);\n          user-select: none;\n        }\n\n        .array-item-button:hover:not(:disabled) {\n          background: var(--bg-tertiary, #e9ecef);\n        }\n\n        .array-item-button:active:not(:disabled) {\n          background: var(--bg-hover, #dee2e6);\n        }\n\n        .array-item-button:disabled {\n          opacity: 0.4;\n          cursor: not-allowed;\n        }\n\n        .array-item-button.danger:hover:not(:disabled) {\n          background: var(--error-color);\n          border-color: var(--error-color);\n          color: white;\n        }\n\n        :host(.theme-dark) .array-item-button {\n          background: var(--bg-tertiary-dark, #333333);\n          border-color: var(--border-color-dark, #3e3e42);\n          color: var(--text-primary-dark, #e6edf3);\n        }\n\n        :host(.theme-dark) .array-item-button:hover:not(:disabled) {\n          background: var(--bg-hover-dark, #404040);\n        }\n\n        .array-add-button {\n          width: 100%;\n          padding: var(--input-padding, 6px 12px);\n          font-size: var(--input-font-size, 14px);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-weight: 500;\n          line-height: var(--line-height, 1.4);\n          color: var(--accent-color, #0d6efd);\n          background-color: transparent;\n          border: 1px dashed var(--accent-color, #0d6efd);\n          border-radius: var(--input-border-radius, 4px);\n          cursor: pointer;\n          transition: background-color var(--transition-fast, 0.15s ease-in-out), border-color var(--transition-fast, 0.15s ease-in-out);\n          user-select: none;\n        }\n\n        .array-add-button:hover:not(:disabled) {\n          background-color: color-mix(in srgb, var(--accent-color, #0d6efd) 10%, transparent);\n          border-style: solid;\n        }\n\n        .array-add-button:active:not(:disabled) {\n          background-color: color-mix(in srgb, var(--accent-color, #0d6efd) 20%, transparent);\n        }\n\n        .array-add-button:disabled {\n          opacity: 0.4;\n          cursor: not-allowed;\n        }\n\n        .array-empty {\n          text-align: center;\n          color: var(--text-secondary, #6c757d);\n          padding: var(--spacing);\n          font-style: italic;\n          font-size: 13px;\n        }\n      </style>\n\n      <div class="keyvalue-container">\n        <div class="keyvalue-header">Properties</div>\n        <div class="keyvalue-content">\n          <div class="empty-state">No properties to display</div>\n        </div>\n      </div>\n    '}throttleUpdate(e,t,n=16){const i=Date.now();i-(this._throttleTimers.get(e)||0)>=n&&(this._throttleTimers.set(e,i),t())}setupValueProxy(){const e=this;this._valueProxy=new Proxy(this._value,{set(t,n,i){if("string"==typeof n){const s=t[n];t[n]=i,e.dispatchChangeEvent(n,s,i,[n]),e.updateInputValue(n,i),e.validateField(n)}return!0},deleteProperty(t,n){if("string"==typeof n&&n in t){const i=t[n];delete t[n],e.dispatchChangeEvent(n,i,void 0,[n]),e.render()}return!0}})}setupEventListeners(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".keyvalue-content");t&&t.addEventListener("contextmenu",this.handleContextMenu.bind(this))}handleContextMenu(e){const t=e,n=t.target.closest(".field-row");let i=null,o=null,a=[],r=null;if(n){const e=n.querySelector("input, select, textarea"),t=n.querySelector(".field-label");if(e&&e.id.startsWith("field-"))i=e.id.replace("field-",""),o=this._value[i],r=e.type||e.tagName.toLowerCase(),a=[i];else if(t){const e=t.getAttribute("for");e&&e.startsWith("field-")&&(i=e.replace("field-",""),o=this._value[i],r="unknown",a=[i])}}const l={componentType:"keyvalue-editor",componentId:this.id||s(),component:this,key:i,value:o,path:a,fieldType:r};t.componentContext=l}connectedCallback(){this.id||(this.id=s("keyvalue-editor")),this.setupValueProxy(),this.setupEventListeners(),this.render(),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"readonly":this._readonly=null!==n,this.render();break;case"compact":this._compact=null!==n;break;case"header-title":this._headerTitle=n,this.render()}}applyTheme(e){p(this,e)}render(){const e=this.shadowRoot,t=(e.querySelector(".keyvalue-container"),e.querySelector(".keyvalue-content")),n=e.querySelector(".keyvalue-header");if(null!==this._headerTitle){const e=""===this._headerTitle?"Properties":this._headerTitle;n.textContent=e,n.style.display="block"}else n.style.display="none";0!==Object.keys(this._value).length?t.innerHTML=this.renderFields():t.innerHTML='<div class="empty-state">No properties to display</div>'}renderFields(){var e,t;const n=[];for(const[i,s]of Object.entries(this._value)){const o=null===(t=null===(e=this._schema)||void 0===e?void 0:e.properties)||void 0===t?void 0:t[i];n.push(this.renderField(i,s,o,[]))}return n.join("")}renderField(e,t,n,i=[]){if("function"==typeof t)return this.renderFunctionField(e,t,n,i);if(Array.isArray(t)&&this.isSimpleArray(t,n))return this.renderArrayField(e,t,n,i);if("object"==typeof t&&null!==t&&!Array.isArray(t))return this.renderNestedField(e,t,n,i);const s=(null==n?void 0:n.title)||this.formatLabel(e),o=null==n?void 0:n.description,a=[...i,e],r=this._validationErrors.find(t=>t.key===e&&JSON.stringify(t.path)===JSON.stringify(a)),l=this.getInputType(t,n),h=`field-${a.join("-")}`;return`\n      <div class="field-row">\n        <label class="field-label" for="${h}">${s}</label>\n        <div class="field-input">\n          ${this.renderInput(h,a,t,n,l)}\n          ${o?`<div class="field-description">${o}</div>`:""}\n          ${r?`<div class="field-error">${r.message}</div>`:""}\n        </div>\n      </div>\n    `}renderNestedField(e,t,n,i=[]){const s=[...i,e];return`\n      <div class="nested-section expanded">\n        <div class="nested-header" onclick="this.parentElement.classList.toggle('expanded')">\n          <span class="nested-toggle"></span>\n          <span>${(null==n?void 0:n.title)||this.formatLabel(e)}</span>\n        </div>\n        <div class="nested-content">\n          ${this.renderNestedFields(t,null==n?void 0:n.properties,s)}\n        </div>\n      </div>\n    `}renderNestedFields(e,t,n=[]){const i=[];for(const[s,o]of Object.entries(e)){const e=null==t?void 0:t[s];("object"!=typeof o||null===o||Array.isArray(o))&&i.push(this.renderField(s,o,e,n))}return i.join("")}isSimpleArray(e,t){if(0===e.length){if(null==t?void 0:t.items){const e=t.items.type;return["string","number","integer","boolean"].includes(e)}return!0}for(const t of e)if(null!=t&&"object"==typeof t)return!1;return!0}renderArrayField(e,t,n,i=[]){const s=(null==n?void 0:n.title)||this.formatLabel(e),o=[...i,e],a=t.length,r=null==n?void 0:n.items,l=this.disabled||this._readonly,h=this.getDefaultArrayItemValue(t,r),d=JSON.stringify(o).replace(/"/g,"&quot;");let c="";if(0===t.length)c='<div class="array-empty">No items</div>';else{c='<div class="array-items">';for(let e=0;e<t.length;e++)c+=this.renderArrayItem(o,e,t[e],r,t.length);c+="</div>"}const u=null==n?void 0:n.description;return`\n      <div class="array-section expanded">\n        <div class="array-header" onclick="this.parentElement.classList.toggle('expanded')">\n          <span class="array-toggle"></span>\n          <span>${s}</span>\n          <span class="array-count">(${a} ${1===a?"item":"items"})</span>\n        </div>\n        <div class="array-content">\n          ${u?`<div class="field-description" style="margin-bottom: var(--spacing);">${u}</div>`:""}\n          ${c}\n          <button\n            class="array-add-button"\n            ${l?"disabled":""}\n            onclick="this.getRootNode().host.addArrayItem(JSON.parse('${d}'), ${JSON.stringify(h).replace(/"/g,"&quot;")})">\n            + Add Item\n          </button>\n        </div>\n      </div>\n    `}renderArrayItem(e,t,n,i,s=1){const o=[...e,t.toString()],a=this.getInputType(n,i),r=`field-${o.join("-")}`,l=this.disabled||this._readonly,h=JSON.stringify(e).replace(/"/g,"&quot;"),d=t>0,c=t<s-1;return`\n      <div class="array-item">\n        <span class="array-item-index">${t}</span>\n        <div class="array-item-input">\n          ${this.renderInput(r,o,n,i,a)}\n        </div>\n        <div class="array-item-controls">\n          <button\n            class="array-item-button"\n            title="Move up"\n            ${l||!d?"disabled":""}\n            onclick="this.getRootNode().host.moveArrayItem(JSON.parse('${h}'), ${t}, 'up')">\n            \n          </button>\n          <button\n            class="array-item-button"\n            title="Move down"\n            ${l||!c?"disabled":""}\n            onclick="this.getRootNode().host.moveArrayItem(JSON.parse('${h}'), ${t}, 'down')">\n            \n          </button>\n          <button\n            class="array-item-button danger"\n            title="Remove item"\n            ${l?"disabled":""}\n            onclick="this.getRootNode().host.removeArrayItem(JSON.parse('${h}'), ${t})">\n            \n          </button>\n        </div>\n      </div>\n    `}getDefaultArrayItemValue(e,t){var n,i,s;if(null==t?void 0:t.type)switch(t.type){case"string":return null!==(n=t.default)&&void 0!==n?n:"";case"number":case"integer":return null!==(i=t.default)&&void 0!==i?i:0;case"boolean":return null!==(s=t.default)&&void 0!==s&&s}if(e.length>0)switch(typeof e[e.length-1]){case"number":return 0;case"boolean":return!1;default:return""}return""}renderFunctionField(e,t,n,i=[]){const s=(null==n?void 0:n.title)||this.formatLabel(e),o=null==n?void 0:n.description,a=[...i,e];return`\n      <div class="field-row">\n        <label class="field-label">${s}</label>\n        <div class="field-input">\n          <button\n            class="function-button"\n            ${this.disabled||this._readonly?"disabled":""}\n            onclick="this.getRootNode().host.callFunction(JSON.parse('${JSON.stringify(a).replace(/"/g,"&quot;")}'))">\n            ${s}\n          </button>\n          ${o?`<div class="field-description">${o}</div>`:""}\n        </div>\n      </div>\n    `}renderInput(e,t,n,i,s="text"){var o;const a=this.disabled||this._readonly,r=t[t.length-1],l=this._validationErrors.some(e=>e.key===r&&JSON.stringify(e.path)===JSON.stringify(t))?" error":"",h=JSON.stringify(t).replace(/"/g,"&quot;");switch(s){case"checkbox":return`<input type="checkbox" id="${e}" class="input-control${l}" ${n?"checked":""} ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.checked)">`;case"number":const s=void 0!==(null==i?void 0:i.minimum)?`min="${i.minimum}"`:"",r=void 0!==(null==i?void 0:i.maximum)?`max="${i.maximum}"`:"",d="integer"===(null==i?void 0:i.type)?'step="1"':(null==i?void 0:i.multipleOf)?`step="${i.multipleOf}"`:"";return`<input type="number" id="${e}" class="input-control${l}" value="${null!=n?n:""}" ${s} ${r} ${d} ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.valueAsNumber)">`;case"range":const c=void 0!==(null==i?void 0:i.minimum)?i.minimum:0,u=void 0!==(null==i?void 0:i.maximum)?i.maximum:100,p="integer"===(null==i?void 0:i.type)?"1":(null==i?void 0:i.multipleOf)?i.multipleOf.toString():"0.01",m=null!=n?n:c,b=`${e}-slider`,g=`${e}-number`;return`\n          <div class="range-container">\n            <div class="range-slider-row">\n              <div class="range-slider-wrapper">\n                <div class="range-slider-track">\n                  <input\n                    type="range"\n                    id="${b}"\n                    class="input-control${l}"\n                    value="${m}"\n                    min="${c}"\n                    max="${u}"\n                    step="${p}"\n                    ${a?"disabled":""}\n                    oninput="this.getRootNode().host.handleSliderInput(JSON.parse('${h}'), this.value, '${g}')">\n                </div>\n                <div class="range-markers">\n                  <span>${c}</span>\n                  <span>${u}</span>\n                </div>\n              </div>\n              <input\n                type="number"\n                id="${g}"\n                class="input-control range-number-input${l}"\n                value="${m}"\n                min="${c}"\n                max="${u}"\n                step="${p}"\n                ${a?"disabled":""}\n                oninput="this.getRootNode().host.handleNumberInput(JSON.parse('${h}'), this.value, '${b}')">\n            </div>\n          </div>\n        `;case"color":return`<input type="color" id="${e}" class="input-control${l}" value="${n||"#000000"}" ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"date":return`<input type="date" id="${e}" class="input-control${l}" value="${n||""}" ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"time":return`<input type="time" id="${e}" class="input-control${l}" value="${n||""}" ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"datetime-local":return`<input type="datetime-local" id="${e}" class="input-control${l}" value="${n||""}" ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"email":const f=(null==i?void 0:i.pattern)||"";return`<input type="email" id="${e}" class="input-control${l}" value="${n||""}" ${f?`pattern="${f}"`:""} ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"url":return`<input type="url" id="${e}" class="input-control${l}" value="${n||""}" ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"tel":const v=(null==i?void 0:i.pattern)||"";return`<input type="tel" id="${e}" class="input-control${l}" value="${n||""}" ${v?`pattern="${v}"`:""} ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`;case"select":return`<select id="${e}" class="input-control${l}" ${a?"disabled":""} onchange="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">${(null===(o=null==i?void 0:i.enum)||void 0===o?void 0:o.map(e=>`<option value="${e}" ${e===n?"selected":""}>${this.formatEnumOption(e)}</option>`).join(""))||""}</select>`;case"textarea":return`<textarea id="${e}" class="input-control${l}" rows="${(null==i?void 0:i.maxLength)&&i.maxLength>100?"4":"2"}" ${(null==i?void 0:i.maxLength)?`maxlength="${i.maxLength}"`:""} ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">${n||""}</textarea>`;default:const y=(null==i?void 0:i.pattern)?`pattern="${i.pattern}"`:"",x=(null==i?void 0:i.maxLength)?`maxlength="${i.maxLength}"`:"",_=(null==i?void 0:i.minLength)?`minlength="${i.minLength}"`:"";return(null==i?void 0:i.maxLength)&&i.maxLength>100?this.renderInput(e,t,n,i,"textarea"):`<input type="text" id="${e}" class="input-control${l}" value="${null!=n?n:""}" ${y} ${x} ${_} ${a?"disabled":""} oninput="this.getRootNode().host.updateValueByPath(JSON.parse('${h}'), this.value)">`}}formatEnumOption(e){return"string"==typeof e?e.replace(/([A-Z])/g," $1").replace(/_/g," ").replace(/^./,e=>e.toUpperCase()).trim():String(e)}getInputType(e,t){if((null==t?void 0:t.enum)&&Array.isArray(t.enum))return"select";if(null==t?void 0:t.format)switch(t.format){case"email":return"email";case"uri":case"url":return"url";case"date":return"date";case"time":return"time";case"date-time":return"datetime-local";case"color":return"color";case"tel":case"telephone":return"tel"}if("number"===(null==t?void 0:t.type)||"integer"===(null==t?void 0:t.type))return void 0!==t.minimum&&void 0!==t.maximum?"range":"number";switch(typeof e){case"boolean":return"checkbox";case"number":return void 0!==(null==t?void 0:t.minimum)&&void 0!==(null==t?void 0:t.maximum)?"range":"number";default:if("string"==typeof e){if(e.includes("@")&&e.includes("."))return"email";if(e.startsWith("http")||e.startsWith("www."))return"url";if(e.match(/^#[0-9a-fA-F]{6}$/))return"color";if(e.match(/^\d{4}-\d{2}-\d{2}$/))return"date";if(e.match(/^\d{2}:\d{2}(:\d{2})?$/))return"time";if(e.match(/^\+?\d{10,}$/))return"tel"}return"text"}}formatLabel(e){return e.replace(/([A-Z])/g," $1").replace(/^./,e=>e.toUpperCase()).trim()}dispatchChangeEvent(e,t,n,i){o(this,"keyvalue-change",{key:e,oldValue:t,newValue:n,path:i,isValid:this.isValid()})}validateField(e){this.validateFieldByPath([e])}validateFieldByPath(e){const t=e[e.length-1];this._validationErrors=this._validationErrors.filter(n=>!(n.key===t&&JSON.stringify(n.path)===JSON.stringify(e)));let n=this._value;for(const t of e){if(!n||"object"!=typeof n){n=void 0;break}n=n[t]}let i=this._schema;for(let t=0;t<e.length&&i;t++){if(!i.properties){i=void 0;break}i=i.properties[e[t]]}if(!i)return;const s=this.validateValue(t,n,i,e);this._validationErrors.push(...s),this.updateFieldErrorDisplayByPath(e),o(this,"keyvalue-validation",{isValid:0===this._validationErrors.length,errors:this._validationErrors})}updateInputValue(e,t){this.updateInputValueByPath([e],t)}updateInputValueByPath(e,t){var n,i,s;const o=`field-${e.join("-")}`,a=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(`#${o}`);if(a)if("checkbox"===a.type)a.checked=Boolean(t);else if("range"===a.type){const e=a,n=String(null!=t?t:0);e.value=n;const s=a.id.replace("-slider","-number"),o=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(`#${s}`);o&&(o.value=n)}else if("number"===a.type&&a.id.includes("-number")){const e=a,n=String(null!=t?t:0);e.value=n;const i=a.id.replace("-number","-slider"),o=null===(s=this.shadowRoot)||void 0===s?void 0:s.querySelector(`#${i}`);o&&(o.value=n)}else{const e=null==t?"":String(t);a.value!==e&&(a.value=e)}}updateFieldErrorDisplay(e){this.updateFieldErrorDisplayByPath([e])}updateFieldErrorDisplayByPath(e){var t,n,i;const s=e[e.length-1],o=`field-${e.join("-")}`,a=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(`#${o}`);a&&(this._validationErrors.some(t=>t.key===s&&JSON.stringify(t.path)===JSON.stringify(e))?a.classList.add("error"):a.classList.remove("error"));const r=null===(i=null===(n=this.shadowRoot)||void 0===n?void 0:n.querySelector(`label[for="${o}"]`))||void 0===i?void 0:i.closest(".field-row");if(!r)return;const l=r.querySelector(".field-input");if(!l)return;const h=l.querySelector(".field-error");h&&h.remove();const d=this._validationErrors.find(t=>t.key===s&&JSON.stringify(t.path)===JSON.stringify(e));if(d){const e=document.createElement("div");e.className="field-error",e.textContent=d.message,l.appendChild(e)}}validateValue(e,t,n,i){var s;const o=[];if(this._schema){const a={[e]:t},r={type:"object",properties:{[e]:n},required:(null===(s=this._schema.required)||void 0===s?void 0:s.includes(e))?[e]:[]},l=this._validator.validate(a,r);if(!l.valid)for(const t of l.errors){let s=this.formatValidationError(t,n);o.push({key:e,path:i,message:s})}}return o}formatValidationError(e,t){var n;const{name:i,message:s,argument:o}=e;switch(i){case"required":return"This field is required";case"type":const e=o;switch(e){case"string":return"Must be text";case"number":return"Must be a number";case"integer":return"Must be a whole number";case"boolean":return"Must be true or false";default:return`Must be a ${e}`}case"minimum":return`Must be at least ${o}`;case"maximum":return`Must be no more than ${o}`;case"minLength":return`Must be at least ${o} characters long`;case"maxLength":return`Must be no more than ${o} characters long`;case"pattern":if(null==t?void 0:t.format)switch(t.format){case"email":return"Must be a valid email address";case"uri":case"url":return"Must be a valid URL";case"date":return"Must be a valid date (YYYY-MM-DD)";case"time":return"Must be a valid time (HH:MM)";case"color":return"Must be a valid color (e.g., #FF0000)";default:return"Does not match the required format"}return"Does not match the required pattern";case"enum":return`Must be one of: ${(null===(n=null==t?void 0:t.enum)||void 0===n?void 0:n.join(", "))||"valid values"}`;case"multipleOf":return`Must be a multiple of ${o}`;default:return s.replace(/^instance\.?\w*\.?/,"").replace(/^\./,"").trim()||"Invalid value"}}updateValue(e,t){this._valueProxy[e]=t}updateValueByPath(e,t){if(1===e.length)this._valueProxy[e[0]]=t;else{let n=this._value;for(let t=0;t<e.length-1;t++){const i=e[t];if(/^\d+$/.test(i)){const e=parseInt(i,10);if(!(Array.isArray(n)&&e>=0&&e<n.length))return;n=n[e]}else n[i]&&"object"==typeof n[i]||(n[i]={}),n=n[i]}const i=e[e.length-1];if(/^\d+$/.test(i)){const s=parseInt(i,10);if(Array.isArray(n)&&s>=0&&s<n.length){const o=n[s];n[s]=t,this.dispatchChangeEvent(i,o,t,e),this.updateInputValueByPath(e,t),this.validateFieldByPath(e)}}else{const s=n[i];n[i]=t,this.dispatchChangeEvent(i,s,t,e),this.updateInputValueByPath(e,t),this.validateFieldByPath(e)}}}getValue(){return{...this._value}}setValue(e){this._value={...e},this.setupValueProxy(),this.render(),this.validate()}setSchema(e){this._schema=e,this.render(),this.validate()}validate(){var e;if(this._validationErrors=[],!this._schema)return{isValid:!0,errors:[]};const t=this._validator.validate(this._value,this._schema);if(!t.valid)for(const n of t.errors){const t=n.property.replace("instance.","").split("."),i=t[t.length-1]||"root",s=null===(e=this._schema.properties)||void 0===e?void 0:e[t[0]],o=this.formatValidationError(n,s);this._validationErrors.push({key:i,path:t,message:o})}for(const e of this._validationErrors)this.updateFieldErrorDisplayByPath(e.path);const n={isValid:0===this._validationErrors.length,errors:this._validationErrors};return o(this,"keyvalue-validation",n),n}isValid(){return 0===this._validationErrors.length}focusField(e){this.focusFieldByPath([e])}focusFieldByPath(e){var t;const n=`field-${e.join("-")}`,i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(`#${n}`);null==i||i.focus()}handleSliderInput(e,t,n){var i;const s=parseFloat(t),o=e.join("."),a=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(`#${n}`);a&&(a.value=t),this.throttleUpdate(`slider-${o}`,()=>{this.updateValueByPath(e,s)},16)}handleNumberInput(e,t,n){var i;const s=parseFloat(t),o=null===(i=this.shadowRoot)||void 0===i?void 0:i.querySelector(`#${n}`);o&&(o.value=t),isNaN(s)||this.updateValueByPath(e,s)}callFunction(e){let t=this._value;for(let n=0;n<e.length-1;n++){if(!t||"object"!=typeof t)return;t=t[e[n]]}const n=e[e.length-1],i=t[n];if("function"==typeof i){const t=i.call(this._value);this.render(),this._schema&&this.validate(),o(this,"keyvalue-function-call",{key:n,path:e,result:t})}}addArrayItem(e,t=""){if(this.disabled||this._readonly)return;let n=this._value;for(const t of e){if(!n||"object"!=typeof n)return;n=n[t]}if(!Array.isArray(n))return;const i=[...n];n.push(t);const s=e[e.length-1];this.dispatchChangeEvent(s,i,n,e),this.render(),this.validateFieldByPath(e)}removeArrayItem(e,t){if(this.disabled||this._readonly)return;let n=this._value;for(const t of e){if(!n||"object"!=typeof n)return;n=n[t]}if(!Array.isArray(n)||t<0||t>=n.length)return;const i=[...n];n.splice(t,1);const s=e[e.length-1];this.dispatchChangeEvent(s,i,n,e),this.render(),this.validateFieldByPath(e)}moveArrayItem(e,t,n){if(this.disabled||this._readonly)return;let i=this._value;for(const t of e){if(!i||"object"!=typeof i)return;i=i[t]}if(!Array.isArray(i)||t<0||t>=i.length)return;const s="up"===n?t-1:t+1;if(s<0||s>=i.length)return;const o=[...i],a=i[t];i[t]=i[s],i[s]=a;const r=e[e.length-1];this.dispatchChangeEvent(r,o,i,e),this.render(),this.validateFieldByPath(e)}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get readonly(){return this._readonly}set readonly(e){this._readonly=e,e?this.setAttribute("readonly",""):this.removeAttribute("readonly")}get compact(){return this._compact}set compact(e){this._compact=e,e?this.setAttribute("compact",""):this.removeAttribute("compact")}get value(){return this.getValue()}set value(e){this.setValue(e)}get schema(){return this._schema}set schema(e){e?this.setSchema(e):(this._schema=null,this.render())}get headerTitle(){return this._headerTitle}set headerTitle(e){this._headerTitle=e,null!==e?this.setAttribute("header-title",e):this.removeAttribute("header-title")}}customElements.get("e2-keyvalue-editor")||customElements.define("e2-keyvalue-editor",$);class F extends HTMLElement{static get observedAttributes(){return["theme","disabled","view-mode","multi-select"]}constructor(){super(),this._theme="auto",this._items=[],this._columns=[],this._viewMode="list",this._multiSelect=!1,this._selectedItems=new Set,this._lastSelectedIndex=-1,this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: block;\n          border: 1px solid var(--listview-border, #ccc);\n          background: var(--listview-bg, #fff);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          overflow: hidden;\n          min-height: 100px;\n          container-type: style;\n          --header-visible: yes;\n        }\n\n        :host(.theme-dark) {\n          background: var(--listview-bg-dark, #1e1e1e);\n          border-color: var(--listview-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .listview-container {\n          width: 100%;\n          height: 100%;\n        }\n\n        .listview-header {\n          display: none;\n          font-weight: bold;\n          padding: 0;\n          flex-shrink: 0;\n        }\n\n        /* Show header when in details mode and header is visible */\n        @container style(--header-visible: yes) {\n          :host([view-mode="details"]) .listview-header {\n            display: block;\n          }\n        }\n\n        /* Hide header when explicitly set to no */\n        @container style(--header-visible: no) {\n          .listview-header {\n            display: none !important;\n          }\n        }\n\n        .listview-header-row {\n          display: flex;\n          align-items: center;\n        }\n\n        .listview-header-cell {\n          padding: 8px 12px;\n          background: var(--listview-header-bg, #f5f5f5);\n          border-bottom: 1px solid var(--listview-border, #ccc);\n          border-right: 1px solid var(--listview-border, #ccc);\n          flex: 1;\n          min-width: 0;\n          cursor: pointer;\n          user-select: none;\n        }\n\n        :host(.theme-dark) .listview-header-cell {\n          background: var(--listview-header-bg-dark, #2d2d2d);\n          border-bottom-color: var(--listview-border-dark, #555);\n          border-right-color: var(--listview-border-dark, #555);\n        }\n\n        .listview-header-cell:hover {\n          background: var(--listview-header-hover-bg, #e5e5e5);\n        }\n\n        :host(.theme-dark) .listview-header-cell:hover {\n          background: var(--listview-header-hover-bg-dark, #3d3d3d);\n        }\n\n        .listview-header-cell:last-child {\n          border-right: none;\n        }\n\n        .listview-content {\n          overflow: auto;\n          flex: 1;\n        }\n\n        .listview-item {\n          padding: 4px 8px;\n          cursor: pointer;\n          user-select: none;\n          border-bottom: 1px solid transparent;\n          display: flex;\n          align-items: center;\n          min-height: 24px;\n        }\n\n        :host(:not([view-mode="details"])) .listview-item:hover {\n          background: var(--listview-item-hover-bg, #f0f0f0);\n        }\n        :host([view-mode="details"]) .listview-item:hover .listview-item-cell {\n          background: var(--listview-item-hover-bg, #f0f0f0);\n        }\n\n        :host(.theme-dark:not([view-mode="details"])) .listview-item:hover {\n          background: var(--listview-item-hover-bg-dark, #2d2d2d);\n        }\n        :host(.theme-dark[view-mode="details"]) .listview-item:hover .listview-item-cell {\n          background: var(--listview-item-hover-bg-dark, #2d2d2d);\n        }\n\n        :host(:not([view-mode="details"])) .listview-item.selected {\n          background: var(--listview-item-selected-bg, #0078d4);\n          color: var(--listview-item-selected-text, #fff);\n        }\n        :host([view-mode="details"]) .listview-item.selected .listview-item-cell {\n          background: var(--listview-item-selected-bg, #0078d4);\n          color: var(--listview-item-selected-text, #fff);\n        }\n\n        :host(.theme-dark:not([view-mode="details"])) .listview-item.selected {\n          background: var(--listview-item-selected-bg-dark, #0078d4);\n          color: var(--listview-item-selected-text-dark, #fff);\n        }\n        :host(.theme-dark[view-mode="details"]) .listview-item.selected .listview-item-cell {\n          background: var(--listview-item-selected-bg-dark, #0078d4);\n          color: var(--listview-item-selected-text-dark, #fff);\n        }\n\n        .listview-item.disabled {\n          opacity: 0.6;\n          cursor: default;\n          pointer-events: none;\n        }\n\n        .listview-item-icon {\n          margin-right: 8px;\n          flex-shrink: 0;\n          font-size: 16px;\n          width: 16px;\n          text-align: center;\n        }\n\n        .listview-item-label {\n          flex: 1;\n          min-width: 0;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        .listview-item-cell {\n          flex: 1;\n          min-width: 0;\n          padding: 0 4px;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n        }\n\n        /* Details view specific styles */\n        :host([view-mode="details"]) .listview-container {\n          display: flex;\n          flex-direction: column;\n        }\n\n        :host([view-mode="details"]) .listview-content {\n          min-height: 0;\n        }\n\n        :host([view-mode="details"]) .listview-item {\n          padding: 0;\n        }\n\n        :host([view-mode="details"]) .listview-item-cell {\n          height: 100%;\n          padding: 8px 12px;\n          border-right: 1px solid var(--listview-border, #ccc);\n        }\n\n        :host(.theme-dark[view-mode="details"]) .listview-item-cell {\n          border-right-color: var(--listview-border-dark, #555);\n        }\n\n        :host([view-mode="details"]) .listview-item-cell:last-child {\n          border-right: none;\n        }\n\n        /* Icons view specific styles */\n        :host([view-mode="icons"]) .listview-items {\n          display: flex;\n          flex-wrap: wrap;\n          padding: 8px;\n          gap: 8px;\n          align-content: flex-start;\n        }\n\n        :host([view-mode="icons"]) .listview-item {\n          flex-direction: column;\n          width: 80px;\n          height: 80px;\n          padding: 8px;\n          text-align: center;\n          border: 1px solid transparent;\n          border-radius: 4px;\n        }\n\n        :host([view-mode="icons"]) .listview-item-icon {\n          margin: 0 0 4px 0;\n          font-size: 32px;\n          width: auto;\n        }\n\n        :host([view-mode="icons"]) .listview-item-label {\n          font-size: 12px;\n          line-height: 1.2;\n          white-space: normal;\n          overflow: hidden;\n          display: -webkit-box;\n          -webkit-line-clamp: 2;\n          -webkit-box-orient: vertical;\n        }\n\n        .empty-state {\n          padding: 32px;\n          text-align: center;\n          color: var(--text-color-muted, #666);\n          font-style: italic;\n        }\n\n        :host(.theme-dark) .empty-state {\n          color: var(--text-color-muted-dark, #999);\n        }\n      </style>\n      <div class="listview-container">\n        <div class="listview-content">\n          <div class="listview-header">\n            <div class="listview-header-row"></div>\n          </div>\n          <div class="listview-items"></div>\n        </div>\n      </div>\n    ',this.setupEventHandlers()}setupEventHandlers(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".listview-items");t&&(t.addEventListener("click",this.handleItemClick.bind(this)),t.addEventListener("dblclick",this.handleItemDoubleClick.bind(this)),t.addEventListener("contextmenu",this.handleContextMenu.bind(this)))}handleItemClick(e){const t=e.target.closest(".listview-item");if(!t||t.classList.contains("disabled"))return;const n=t.dataset.itemId;if(!n)return;const i=this._items.find(e=>e.id===n);if(!i)return;const s=e,{ctrlKey:a,shiftKey:r,altKey:l}=s;this.handleItemSelection(n,a,r),o(this,"listview-item-click",{listViewId:this.id,listView:this,item:i,itemId:n,ctrlKey:a,shiftKey:r,altKey:l})}handleItemDoubleClick(e){const t=e.target.closest(".listview-item");if(!t||t.classList.contains("disabled"))return;const n=t.dataset.itemId;if(!n)return;const i=this._items.find(e=>e.id===n);i&&o(this,"listview-item-double-click",{listViewId:this.id,listView:this,item:i,itemId:n})}handleContextMenu(e){const t=e,n=t.target.closest(".listview-item");let i=null,o=null;n&&!n.classList.contains("disabled")&&(o=n.dataset.itemId||null,o&&(i=this._items.find(e=>e.id===o)||null));const a={componentType:"list-view",componentId:this.id||s(),component:this,item:i,itemId:o};t.componentContext=a}handleItemSelection(e,t,n){const i=this._items.findIndex(t=>t.id===e);if(-1===i)return;const s=new Set(this._selectedItems);if(this._multiSelect&&n&&-1!==this._lastSelectedIndex){const e=Math.min(this._lastSelectedIndex,i),n=Math.max(this._lastSelectedIndex,i);t||this._selectedItems.clear();for(let t=e;t<=n;t++)this._selectedItems.add(this._items[t].id)}else this._multiSelect&&t?this._selectedItems.has(e)?this._selectedItems.delete(e):this._selectedItems.add(e):(this._selectedItems.clear(),this._selectedItems.add(e));this._lastSelectedIndex=i,this.updateItemElements(),this.dispatchSelectionChange(s)}dispatchSelectionChange(e){const t=this._items.filter(e=>this._selectedItems.has(e.id)),n=this._items.filter(t=>this._selectedItems.has(t.id)&&!e.has(t.id)),i=this._items.filter(t=>!this._selectedItems.has(t.id)&&e.has(t.id));o(this,"listview-selection-change",{listViewId:this.id,listView:this,selectedItems:t,selectedIds:Array.from(this._selectedItems),addedItems:n,removedItems:i})}render(){this.shadowRoot&&(this.renderHeader(),this.renderContent())}renderHeader(){var e;if("details"!==this._viewMode||0===this._columns.length)return;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".listview-header-row");t&&(t.innerHTML="",this._columns.forEach(e=>{const n=document.createElement("div");n.className="listview-header-cell",n.textContent=e.label,n.dataset.columnId=e.id,e.width&&("number"==typeof e.width?n.style.flex=`0 0 ${e.width}px`:n.style.flex=`0 0 ${e.width}`),t.appendChild(n)}))}renderContent(){var e;const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".listview-items");if(t){if(t.innerHTML="",0===this._items.length){const e=document.createElement("div");return e.className="empty-state",e.textContent="No items to display",void t.appendChild(e)}this._items.forEach(e=>{const n=this.createItemElement(e);t.appendChild(n)})}}createItemElement(e){const t=document.createElement("div");if(t.className="listview-item",t.dataset.itemId=e.id,e.disabled&&t.classList.add("disabled"),this._selectedItems.has(e.id)&&t.classList.add("selected"),"details"===this._viewMode&&this._columns.length>0)this._columns.forEach(n=>{const i=document.createElement("div");i.className="listview-item-cell",n.width&&("number"==typeof n.width?i.style.flex=`0 0 ${n.width}px`:i.style.flex=`0 0 ${n.width}`);let s="";"label"===n.id?s=e.label:"icon"===n.id?s=e.icon||"":e.data&&void 0!==e.data[n.id]&&(s=e.data[n.id]),n.renderer?i.innerHTML=n.renderer(e,s):i.textContent=String(s),t.appendChild(i)});else{if(e.icon){const n=document.createElement("span");n.className="listview-item-icon",n.textContent=e.icon,t.appendChild(n)}const n=document.createElement("span");n.className="listview-item-label",n.textContent=e.label,t.appendChild(n)}return t}updateItemElements(){this.shadowRoot&&this.shadowRoot.querySelectorAll(".listview-item").forEach(e=>{const t=e.dataset.itemId;t&&e.classList.toggle("selected",this._selectedItems.has(t))})}connectedCallback(){this.id||(this.id=s("listview")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.render()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"view-mode":this.viewMode=n||"list";break;case"multi-select":this.multiSelect=null!==n}}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get items(){return[...this._items]}set items(e){this._items=[...e],this._selectedItems.clear(),this._lastSelectedIndex=-1,this.isConnected&&this.render()}get columns(){return[...this._columns]}set columns(e){this._columns=[...e],this.isConnected&&this.render()}get viewMode(){return this._viewMode}set viewMode(e){this._viewMode=e,this.setAttribute("view-mode",e),this.isConnected&&this.render()}get multiSelect(){return this._multiSelect}set multiSelect(e){this._multiSelect=e,e?this.setAttribute("multi-select",""):this.removeAttribute("multi-select")}get selectedItems(){return this._items.filter(e=>this._selectedItems.has(e.id))}get selectedIds(){return Array.from(this._selectedItems)}applyTheme(e){p(this,e)}selectItem(e){this._multiSelect||this._selectedItems.clear(),this._selectedItems.add(e),this.updateItemElements()}deselectItem(e){this._selectedItems.delete(e),this.updateItemElements()}selectAll(){this._multiSelect&&(this._items.forEach(e=>{e.disabled||this._selectedItems.add(e.id)}),this.updateItemElements())}deselectAll(){this._selectedItems.clear(),this.updateItemElements()}toggleItemSelection(e){this._selectedItems.has(e)?this.deselectItem(e):this.selectItem(e)}setSelectedItems(e){const t=new Set(this._selectedItems);this._selectedItems.clear(),e.forEach(e=>{this._items.find(t=>t.id===e)&&this._selectedItems.add(e)}),this.updateItemElements(),this.dispatchSelectionChange(t)}scrollToItem(e){var t;const n=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(`[data-item-id="${e}"]`);n&&n.scrollIntoView({behavior:"smooth",block:"nearest"})}getItem(e){return this._items.find(t=>t.id===e)}addItem(e){this._items.push(e),this.isConnected&&this.render()}removeItem(e){const t=this._items.findIndex(t=>t.id===e);return-1!==t&&(this._items.splice(t,1),this._selectedItems.delete(e),this.isConnected&&this.render(),!0)}updateItem(e,t){const n=this._items.find(t=>t.id===e);return!!n&&(Object.assign(n,t),this.isConnected&&this.render(),!0)}refresh(){this.render()}}customElements.get("e2-list-view")||customElements.define("e2-list-view",F);class M extends HTMLElement{static get observedAttributes(){return["type","title","message","timeout","dismissible","persistent","theme"]}constructor(){super(),this._theme="auto",this._timeoutId=null,this._visible=!1,this._resolvePromise=null,this._rejectPromise=null,this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          --notification-bg: #ffffff;\n          --notification-border: #e0e0e0;\n          --notification-shadow: rgba(0, 0, 0, 0.1);\n          --notification-text: #333333;\n          --notification-title: #1a1a1a;\n          --notification-close-hover: #f0f0f0;\n          --notification-close-active: #e0e0e0;\n          --notification-icon-info: #3b82f6;\n          --notification-icon-success: #10b981;\n          --notification-icon-warning: #f59e0b;\n          --notification-icon-error: #ef4444;\n\n          display: block;\n          position: fixed;\n          z-index: 10000;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n\n          /* Default positioning - can be overridden by container */\n          top: 20px;\n          right: 20px;\n\n          /* Animation states */\n          opacity: 0;\n          transform: translateX(100%);\n          transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n          pointer-events: none;\n        }\n\n        :host(.visible) {\n          opacity: 1;\n          transform: translateX(0);\n          pointer-events: auto;\n        }\n\n        :host(.theme-dark) {\n          --notification-bg: #374151;\n          --notification-border: #4b5563;\n          --notification-text: #e5e7eb;\n          --notification-title: #f9fafb;\n          --notification-close-hover: #4b5563;\n          --notification-close-active: #6b7280;\n        }\n\n        .notification {\n          background: var(--notification-bg);\n          border: 1px solid var(--notification-border);\n          border-radius: 8px;\n          box-shadow: 0 4px 12px var(--notification-shadow);\n          padding: 16px;\n          min-width: 320px;\n          max-width: 480px;\n          display: flex;\n          align-items: flex-start;\n          gap: 12px;\n          position: relative;\n        }\n\n        .notification-icon {\n          flex-shrink: 0;\n          width: 20px;\n          height: 20px;\n          margin-top: 2px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 16px;\n        }\n\n        .notification-icon.type-info {\n          color: var(--notification-icon-info);\n        }\n\n        .notification-icon.type-success {\n          color: var(--notification-icon-success);\n        }\n\n        .notification-icon.type-warning {\n          color: var(--notification-icon-warning);\n        }\n\n        .notification-icon.type-error {\n          color: var(--notification-icon-error);\n        }\n\n        .notification-content {\n          flex: 1;\n          min-width: 0;\n        }\n\n        .notification-title {\n          color: var(--notification-title);\n          font-weight: 600;\n          margin: 0 0 4px 0;\n          font-size: 14px;\n          line-height: 1.4;\n        }\n\n        .notification-message {\n          color: var(--notification-text);\n          margin: 0;\n          font-size: 14px;\n          line-height: 1.4;\n          word-wrap: break-word;\n        }\n\n        .notification-close {\n          flex-shrink: 0;\n          background: none;\n          border: none;\n          color: var(--notification-text);\n          cursor: pointer;\n          padding: 4px;\n          border-radius: 4px;\n          width: 24px;\n          height: 24px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 16px;\n          line-height: 1;\n          margin-top: -2px;\n          margin-right: -2px;\n        }\n\n        .notification-close:hover {\n          background: var(--notification-close-hover);\n        }\n\n        .notification-close:active {\n          background: var(--notification-close-active);\n        }\n\n        .notification-close:focus {\n          outline: 2px solid var(--notification-icon-info);\n          outline-offset: 1px;\n        }\n\n        :host([dismissible="false"]) .notification-close {\n          display: none;\n        }\n\n        /* Progress bar for timed notifications */\n        .notification-progress {\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          height: 3px;\n          background: var(--notification-icon-info);\n          border-radius: 0 0 8px 8px;\n          transition: width linear;\n          opacity: 0.6;\n        }\n\n        :host([type="success"]) .notification-progress {\n          background: var(--notification-icon-success);\n        }\n\n        :host([type="warning"]) .notification-progress {\n          background: var(--notification-icon-warning);\n        }\n\n        :host([type="error"]) .notification-progress {\n          background: var(--notification-icon-error);\n        }\n\n        :host([timeout="0"]) .notification-progress,\n        :host([persistent]) .notification-progress {\n          display: none;\n        }\n      </style>\n\n      <div class="notification" part="notification">\n        <div class="notification-icon" part="icon"></div>\n        <div class="notification-content" part="content">\n          <div class="notification-title" part="title"></div>\n          <div class="notification-message" part="message"></div>\n        </div>\n        <button class="notification-close" part="close-button" type="button" aria-label="Close notification">\n          \n        </button>\n        <div class="notification-progress" part="progress"></div>\n      </div>\n    ',this.setupEventListeners(),this.updateContent()}setupEventListeners(){var e,t;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".notification-close"),i=null===(t=this.shadowRoot)||void 0===t?void 0:t.querySelector(".notification");n&&n.addEventListener("click",this.handleCloseClick.bind(this)),i&&i.addEventListener("click",this.handleNotificationClick.bind(this))}handleCloseClick(e){e.stopPropagation(),this.dismiss()}handleNotificationClick(){o(this,"notification-click",{notificationId:this.id,notification:this,type:this.type})}updateContent(){const e=this.shadowRoot;if(!e)return;const t=e.querySelector(".notification-icon"),n=e.querySelector(".notification-title"),i=e.querySelector(".notification-message");if(t&&(t.className=`notification-icon type-${this.type}`,t.textContent=this.getIconForType(this.type)),n){const e=this.title;e?(n.textContent=e,n.style.display="block"):n.style.display="none"}i&&(i.textContent=this.message)}getIconForType(e){switch(e){case"success":return"";case"warning":return"";case"error":return"";default:return""}}startTimeout(){var e;this.clearTimeout();const t=this.timeout;if(t<=0||this.persistent)return;const n=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".notification-progress");n&&(n.style.width="100%",n.style.transitionDuration=`${t}ms`,requestAnimationFrame(()=>{n.style.width="0%"})),this._timeoutId=window.setTimeout(()=>{this.hide()},t)}clearTimeout(){null!==this._timeoutId&&(window.clearTimeout(this._timeoutId),this._timeoutId=null)}connectedCallback(){this.id||(this.id=s("notification")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this.clearTimeout(),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"type":case"title":case"message":this.updateContent();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this));break;case"timeout":case"persistent":this._visible&&this.startTimeout()}}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get type(){return this.getAttribute("type")||"info"}set type(e){this.setAttribute("type",e)}get title(){return this.getAttribute("title")||""}set title(e){this.setAttribute("title",e)}get message(){return this.getAttribute("message")||"This is a notification message."}set message(e){this.setAttribute("message",e)}get timeout(){return parseInt(this.getAttribute("timeout")||"5000",10)}set timeout(e){this.setAttribute("timeout",e.toString())}get dismissible(){return"false"!==this.getAttribute("dismissible")}set dismissible(e){this.setAttribute("dismissible",e.toString())}get persistent(){return this.hasAttribute("persistent")}set persistent(e){e?this.setAttribute("persistent",""):this.removeAttribute("persistent")}get visible(){return this._visible}show(){return new Promise((e,t)=>{var n;this._resolvePromise&&(null===(n=this._rejectPromise)||void 0===n||n.call(this,new Error("Notification was replaced by another show() call"))),this._resolvePromise=e,this._rejectPromise=t,this._visible=!0,this.classList.add("visible"),o(this,"notification-show",{notificationId:this.id,notification:this,type:this.type}),this.startTimeout()})}hide(){this._visible&&(this._visible=!1,this.classList.remove("visible"),this.clearTimeout(),o(this,"notification-hide",{notificationId:this.id,notification:this,type:this.type}),setTimeout(()=>{this._resolvePromise&&(this._resolvePromise(),this._resolvePromise=null,this._rejectPromise=null)},300))}dismiss(){o(this,"notification-dismiss",{notificationId:this.id,notification:this,type:this.type}),this.hide()}applyTheme(e){this._theme=e,p(this,e)}}customElements.get("e2-notification")||customElements.define("e2-notification",M);class L extends HTMLElement{static get observedAttributes(){return["position","max-notifications","stack-direction","spacing","theme"]}constructor(){super(),this._theme="auto",this._observer=null,this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          --container-spacing: 16px;\n          --notification-gap: 8px;\n\n          position: fixed;\n          z-index: 10000;\n          pointer-events: none;\n          display: flex;\n          flex-direction: column;\n          gap: var(--notification-gap);\n          max-width: calc(100vw - 40px);\n          max-height: calc(100vh - 40px);\n          overflow: hidden;\n        }\n\n        /* Position variants */\n        :host([position="top-left"]) {\n          top: var(--container-spacing);\n          left: var(--container-spacing);\n          align-items: flex-start;\n        }\n\n        :host([position="top-right"]) {\n          top: var(--container-spacing);\n          right: var(--container-spacing);\n          align-items: flex-end;\n        }\n\n        :host([position="top-center"]) {\n          top: var(--container-spacing);\n          left: 50%;\n          transform: translateX(-50%);\n          align-items: center;\n        }\n\n        :host([position="bottom-left"]) {\n          bottom: var(--container-spacing);\n          left: var(--container-spacing);\n          align-items: flex-start;\n          flex-direction: column-reverse;\n        }\n\n        :host([position="bottom-right"]) {\n          bottom: var(--container-spacing);\n          right: var(--container-spacing);\n          align-items: flex-end;\n          flex-direction: column-reverse;\n        }\n\n        :host([position="bottom-center"]) {\n          bottom: var(--container-spacing);\n          left: 50%;\n          transform: translateX(-50%);\n          align-items: center;\n          flex-direction: column-reverse;\n        }\n\n        /* Stack direction overrides */\n        :host([stack-direction="up"]) {\n          flex-direction: column-reverse;\n        }\n\n        :host([stack-direction="down"]) {\n          flex-direction: column;\n        }\n\n        /* Spacing control */\n        :host([spacing="small"]) {\n          --notification-gap: 4px;\n        }\n\n        :host([spacing="medium"]) {\n          --notification-gap: 8px;\n        }\n\n        :host([spacing="large"]) {\n          --notification-gap: 16px;\n        }\n\n        ::slotted(e2-notification) {\n          pointer-events: auto;\n          position: static !important;\n          transform: none !important;\n          margin: 0;\n        }\n\n        /* Animation for notifications */\n        ::slotted(e2-notification:not(.visible)) {\n          opacity: 0;\n          transform: scale(0.9);\n          transition: all 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        ::slotted(e2-notification.visible) {\n          opacity: 1;\n          transform: scale(1);\n        }\n\n        /* Stacking animations for top positions */\n        :host([position^="top"]) ::slotted(e2-notification) {\n          animation: slideInFromTop 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        /* Stacking animations for bottom positions */\n        :host([position^="bottom"]) ::slotted(e2-notification) {\n          animation: slideInFromBottom 0.3s cubic-bezier(0.4, 0.0, 0.2, 1);\n        }\n\n        @keyframes slideInFromTop {\n          from {\n            opacity: 0;\n            transform: translateY(-20px) scale(0.9);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        @keyframes slideInFromBottom {\n          from {\n            opacity: 0;\n            transform: translateY(20px) scale(0.9);\n          }\n          to {\n            opacity: 1;\n            transform: translateY(0) scale(1);\n          }\n        }\n\n        /* Responsive adjustments */\n        @media (max-width: 640px) {\n          :host {\n            --container-spacing: 12px;\n            max-width: calc(100vw - 24px);\n          }\n\n          ::slotted(e2-notification) {\n            min-width: 280px;\n            max-width: calc(100vw - 24px);\n          }\n        }\n      </style>\n\n      <slot></slot>\n    ',this.setupMutationObserver()}setupMutationObserver(){this._observer=new MutationObserver(e=>{e.forEach(e=>{"childList"===e.type&&(this.manageNotifications(),this.updateNotificationPositions())})}),this._observer.observe(this,{childList:!0,subtree:!1})}manageNotifications(){const e=this.querySelectorAll("e2-notification"),t=this.maxNotifications;if(t>0&&e.length>t){const n=e.length-t;for(let t=0;t<n;t++){const n=e[t];"function"==typeof n.dismiss?n.dismiss():n.remove()}}o(this,"notification-container-update",{containerId:this.id,container:this,position:this.position,count:e.length})}updateNotificationPositions(){const e=this.querySelectorAll("e2-notification");e.forEach((t,n)=>{"auto"!==this._theme&&"function"==typeof t.applyTheme&&(t.theme=this._theme),t.style.zIndex=(1e4+e.length-n).toString()})}connectedCallback(){this.id||(this.id=s("notification-container")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.updateNotificationPositions()}disconnectedCallback(){this._observer&&(this._observer.disconnect(),this._observer=null),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"position":case"stack-direction":case"spacing":break;case"max-notifications":this.manageNotifications();break;case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this)),this.updateNotificationPositions()}}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}get position(){return this.getAttribute("position")||"top-right"}set position(e){this.setAttribute("position",e)}get maxNotifications(){return parseInt(this.getAttribute("max-notifications")||"5",10)}set maxNotifications(e){this.setAttribute("max-notifications",e.toString())}get stackDirection(){return this.getAttribute("stack-direction")||"down"}set stackDirection(e){this.setAttribute("stack-direction",e)}get spacing(){return this.getAttribute("spacing")||"medium"}set spacing(e){this.setAttribute("spacing",e)}addNotification(e){this.appendChild(e)}removeNotification(e){this.contains(e)&&this.removeChild(e)}clear(){this.querySelectorAll("e2-notification").forEach(e=>{const t=e;"function"==typeof t.dismiss?t.dismiss():e.remove()})}getNotificationCount(){return this.querySelectorAll("e2-notification").length}applyTheme(e){this._theme=e,p(this,e),this.updateNotificationPositions()}}customElements.get("e2-notification-container")||customElements.define("e2-notification-container",L);class P extends HTMLElement{static get observedAttributes(){return["theme","disabled","collapsed","orientation","resize-left","resize-right","resize-top","resize-bottom","min-width","max-width","min-height","max-height"]}constructor(){super(),this._theme="auto",this._collapsed=!1,this._orientation="vertical",this._resizeLeft=!1,this._resizeRight=!1,this._resizeTop=!1,this._resizeBottom=!1,this._minWidth=100,this._maxWidth=800,this._minHeight=100,this._maxHeight=600,this._resizing=!1,this._resizeEdge=null,this._startPosition={x:0,y:0},this._startSize={width:0,height:0},this._storedSize=null,this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          background: var(--panel-bg, #ffffff);\n          border: 1px solid var(--panel-border, #ccc);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n        }\n\n        :host(.theme-dark) {\n          background: var(--panel-bg-dark, #2d2d2d);\n          border-color: var(--panel-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Vertical orientation (default) */\n        :host([orientation="vertical"]) {\n          min-height: 200px;\n        }\n\n        :host([orientation="vertical"][collapsed]) {\n          min-height: 32px;\n          height: 32px !important;\n          overflow: hidden;\n        }\n\n        /* Horizontal orientation */\n        :host([orientation="horizontal"]) {\n          min-width: 200px;\n          display: inline-block;\n          vertical-align: top;\n        }\n\n        :host([orientation="horizontal"][collapsed]) {\n          min-width: 32px;\n          width: 32px !important;\n          overflow: hidden;\n        }\n\n        .panel-header {\n          display: flex;\n          align-items: center;\n          padding: 8px;\n          background: var(--panel-header-bg, #f8f8f8);\n          border-bottom: 1px solid var(--panel-border, #ccc);\n          min-height: 16px;\n          cursor: pointer;\n          user-select: none;\n        }\n\n        :host(.theme-dark) .panel-header {\n          background: var(--panel-header-bg-dark, #3a3a3a);\n          border-bottom-color: var(--panel-border-dark, #555);\n        }\n\n        .panel-header:hover {\n          background: var(--panel-header-hover-bg, #e8e8e8);\n        }\n\n        :host(.theme-dark) .panel-header:hover {\n          background: var(--panel-header-hover-bg-dark, #404040);\n        }\n\n        .toggle-button {\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          font-size: 12px;\n          margin-right: 8px;\n          flex-shrink: 0;\n        }\n\n        .burger-icon::before {\n          content: var(--panel-collapsed-icon, "");\n        }\n\n        .close-icon::before {\n          content: var(--panel-expanded-icon, "");\n        }\n\n        /* Vertical orientation icons */\n        :host([orientation="vertical"]) .toggle-button .burger-icon {\n          display: none;\n        }\n\n        :host([orientation="vertical"]) .toggle-button .close-icon {\n          display: block;\n        }\n\n        :host([orientation="vertical"][collapsed]) .toggle-button .burger-icon {\n          display: block;\n        }\n\n        :host([orientation="vertical"][collapsed]) .toggle-button .close-icon {\n          display: none;\n        }\n\n        /* Horizontal orientation icons */\n        :host([orientation="horizontal"]) .toggle-button .burger-icon {\n          display: none;\n        }\n\n        :host([orientation="horizontal"]) .toggle-button .close-icon {\n          display: block;\n        }\n\n        :host([orientation="horizontal"][collapsed]) .toggle-button .burger-icon {\n          display: block;\n        }\n\n        :host([orientation="horizontal"][collapsed]) .toggle-button .close-icon {\n          display: none;\n        }\n\n        /* Rotate icons for horizontal orientation */\n        :host([orientation="horizontal"]) .toggle-button {\n          transform: rotate(90deg);\n        }\n\n        .panel-title {\n          flex-grow: 1;\n          font-weight: 500;\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n        }\n\n        /* Hide title when collapsed */\n        :host([collapsed]) .panel-title {\n          display: none;\n        }\n\n        .panel-content {\n          padding: var(--panel-padding, 12px);\n          overflow: auto;\n          box-sizing: border-box;\n          height: calc(100% - 32px); /* Account for header height */\n        }\n\n        :host([collapsed]) .panel-content {\n          display: none;\n        }\n\n        /* Content slot styling */\n        ::slotted(*) {\n          display: block;\n        }\n\n        /* Resize handles */\n        :host([resize-left]:not([collapsed])) {\n          border-left-width: 4px;\n          border-left-color: var(--resize-handle-color, #999);\n        }\n\n        :host([resize-right]:not([collapsed])) {\n          border-right-width: 4px;\n          border-right-color: var(--resize-handle-color, #999);\n        }\n\n        :host([resize-top]:not([collapsed])) {\n          border-top-width: 4px;\n          border-top-color: var(--resize-handle-color, #999);\n        }\n\n        :host([resize-bottom]:not([collapsed])) {\n          border-bottom-width: 4px;\n          border-bottom-color: var(--resize-handle-color, #999);\n        }\n\n        /* Dark theme resize handles */\n        :host(.theme-dark[resize-left]:not([collapsed])) {\n          border-left-color: var(--resize-handle-color-dark, #666);\n        }\n\n        :host(.theme-dark[resize-right]:not([collapsed])) {\n          border-right-color: var(--resize-handle-color-dark, #666);\n        }\n\n        :host(.theme-dark[resize-top]:not([collapsed])) {\n          border-top-color: var(--resize-handle-color-dark, #666);\n        }\n\n        :host(.theme-dark[resize-bottom]:not([collapsed])) {\n          border-bottom-color: var(--resize-handle-color-dark, #666);\n        }\n\n        /* Resize cursors - will be handled by JavaScript for edge detection */\n\n        /* Disable resize cursors when dragging */\n        :host(.resizing) {\n          user-select: none;\n        }\n\n        :host(.resizing) * {\n          user-select: none;\n          pointer-events: none;\n        }\n      </style>\n\n      <div class="panel-header">\n        <div class="toggle-button">\n          <span class="burger-icon"></span>\n          <span class="close-icon"></span>\n        </div>\n        <div class="panel-title">\n          <slot name="title">Panel</slot>\n        </div>\n      </div>\n\n      <div class="panel-content">\n        <slot></slot>\n      </div>\n    ',e.querySelector(".panel-header").addEventListener("click",this.handleToggle.bind(this)),this.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.addEventListener("mouseleave",this.handleMouseLeave.bind(this))}connectedCallback(){this.id||(this.id=s("collapsible-panel")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"collapsed":const e=this._collapsed;this._collapsed=null!==n,this.handleCollapsedChange(e);break;case"orientation":this._orientation=n||"vertical";break;case"resize-left":this._resizeLeft=null!==n;break;case"resize-right":this._resizeRight=null!==n;break;case"resize-top":this._resizeTop=null!==n;break;case"resize-bottom":this._resizeBottom=null!==n;break;case"min-width":this._minWidth=parseFloat(n)||100;break;case"max-width":this._maxWidth=parseFloat(n)||800;break;case"min-height":this._minHeight=parseFloat(n)||100;break;case"max-height":this._maxHeight=parseFloat(n)||600}}handleToggle(){this.collapsed=!this.collapsed,o(this,"collapsible-panel-toggle",{panelId:this.id,panel:this,collapsed:this.collapsed,orientation:this.orientation})}handleCollapsedChange(e){this._collapsed&&!e?this._storedSize={width:this.offsetWidth,height:this.offsetHeight}:!this._collapsed&&e&&this._storedSize&&requestAnimationFrame(()=>{this._storedSize&&(this.style.width=`${this._storedSize.width}px`,this.style.height=`${this._storedSize.height}px`)})}handleMouseDown(e){if(this._collapsed)return;const t=this.getResizeEdge(e);t&&(e.preventDefault(),e.stopPropagation(),this._resizing=!0,this._resizeEdge=t,this._startPosition={x:e.clientX,y:e.clientY},this._startSize={width:this.offsetWidth,height:this.offsetHeight},this.classList.add("resizing"),document.body.style.cursor=this.getCursorForEdge(t),document.addEventListener("mousemove",this.handleDocumentMouseMove.bind(this)),document.addEventListener("mouseup",this.handleDocumentMouseUp.bind(this)),o(this,"collapsible-panel-resize-start",{panelId:this.id,panel:this,startWidth:this._startSize.width,startHeight:this._startSize.height,edge:t}))}handleMouseMove(e){if(this._resizing||this._collapsed)return;const t=this.getResizeEdge(e);this.style.cursor=t?this.getCursorForEdge(t):""}handleMouseUp(e){this._resizing&&this.endResize(e)}handleMouseLeave(e){this._resizing||(this.style.cursor="")}handleDocumentMouseMove(e){if(!this._resizing||!this._resizeEdge)return;e.preventDefault();const t=e.clientX-this._startPosition.x,n=e.clientY-this._startPosition.y;let i=this._startSize.width,s=this._startSize.height;switch(this._resizeEdge){case"left":i=Math.max(this._minWidth,Math.min(this._maxWidth,this._startSize.width-t));break;case"right":i=Math.max(this._minWidth,Math.min(this._maxWidth,this._startSize.width+t));break;case"top":s=Math.max(this._minHeight,Math.min(this._maxHeight,this._startSize.height-n));break;case"bottom":s=Math.max(this._minHeight,Math.min(this._maxHeight,this._startSize.height+n))}"horizontal"===this._orientation?"left"!==this._resizeEdge&&"right"!==this._resizeEdge||(this.style.width=`${i}px`):"top"!==this._resizeEdge&&"bottom"!==this._resizeEdge||(this.style.height=`${s}px`),o(this,"collapsible-panel-resize",{panelId:this.id,panel:this,width:i,height:s,edge:this._resizeEdge})}handleDocumentMouseUp(e){this._resizing&&this.endResize(e)}endResize(e){if(!this._resizing||!this._resizeEdge)return;const t=this.offsetWidth,n=this.offsetHeight,i=this._resizeEdge;this._resizing=!1,this._resizeEdge=null,this.classList.remove("resizing"),document.body.style.cursor="",document.removeEventListener("mousemove",this.handleDocumentMouseMove.bind(this)),document.removeEventListener("mouseup",this.handleDocumentMouseUp.bind(this)),this._storedSize={width:t,height:n},o(this,"collapsible-panel-resize-end",{panelId:this.id,panel:this,finalWidth:t,finalHeight:n,edge:i})}getResizeEdge(e){const t=this.getBoundingClientRect(),n=e.clientX-t.left,i=e.clientY-t.top;if("vertical"===this._orientation){if(this._resizeTop&&i<=4)return"top";if(this._resizeBottom&&i>=t.height-4)return"bottom"}else{if(this._resizeLeft&&n<=4)return"left";if(this._resizeRight&&n>=t.width-4)return"right"}return null}getCursorForEdge(e){switch(e){case"left":case"right":return"ew-resize";case"top":case"bottom":return"ns-resize"}}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get collapsed(){return this._collapsed}set collapsed(e){this._collapsed=e,e?this.setAttribute("collapsed",""):this.removeAttribute("collapsed")}get orientation(){return this._orientation}set orientation(e){this._orientation=e,this.setAttribute("orientation",e)}toggle(){this.collapsed=!this.collapsed}expand(){this.collapsed=!1}collapse(){this.collapsed=!0}applyTheme(e){p(this,e)}get resizeLeft(){return this._resizeLeft}set resizeLeft(e){this._resizeLeft=e,this.toggleAttribute("resize-left",e)}get resizeRight(){return this._resizeRight}set resizeRight(e){this._resizeRight=e,this.toggleAttribute("resize-right",e)}get resizeTop(){return this._resizeTop}set resizeTop(e){this._resizeTop=e,this.toggleAttribute("resize-top",e)}get resizeBottom(){return this._resizeBottom}set resizeBottom(e){this._resizeBottom=e,this.toggleAttribute("resize-bottom",e)}get minWidth(){return this._minWidth}set minWidth(e){this._minWidth=e,this.setAttribute("min-width",e.toString())}get maxWidth(){return this._maxWidth}set maxWidth(e){this._maxWidth=e,this.setAttribute("max-width",e.toString())}get minHeight(){return this._minHeight}set minHeight(e){this._minHeight=e,this.setAttribute("min-height",e.toString())}get maxHeight(){return this._maxHeight}set maxHeight(e){this._maxHeight=e,this.setAttribute("max-height",e.toString())}}customElements.get("e2-collapsible-panel")||customElements.define("e2-collapsible-panel",P);class R extends HTMLElement{static get observedAttributes(){return["theme","disabled","size","min-size","max-size","resizable"]}constructor(){super(),this._theme="auto",this._size=50,this._minSize=10,this._maxSize=90,this._resizable=!0,this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: block;\n          position: relative;\n          background: var(--panel-bg, #ffffff);\n          border: 1px solid var(--panel-border, #e0e0e0);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          overflow: hidden;\n          box-sizing: border-box;\n        }\n\n        :host(.theme-dark) {\n          background: var(--panel-bg-dark, #2d2d2d);\n          border-color: var(--panel-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .panel-content {\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          box-sizing: border-box;\n          padding: var(--panel-padding, 8px);\n        }\n\n        /* Content slot styling */\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n\n      <div class="panel-content">\n        <slot></slot>\n      </div>\n    ',this.addEventListener("resize",this.handleResize.bind(this))}connectedCallback(){this.id||(this.id=s("split-panel")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this._theme=n||"auto",this.applyTheme(this._theme);break;case"size":this._size=parseFloat(n||"50"),this.updateSize();break;case"min-size":this._minSize=parseFloat(n||"10");break;case"max-size":this._maxSize=parseFloat(n||"90");break;case"resizable":this._resizable="false"!==n;break;case"disabled":this.toggleAttribute("disabled",null!==n)}}handleResize(){this.updateSize()}updateSize(){}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),g(this,e)}get size(){return this._size}set size(e){this.setAttribute("size",e.toString())}get minSize(){return this._minSize}set minSize(e){this.setAttribute("min-size",e.toString())}get maxSize(){return this._maxSize}set maxSize(e){this.setAttribute("max-size",e.toString())}get resizable(){return this._resizable}set resizable(e){this.setAttribute("resizable",e.toString())}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",e)}applyTheme(e){p(this,e)}getCurrentSize(){const e=this.parentElement;if(!e)return this._size;if("vertical"===e.getAttribute("orientation")){const t=e.clientHeight;return this.clientHeight/t*100}{const t=e.clientWidth;return this.clientWidth/t*100}}}customElements.get("e2-split-panel")||customElements.define("e2-split-panel",R);class q extends HTMLElement{static get observedAttributes(){return["theme","disabled","orientation"]}constructor(){super(),this._theme="auto",this._orientation="horizontal",this._resizing=!1,this._activePanel=null,this._startPosition=0,this._startSize=0,this._nextPanelStartSize=0,this._updatingPanelSizes=!1,this.debouncedResize=h(this.handleResize.bind(this),16),this.setupElement(),this.bindEvents()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          position: relative;\n          width: 100%;\n          height: 100%;\n          min-height: 200px;\n          background: var(--container-bg, #f5f5f5);\n          font-family: var(--font-family, system-ui, sans-serif);\n          overflow: hidden;\n          box-sizing: border-box;\n        }\n\n        :host(.theme-dark) {\n          background: var(--container-bg-dark, #1e1e1e);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Horizontal layout (side by side) */\n        :host([orientation="horizontal"]) {\n          flex-direction: row;\n        }\n\n        /* Vertical layout (stacked) */\n        :host([orientation="vertical"]) {\n          flex-direction: column;\n        }\n\n        /* Panel styling */\n        ::slotted(e2-split-panel) {\n          flex-shrink: 0;\n          overflow: hidden;\n          position: relative;\n        }\n\n        /* Add spacing for handles and visual separators */\n        ::slotted(e2-split-panel:not(:last-child)) {\n          border-right: var(--handle-size, 4px) solid var(--handle-bg, #ccc);\n        }\n\n        :host([orientation="vertical"]) ::slotted(e2-split-panel:not(:last-child)) {\n          border-right: none;\n          border-bottom: var(--handle-size, 4px) solid var(--handle-bg, #ccc);\n        }\n\n        :host(.theme-dark) ::slotted(e2-split-panel:not(:last-child)) {\n          border-right-color: var(--handle-bg-dark, #555);\n        }\n\n        :host([orientation="vertical"].theme-dark) ::slotted(e2-split-panel:not(:last-child)) {\n          border-bottom-color: var(--handle-bg-dark, #555);\n        }\n\n        /* No user selection during drag */\n        :host(.dragging) {\n          user-select: none;\n        }\n\n        :host(.dragging) ::slotted(*) {\n          user-select: none;\n          pointer-events: none;\n        }\n      </style>\n\n      <slot></slot>\n    '}bindEvents(){this.addEventListener("mousedown",this.handleMouseDown.bind(this)),this.addEventListener("mousemove",this.handleMouseMove.bind(this)),this.addEventListener("mouseup",this.handleMouseUp.bind(this)),this.addEventListener("mouseleave",this.handleMouseLeave.bind(this)),window.addEventListener("resize",this.debouncedResize)}connectedCallback(){this.id||(this.id=s("split-panel-container")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),setTimeout(()=>{this.updateHandles(),this.updatePanelSizes()},0)}disconnectedCallback(){window.removeEventListener("resize",this.debouncedResize),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this._theme=n||"auto",this.applyTheme(this._theme);break;case"orientation":this._orientation=n||"horizontal",this.updateHandles(),this.updatePanelSizes();break;case"disabled":this.toggleAttribute("disabled",null!==n)}}updateHandles(){}updatePanelSizes(){if(!this._updatingPanelSizes){this._updatingPanelSizes=!0;try{const e=this.getPanels();if(0===e.length)return;const t=this.getBoundingClientRect(),n=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4"),i=(e.length-1)*n,s="horizontal"===this._orientation?t.width-i:t.height-i;let o=0,a=0;e.forEach(e=>{const t=parseFloat(e.getAttribute("size")||"0");t>0?o+=t:a++});const r=Math.max(0,100-o),l=a>0?r/a:0;e.forEach(e=>{let t=parseFloat(e.getAttribute("size")||"0");t<=0&&(t=l,e.getAttribute("size")!==t.toString()&&e.setAttribute("size",t.toString()));const n=t/100*s;"horizontal"===this._orientation?(e.style.width=`${n}px`,e.style.height="100%",e.style.flexBasis=`${n}px`):(e.style.height=`${n}px`,e.style.width="100%",e.style.flexBasis=`${n}px`)})}finally{this._updatingPanelSizes=!1}}}handleMouseDown(e){const t=this.getPanels();if(t.length<2)return;let n=-1,i=null,s=null;const a=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4");for(let o=0;o<t.length-1;o++){const r=t[o].getBoundingClientRect(),l=this.getBoundingClientRect(),h=e.clientX-l.left,d=e.clientY-l.top;let c=!1;if("horizontal"===this._orientation){const e=r.right-l.left-a,t=r.right-l.left;c=h>=e&&h<=t}else{const e=r.bottom-l.top-a,t=r.bottom-l.top;c=d>=e&&d<=t}if(c){n=o,i=t[o],s=t[o+1];break}}-1!==n&&i&&s&&(e.preventDefault(),this._resizing=!0,this._activePanel=i,this._startPosition="horizontal"===this._orientation?e.clientX:e.clientY,this._startSize=parseFloat(i.getAttribute("size")||"50"),this._nextPanelStartSize=parseFloat(s.getAttribute("size")||"50"),this.classList.add("dragging"),this.style.cursor="horizontal"===this._orientation?"col-resize":"row-resize",o(this,"split-panel-resize-start",{containerId:this.id,container:this,panelId:i.id,panel:i,startSize:this._startSize}))}handleMouseMove(e){if(this._resizing&&this._activePanel){e.preventDefault();const t=("horizontal"===this._orientation?e.clientX:e.clientY)-this._startPosition,n=this.getBoundingClientRect(),i=t/("horizontal"===this._orientation?n.width:n.height)*100,s=this.getPanels(),a=s.indexOf(this._activePanel),r=s[a+1];if(!r)return;const l=Math.max(parseFloat(this._activePanel.getAttribute("min-size")||"10"),Math.min(parseFloat(this._activePanel.getAttribute("max-size")||"90"),this._startSize+i)),h=Math.max(parseFloat(r.getAttribute("min-size")||"10"),Math.min(parseFloat(r.getAttribute("max-size")||"90"),this._nextPanelStartSize-i));this._activePanel.setAttribute("size",l.toString()),r.setAttribute("size",h.toString()),this.updatePanelSizes(),o(this,"split-panel-resize",{containerId:this.id,container:this,panelId:this._activePanel.id,panel:this._activePanel,size:l,minSize:parseFloat(this._activePanel.getAttribute("min-size")||"10"),maxSize:parseFloat(this._activePanel.getAttribute("max-size")||"90")})}else this.updateHoverCursor(e)}updateHoverCursor(e){const t=this.getPanels();if(t.length<2)return void(this.style.cursor="");const n=parseInt(getComputedStyle(this).getPropertyValue("--handle-size")||"4");let i=!1;for(let s=0;s<t.length-1;s++){const o=t[s].getBoundingClientRect(),a=this.getBoundingClientRect(),r=e.clientX-a.left,l=e.clientY-a.top;if("horizontal"===this._orientation){const e=o.right-a.left-n,t=o.right-a.left;if(r>=e&&r<=t){i=!0;break}}else{const e=o.bottom-a.top-n,t=o.bottom-a.top;if(l>=e&&l<=t){i=!0;break}}}this.style.cursor=i?"horizontal"===this._orientation?"col-resize":"row-resize":""}handleMouseUp(e){if(!this._resizing)return;e.preventDefault();const t=this._activePanel?parseFloat(this._activePanel.getAttribute("size")||"50"):0;this._activePanel&&o(this,"split-panel-resize-end",{containerId:this.id,container:this,panelId:this._activePanel.id,panel:this._activePanel,finalSize:t}),this._resizing=!1,this._activePanel=null,this.classList.remove("dragging"),this.updateHoverCursor(e)}handleMouseLeave(e){this._resizing&&this.handleMouseUp(e),this.style.cursor=""}handleResize(){this.updatePanelSizes()}getPanels(){return Array.from(this.querySelectorAll("e2-split-panel"))}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e),g(this,e)}get orientation(){return this._orientation}set orientation(e){this.setAttribute("orientation",e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){this.toggleAttribute("disabled",e)}applyTheme(e){p(this,e)}resizePanel(e,t){const n=this.querySelector(`#${e}`);n&&"e2-split-panel"===n.tagName.toLowerCase()&&(n.setAttribute("size",t.toString()),this.updatePanelSizes())}getPanelSizes(){const e=this.getPanels(),t={};return e.forEach(e=>{e.id&&(t[e.id]=parseFloat(e.getAttribute("size")||"0"))}),t}resetPanelSizes(){const e=this.getPanels(),t=100/e.length;e.forEach(e=>{e.setAttribute("size",t.toString())}),this.updatePanelSizes()}}customElements.get("e2-split-panel-container")||customElements.define("e2-split-panel-container",q);class D extends HTMLElement{static get observedAttributes(){return["theme","disabled"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          padding: 4px 8px;\n          background: var(--statusbar-bg, #f8f8f8);\n          border-top: 1px solid var(--statusbar-border, #e0e0e0);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size-small, 12px);\n          min-height: 24px;\n          position: relative;\n          overflow: hidden;\n        }\n\n        :host(.theme-dark) {\n          background: var(--statusbar-bg-dark, #252526);\n          border-top-color: var(--statusbar-border-dark, #3e3e42);\n          color: var(--text-color-dark, #cccccc);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .status-container {\n          display: flex;\n          align-items: center;\n          width: 100%;\n          gap: 8px;\n        }\n\n        .status-section {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n        }\n\n        .status-section.left {\n          flex: 0 0 auto;\n          justify-content: flex-start;\n        }\n\n        .status-section.center {\n          flex: 1 1 auto;\n          justify-content: center;\n        }\n\n        .status-section.right {\n          flex: 0 0 auto;\n          justify-content: flex-end;\n        }\n\n        .temporary-message {\n          position: absolute;\n          left: 0;\n          right: 0;\n          top: 0;\n          bottom: 0;\n          display: flex;\n          align-items: center;\n          padding: 4px 8px;\n          background: var(--statusbar-message-bg, var(--statusbar-bg, #f8f8f8));\n          z-index: 10;\n          opacity: 0;\n          transform: translateY(100%);\n          transition: all 0.2s ease-in-out;\n        }\n\n        .temporary-message.show {\n          opacity: 1;\n          transform: translateY(0);\n        }\n\n        .temporary-message.info {\n          background: var(--statusbar-info-bg, #e3f2fd);\n          color: var(--statusbar-info-text, #1565c0);\n        }\n\n        .temporary-message.success {\n          background: var(--statusbar-success-bg, #e8f5e8);\n          color: var(--statusbar-success-text, #2e7d32);\n        }\n\n        .temporary-message.warning {\n          background: var(--statusbar-warning-bg, #fff3e0);\n          color: var(--statusbar-warning-text, #f57c00);\n        }\n\n        .temporary-message.error {\n          background: var(--statusbar-error-bg, #ffebee);\n          color: var(--statusbar-error-text, #c62828);\n        }\n\n        :host(.theme-dark) .temporary-message.info {\n          background: var(--statusbar-info-bg-dark, #1e3a8a);\n          color: var(--statusbar-info-text-dark, #93c5fd);\n        }\n\n        :host(.theme-dark) .temporary-message.success {\n          background: var(--statusbar-success-bg-dark, #166534);\n          color: var(--statusbar-success-text-dark, #86efac);\n        }\n\n        :host(.theme-dark) .temporary-message.warning {\n          background: var(--statusbar-warning-bg-dark, #92400e);\n          color: var(--statusbar-warning-text-dark, #fcd34d);\n        }\n\n        :host(.theme-dark) .temporary-message.error {\n          background: var(--statusbar-error-bg-dark, #991b1b);\n          color: var(--statusbar-error-text-dark, #fca5a5);\n        }\n      </style>\n\n      <div class="status-container">\n        <div class="status-section left">\n          <slot name="left"></slot>\n        </div>\n        <div class="status-section center">\n          <slot name="center"></slot>\n        </div>\n        <div class="status-section right">\n          <slot name="right"></slot>\n        </div>\n      </div>\n\n      <div class="temporary-message" id="temporary-message">\n        <span id="message-text"></span>\n      </div>\n    '}connectedCallback(){this.id||(this.id=s("status-bar")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this._temporaryMessageTimeout&&(window.clearTimeout(this._temporaryMessageTimeout),this._temporaryMessageTimeout=void 0)}attributeChangedCallback(e,t,n){t!==n&&"theme"===e&&(n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this)))}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}applyTheme(e){p(this,e)}showMessage(e,t="info",n=3e3){const i=this.shadowRoot,s=i.getElementById("temporary-message"),a=i.getElementById("message-text");this._temporaryMessageTimeout&&clearTimeout(this._temporaryMessageTimeout),a.textContent=e,s.className=`temporary-message ${t}`,requestAnimationFrame(()=>{s.classList.add("show")}),o(this,"status-message",{message:e,type:t,duration:n,temporary:!0}),n>0&&(this._temporaryMessageTimeout=window.setTimeout(()=>{this.hideMessage()},n))}hideMessage(){this.shadowRoot.getElementById("temporary-message").classList.remove("show"),this._temporaryMessageTimeout&&(clearTimeout(this._temporaryMessageTimeout),this._temporaryMessageTimeout=void 0)}getItemsInSection(e){const t=this.querySelector(`[slot="${e}"]`);return t?Array.from(t.children):[]}clearSection(e){this.getItemsInSection(e).forEach(e=>e.remove())}}customElements.get("e2-status-bar")||customElements.define("e2-status-bar",D);class j extends HTMLElement{static get observedAttributes(){return["theme","type","value","label","clickable","disabled"]}constructor(){super(),this._theme="auto",this._type="text",this._value="",this._label="",this._clickable=!1,this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: inline-flex;\n          align-items: center;\n          gap: 4px;\n          padding: 2px 6px;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size-small, 12px);\n          color: var(--text-color, #333);\n          white-space: nowrap;\n          border-radius: 2px;\n          transition: background-color 0.1s ease;\n        }\n\n        :host(.theme-dark) {\n          color: var(--text-color-dark, #cccccc);\n        }\n\n        :host([clickable]) {\n          cursor: pointer;\n          padding: 2px 8px;\n        }\n\n        :host([clickable]:hover) {\n          background: var(--status-item-hover-bg, rgba(0, 0, 0, 0.05));\n        }\n\n        :host(.theme-dark[clickable]:hover) {\n          background: var(--status-item-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host([clickable]:active) {\n          background: var(--status-item-active-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-dark[clickable]:active) {\n          background: var(--status-item-active-bg-dark, rgba(255, 255, 255, 0.15));\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .content {\n          display: flex;\n          align-items: center;\n          gap: 4px;\n        }\n\n        .icon {\n          font-size: 10px;\n          width: 12px;\n          text-align: center;\n          flex-shrink: 0;\n        }\n\n        .label {\n          flex-shrink: 0;\n        }\n\n        .value {\n          font-weight: 500;\n          flex-shrink: 0;\n        }\n\n        .progress-container {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n        }\n\n        .progress-bar {\n          width: 60px;\n          height: 8px;\n          background: var(--progress-bg, #e0e0e0);\n          border-radius: 4px;\n          overflow: hidden;\n          position: relative;\n        }\n\n        :host(.theme-dark) .progress-bar {\n          background: var(--progress-bg-dark, #3e3e42);\n        }\n\n        .progress-fill {\n          height: 100%;\n          background: var(--progress-fill, #007acc);\n          border-radius: 4px;\n          transition: width 0.2s ease;\n          min-width: 2px;\n        }\n\n        :host(.theme-dark) .progress-fill {\n          background: var(--progress-fill-dark, #0e7afe);\n        }\n\n        .progress-text {\n          font-size: 10px;\n          min-width: 30px;\n          text-align: right;\n        }\n\n        /* Type-specific styles */\n        :host([type="tool"]) {\n          background: var(--tool-item-bg, rgba(0, 120, 204, 0.1));\n          color: var(--tool-item-color, #007acc);\n          border: 1px solid var(--tool-item-border, rgba(0, 120, 204, 0.2));\n        }\n\n        :host(.theme-dark[type="tool"]) {\n          background: var(--tool-item-bg-dark, rgba(14, 122, 254, 0.15));\n          color: var(--tool-item-color-dark, #0e7afe);\n          border-color: var(--tool-item-border-dark, rgba(14, 122, 254, 0.3));\n        }\n\n        :host([type="message"]) {\n          font-style: italic;\n          opacity: 0.8;\n        }\n\n        :host([type="indicator"]) .icon {\n          color: var(--indicator-color, #28a745);\n        }\n\n        :host(.theme-dark[type="indicator"]) .icon {\n          color: var(--indicator-color-dark, #40d865);\n        }\n      </style>\n\n      <div class="content">\n        <span class="icon" id="icon"></span>\n        <span class="label" id="label"></span>\n        <div class="progress-container" id="progress-container" style="display: none;">\n          <div class="progress-bar">\n            <div class="progress-fill" id="progress-fill"></div>\n          </div>\n          <span class="progress-text" id="progress-text"></span>\n        </div>\n        <span class="value" id="value"></span>\n      </div>\n    ',this.addEventListener("click",this.handleClick.bind(this))}connectedCallback(){this.id||(this.id=s("status-item")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.updateDisplay()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"type":this._type=n,this.updateDisplay();break;case"value":this._value=n,this.updateDisplay();break;case"label":this._label=n,this.updateDisplay();break;case"clickable":this._clickable=null!==n}}handleClick(e){this._clickable&&!this.hasAttribute("disabled")&&o(this,"status-item-click",{itemId:this.id,item:this,itemType:this._type,value:this._value})}updateDisplay(){if(!this.shadowRoot)return;const e=this.shadowRoot.getElementById("icon"),t=this.shadowRoot.getElementById("label"),n=this.shadowRoot.getElementById("value"),i=this.shadowRoot.getElementById("progress-container"),s=this.shadowRoot.getElementById("progress-fill"),o=this.shadowRoot.getElementById("progress-text");switch(t.textContent=this._label,t.style.display=this._label?"inline":"none",this._type){case"progress":this.updateProgressDisplay(i,s,o),n.style.display="none",e.style.display="none";break;case"tool":e.textContent="",e.style.display="inline",n.textContent=String(this._value),n.style.display=this._value?"inline":"none",i.style.display="none";break;case"indicator":e.textContent="",e.style.display="inline",n.textContent=String(this._value),n.style.display=this._value?"inline":"none",i.style.display="none";break;case"message":e.textContent="",e.style.display="inline",n.textContent=String(this._value),n.style.display=this._value?"inline":"none",i.style.display="none";break;default:e.style.display="none",n.textContent=String(this._value),n.style.display=this._value?"inline":"none",i.style.display="none"}}updateProgressDisplay(e,t,n){e.style.display="flex";const i="number"==typeof this._value?this._value:parseFloat(String(this._value))||0,s=Math.max(0,Math.min(100,100*i));t.style.width=`${s}%`,n.textContent=`${Math.round(s)}%`}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get type(){return this._type}set type(e){this._type=e,this.setAttribute("type",e)}get value(){return this._value}set value(e){const t=this._value;this._value=e,this.setAttribute("value",String(e)),o(this,"status-item-update",{itemId:this.id,item:this,oldValue:t,newValue:e})}get label(){return this._label}set label(e){this._label=e,this.setAttribute("label",e)}get clickable(){return this._clickable}set clickable(e){this._clickable=e,e?this.setAttribute("clickable",""):this.removeAttribute("clickable")}applyTheme(e){p(this,e)}setProgress(e){"progress"===this._type&&(this.value=Math.max(0,Math.min(1,e)))}setIcon(e){if(this.shadowRoot){const t=this.shadowRoot.getElementById("icon");t.textContent=e,t.style.display="inline"}}}customElements.get("e2-status-item")||customElements.define("e2-status-item",j);class N extends HTMLElement{static get observedAttributes(){return["theme","position","disabled"]}constructor(){super(),this._theme="auto",this._position="left",this.setupElement()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          gap: 8px;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size-small, 12px);\n          flex-shrink: 0;\n        }\n\n        :host([position="left"]) {\n          justify-content: flex-start;\n        }\n\n        :host([position="center"]) {\n          justify-content: center;\n          flex: 1 1 auto;\n        }\n\n        :host([position="right"]) {\n          justify-content: flex-end;\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .section-container {\n          display: flex;\n          align-items: center;\n          gap: inherit;\n          min-width: 0; /* Allow shrinking */\n          overflow: hidden;\n        }\n\n        :host([position="center"]) .section-container {\n          width: 100%;\n          justify-content: center;\n        }\n\n        ::slotted(*) {\n          flex-shrink: 0;\n          white-space: nowrap;\n        }\n\n        /* Responsive behavior - hide items on smaller screens */\n        @media (max-width: 768px) {\n          ::slotted([data-priority="low"]) {\n            display: none;\n          }\n        }\n\n        @media (max-width: 480px) {\n          ::slotted([data-priority="medium"]) {\n            display: none;\n          }\n        }\n      </style>\n\n      <div class="section-container">\n        <slot></slot>\n      </div>\n    '}connectedCallback(){this.id||(this.id=s("status-section")),this.hasAttribute("position")||(this.position=this._position),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"position":this._position=n}}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get position(){return this._position}set position(e){this._position=e,this.setAttribute("position",e)}applyTheme(e){p(this,e)}addItem(e,t){t&&e.setAttribute("data-priority",t),this.appendChild(e)}removeItem(e){this.contains(e)&&e.remove()}clear(){for(;this.firstChild;)this.removeChild(this.firstChild)}getItems(){return Array.from(this.children)}getItemsByPriority(e){return this.getItems().filter(t=>t.getAttribute("data-priority")===e)}}customElements.get("e2-status-section")||customElements.define("e2-status-section",N);class O extends HTMLElement{static get observedAttributes(){return["theme","disabled","active","closable","icon","label","panel"]}constructor(){super(),this._theme="auto",this._active=!1,this._closable=!1,this._icon="",this._label="",this.setupElement(),this.setupEventListeners()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          padding: 8px 12px;\n          background: var(--tab-bg, #f8f8f8);\n          border: 1px solid var(--tab-border, #ddd);\n          border-bottom: none;\n          cursor: pointer;\n          user-select: none;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          color: var(--tab-color, #333);\n          min-width: 0;\n          position: relative;\n          transition: background-color 0.2s ease, color 0.2s ease;\n        }\n\n        :host(:hover) {\n          background: var(--tab-bg-hover, #e8e8e8);\n        }\n\n        :host([active]) {\n          background: var(--tab-bg-active, #ffffff);\n          color: var(--tab-color-active, #000);\n          border-bottom: 1px solid var(--tab-bg-active, #ffffff);\n          z-index: 1;\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-bg-dark, #2d2d2d);\n          border-color: var(--tab-border-dark, #555);\n          color: var(--tab-color-dark, #ccc);\n        }\n\n        :host(.theme-dark:hover) {\n          background: var(--tab-bg-hover-dark, #3d3d3d);\n        }\n\n        :host(.theme-dark[active]) {\n          background: var(--tab-bg-active-dark, #1e1e1e);\n          color: var(--tab-color-active-dark, #fff);\n          border-bottom-color: var(--tab-bg-active-dark, #1e1e1e);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          cursor: not-allowed;\n          pointer-events: none;\n        }\n\n        /* Tab position adjustments for container orientation */\n        :host-context(e2-tab-container[tab-position="bottom"]) {\n          border-top: none;\n          border-bottom: 1px solid var(--tab-border, #ddd);\n        }\n\n        :host-context(e2-tab-container[tab-position="bottom"][active]) {\n          border-top: 1px solid var(--tab-bg-active, #ffffff);\n          border-bottom-color: var(--tab-bg-active, #ffffff);\n        }\n\n        :host-context(e2-tab-container.theme-dark[tab-position="bottom"]) {\n          border-bottom-color: var(--tab-border-dark, #555);\n        }\n\n        :host-context(e2-tab-container.theme-dark[tab-position="bottom"][active]) {\n          border-top-color: var(--tab-bg-active-dark, #1e1e1e);\n          border-bottom-color: var(--tab-bg-active-dark, #1e1e1e);\n        }\n\n        :host-context(e2-tab-container[tab-position="left"]),\n        :host-context(e2-tab-container[tab-position="right"]) {\n          border-bottom: 1px solid var(--tab-border, #ddd);\n          border-right: none;\n          width: 100%;\n        }\n\n        :host-context(e2-tab-container[tab-position="left"][active]) {\n          border-right: 1px solid var(--tab-bg-active, #ffffff);\n        }\n\n        :host-context(e2-tab-container[tab-position="right"]) {\n          border-left: none;\n          border-right: 1px solid var(--tab-border, #ddd);\n        }\n\n        :host-context(e2-tab-container[tab-position="right"][active]) {\n          border-left: 1px solid var(--tab-bg-active, #ffffff);\n          border-right-color: var(--tab-bg-active, #ffffff);\n        }\n\n        .tab-content {\n          display: flex;\n          align-items: center;\n          gap: 6px;\n          min-width: 0;\n          flex: 1;\n        }\n\n        .tab-icon {\n          flex-shrink: 0;\n          font-size: 16px;\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        .tab-label {\n          white-space: nowrap;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          flex: 1;\n          min-width: 0;\n        }\n\n        .close-button {\n          flex-shrink: 0;\n          width: 16px;\n          height: 16px;\n          border: none;\n          background: transparent;\n          cursor: pointer;\n          border-radius: 2px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-left: 4px;\n          font-size: 12px;\n          color: var(--tab-close-color, #666);\n          opacity: 0.7;\n          transition: opacity 0.2s ease, background-color 0.2s ease;\n        }\n\n        .close-button:hover {\n          opacity: 1;\n          background: var(--tab-close-bg-hover, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-dark) .close-button {\n          color: var(--tab-close-color-dark, #aaa);\n        }\n\n        :host(.theme-dark) .close-button:hover {\n          background: var(--tab-close-bg-hover-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(:not([closable])) .close-button {\n          display: none;\n        }\n      </style>\n\n      <div class="tab-content">\n        <span class="tab-icon"></span>\n        <span class="tab-label"></span>\n        <button class="close-button" type="button">&times;</button>\n      </div>\n    '}setupEventListeners(){var e;this.addEventListener("click",this.handleClick.bind(this));const t=null===(e=this.shadowRoot)||void 0===e?void 0:e.querySelector(".close-button");null==t||t.addEventListener("click",this.handleCloseClick.bind(this))}handleClick(e){this.disabled||e.target.classList.contains("close-button")||(e.stopPropagation(),o(this,"tab-click",{tabId:this.id,tab:this,panelId:this.getAttribute("panel")||`${this.id}-panel`}))}handleCloseClick(e){this.disabled||(e.stopPropagation(),o(this,"tab-close",{tabId:this.id,tab:this,panelId:this.getAttribute("panel")||`${this.id}-panel`}))}updateContent(){const e=this.shadowRoot,t=e.querySelector(".tab-icon"),n=e.querySelector(".tab-label");this._icon?(t.textContent=this._icon,t.style.display="flex"):t.style.display="none",n.textContent=this._label||this.textContent||""}click(){this.disabled||this.handleClick(new MouseEvent("click"))}close(){!this.disabled&&this._closable&&this.handleCloseClick(new MouseEvent("click"))}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this.applyTheme(e),g(this,e)}get active(){return this._active}set active(e){this._active=e,e?this.setAttribute("active",""):this.removeAttribute("active")}get closable(){return this._closable}set closable(e){this._closable=e,e?this.setAttribute("closable",""):this.removeAttribute("closable")}get icon(){return this._icon}set icon(e){this._icon=e,this.setAttribute("icon",e),this.updateContent()}get label(){return this._label}set label(e){this._label=e,this.setAttribute("label",e),this.updateContent()}get panel(){return this.getAttribute("panel")}set panel(e){e?this.setAttribute("panel",e):this.removeAttribute("panel")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}applyTheme(e){p(this,e)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this._theme=n||"auto",this.applyTheme(this._theme);break;case"active":this._active=null!==n;break;case"closable":this._closable=null!==n;break;case"icon":this._icon=n||"",this.updateContent();break;case"label":this._label=n||"",this.updateContent()}}connectedCallback(){if(this.id||(this.id=s("tab")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.updateContent(),this._pendingSetup){const e=this._pendingSetup;e.slot&&this.setAttribute("slot",e.slot),e.panel&&this.setAttribute("panel",e.panel),e.label&&(this.label=e.label),e.closable&&(this.closable=e.closable),e.theme&&this.applyTheme(e.theme),delete this._pendingSetup}this.updateContent()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}}customElements.get("e2-tab")||customElements.define("e2-tab",O);class V extends HTMLElement{static get observedAttributes(){return["theme","disabled","active-tab","tab-position","closable"]}constructor(){super(),this._theme="auto",this._activeTabId=null,this._tabPosition="top",this._closable=!1,this.setupElement(),this.setupEventListeners()}setupElement(){l(this).innerHTML='\n      <style>\n        :host {\n          display: flex;\n          flex-direction: column;\n          background: var(--tab-container-bg, #ffffff);\n          border: 1px solid var(--tab-container-border, #ccc);\n          border-radius: var(--tab-container-border-radius, 4px);\n          overflow: hidden;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-container-bg-dark, #1e1e1e);\n          border-color: var(--tab-container-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Tab position variations */\n        :host([tab-position="top"]) {\n          flex-direction: column;\n        }\n\n        :host([tab-position="bottom"]) {\n          flex-direction: column-reverse;\n        }\n\n        :host([tab-position="left"]) {\n          flex-direction: row;\n        }\n\n        :host([tab-position="right"]) {\n          flex-direction: row-reverse;\n        }\n\n        .tab-list {\n          display: flex;\n          background: var(--tab-list-bg, #f8f8f8);\n          border-bottom: 1px solid var(--tab-list-border, #ddd);\n          overflow-x: auto;\n          flex-shrink: 0;\n        }\n\n        :host(.theme-dark) .tab-list {\n          background: var(--tab-list-bg-dark, #2d2d2d);\n          border-bottom-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host([tab-position="bottom"]) .tab-list {\n          border-bottom: none;\n          border-top: 1px solid var(--tab-list-border, #ddd);\n        }\n\n        :host(.theme-dark[tab-position="bottom"]) .tab-list {\n          border-top-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host([tab-position="left"]) .tab-list,\n        :host([tab-position="right"]) .tab-list {\n          flex-direction: column;\n          border-bottom: none;\n          border-right: 1px solid var(--tab-list-border, #ddd);\n          overflow-x: visible;\n          overflow-y: auto;\n        }\n\n        :host([tab-position="right"]) .tab-list {\n          border-right: none;\n          border-left: 1px solid var(--tab-list-border, #ddd);\n        }\n\n        :host(.theme-dark[tab-position="left"]) .tab-list {\n          border-right-color: var(--tab-list-border-dark, #555);\n        }\n\n        :host(.theme-dark[tab-position="right"]) .tab-list {\n          border-left-color: var(--tab-list-border-dark, #555);\n        }\n\n        .panel-container {\n          flex: 1;\n          overflow: hidden;\n          position: relative;\n        }\n\n        ::slotted(e2-tab) {\n          flex-shrink: 0;\n        }\n\n        ::slotted(e2-tab-panel) {\n          position: absolute;\n          top: 0;\n          left: 0;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n        }\n\n        ::slotted(e2-tab-panel[active]) {\n          display: flex !important;\n        }\n      </style>\n\n      <div class="tab-list">\n        <slot name="tabs"></slot>\n      </div>\n      <div class="panel-container">\n        <slot name="panels"></slot>\n      </div>\n    '}setupEventListeners(){this.addEventListener("tab-click",this.handleTabClick.bind(this)),this.addEventListener("tab-close",this.handleTabClose.bind(this));const e=this.shadowRoot,t=e.querySelector('slot[name="tabs"]'),n=e.querySelector('slot[name="panels"]');null==t||t.addEventListener("slotchange",()=>{this.updateTabsAndPanels()}),null==n||n.addEventListener("slotchange",()=>{this.updateTabsAndPanels()})}handleTabClick(e){e.stopPropagation();const t=e.target,n=t.id,i=t.getAttribute("panel")||`${n}-panel`;this.selectTab(n,i)}handleTabClose(e){e.stopPropagation();let t=e.target;if(t.matches("e2-tab")||(t=t.closest("e2-tab")),!t)return;const n=t.id,i=t.getAttribute("panel")||`${n}-panel`;t.hasAttribute("data-removing")||(t.setAttribute("data-removing","true"),o(this,"tab-close",{tabId:n,tab:t,panelId:i,panel:this.querySelector(`e2-tab-panel[id="${i}"]`),containerId:this.id,container:this},{bubbles:!1})&&setTimeout(()=>{this.removeTab(n)},0))}selectTab(e,t){const n=this.querySelector(`e2-tab[id="${e}"]`),i=this.querySelector(`e2-tab-panel[id="${t}"]`);if(!n||!i)return;const s=this._activeTabId,a=this.hasAttribute("theme")?this._theme:u(this);this.querySelectorAll("e2-tab").forEach(e=>{void 0!==e.active?e.active=!1:e.removeAttribute("active"),e.applyTheme&&!e.hasAttribute("theme")&&e.applyTheme(a)}),this.querySelectorAll("e2-tab-panel").forEach(e=>{void 0!==e.active?e.active=!1:(e.removeAttribute("active"),e.style.display="none"),e.applyTheme&&!e.hasAttribute("theme")&&e.applyTheme(a)}),void 0!==n.active?n.active=!0:n.setAttribute("active",""),void 0!==i.active?i.active=!0:(i.setAttribute("active",""),i.style.display="flex"),n.applyTheme&&!n.hasAttribute("theme")&&n.applyTheme(a),i.applyTheme&&!i.hasAttribute("theme")&&i.applyTheme(a),this._activeTabId=e,this.setAttribute("active-tab",e),o(this,"tab-select",{tabId:e,tab:n,panelId:t,panel:i,containerId:this.id,container:this,previousTabId:s||void 0}),o(this,"tab-container-change",{containerId:this.id,container:this,activeTabId:e,activePanelId:t})}removeTab(e){const t=this.querySelector(`e2-tab[id="${e}"]`),n=(null==t?void 0:t.getAttribute("panel"))||`${e}-panel`,i=this.querySelector(`e2-tab-panel[id="${n}"]`);if(null==t||t.remove(),null==i||i.remove(),this._activeTabId===e){const e=this.querySelectorAll("e2-tab");if(e.length>0){const t=e[0],n=t.getAttribute("panel")||`${t.id}-panel`;this.selectTab(t.id,n)}else this._activeTabId=null,this.removeAttribute("active-tab")}this.refreshThemes()}updateTabsAndPanels(){const e=this.querySelectorAll("e2-tab"),t=this.querySelectorAll("e2-tab-panel"),n=this.hasAttribute("theme")?this._theme:u(this);e.forEach((e,i)=>{const o=e;if(!o.id&&!o.hasAttribute("id"))try{o.id=s("tab")}catch(e){return}if(this._closable&&!o.hasAttribute("closable"))try{o.setAttribute("closable","")}catch(e){}if(o.applyTheme&&!o.hasAttribute("theme"))try{o.applyTheme(n)}catch(e){}if(!o.getAttribute("panel")){const e=t[i];if(e){if(!e.id&&!e.hasAttribute("id"))try{e.id=`${o.id}-panel`}catch(e){return}try{o.setAttribute("panel",e.id)}catch(e){}}}});let i=null,o=null;if(this.hasAttribute("active-tab")){const e=this.getAttribute("active-tab");i=this.querySelector(`e2-tab[id="${e}"]`)}if(i||(i=this.querySelector("e2-tab[active]")),!i&&e.length>0&&(i=e[0]),i&&(o=i.getAttribute("panel")||`${i.id}-panel`),t.forEach(e=>{const t=e;if(!t.id&&!t.hasAttribute("id"))try{t.id=s("tab-panel")}catch(e){return}if(t.applyTheme&&!t.hasAttribute("theme"))try{t.applyTheme(n)}catch(e){}if(t.id===o)if(void 0!==t.active)try{t.active=!0}catch(e){}else try{t.setAttribute("active",""),t.style.display="flex"}catch(e){}else if(void 0!==t.active)try{t.active=!1}catch(e){}else try{t.style.display="none"}catch(e){}}),!this._activeTabId&&i){const e=i.getAttribute("panel")||`${i.id}-panel`;setTimeout(()=>{i&&this.selectTab(i.id,e)},100)}}selectTabById(e){const t=this.querySelector(`e2-tab[id="${e}"]`);if(t){const n=t.getAttribute("panel")||`${e}-panel`;this.selectTab(e,n)}}refreshThemes(){const e=this.hasAttribute("theme")?this._theme:u(this);this.querySelectorAll("e2-tab").forEach(t=>{t.applyTheme&&!t.hasAttribute("theme")&&t.applyTheme(e)}),this.querySelectorAll("e2-tab-panel").forEach(t=>{t.applyTheme&&!t.hasAttribute("theme")&&t.applyTheme(e)})}addTab(e,t="",n,i){const o=n||s("tab"),a=i||`${o}-panel`,r=new(window.customElements.get("e2-tab"));r.id=o;const l=new(window.customElements.get("e2-tab-panel"));l.id=a;const h=this.hasAttribute("theme")?this._theme:u(this);return r._pendingSetup={slot:"tabs",panel:a,label:e,closable:this._closable,theme:h},l._pendingSetup={slot:"panels",content:t,theme:h},this.appendChild(r),this.appendChild(l),{tabId:o,panelId:a}}removeTabById(e){this.removeTab(e)}get activeTabId(){return this._activeTabId}get tabs(){return this.querySelectorAll("e2-tab")}get panels(){return this.querySelectorAll("e2-tab-panel")}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}get tabPosition(){return this._tabPosition}set tabPosition(e){this._tabPosition=e,this.setAttribute("tab-position",e)}get closable(){return this._closable}set closable(e){this._closable=e,e?this.setAttribute("closable",""):this.removeAttribute("closable"),this.querySelectorAll("e2-tab").forEach(t=>{e?t.setAttribute("closable",""):t.removeAttribute("closable")})}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}applyTheme(e){p(this,e),this.querySelectorAll("e2-tab").forEach(t=>{t.applyTheme&&!t.hasAttribute("theme")&&t.applyTheme(e)}),this.querySelectorAll("e2-tab-panel").forEach(t=>{t.applyTheme&&!t.hasAttribute("theme")&&t.applyTheme(e)})}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":n?(this._theme=n,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(this._theme)):this.isConnected&&(this._theme="auto",m(this),this._themeCleanup=b(this));break;case"active-tab":n&&n!==this._activeTabId&&this.selectTabById(n);break;case"tab-position":this._tabPosition=n||"top";break;case"closable":this._closable=null!==n}}connectedCallback(){this.id||(this.id=s("tab-container")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this.updateTabsAndPanels()}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}}customElements.get("e2-tab-container")||customElements.define("e2-tab-container",V);class H extends HTMLElement{static get observedAttributes(){return["theme","disabled","active"]}constructor(){super(),this._theme="auto",this._active=!1,this.setupElement()}setupElement(){l(this).innerHTML="\n      <style>\n        :host {\n          display: none;\n          flex-direction: column;\n          width: 100%;\n          height: 100%;\n          overflow: auto;\n          background: var(--tab-panel-bg, #ffffff);\n          padding: var(--tab-panel-padding, 16px);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          color: var(--tab-panel-color, #333);\n          box-sizing: border-box;\n        }\n\n        :host([active]) {\n          display: flex;\n        }\n\n        :host(.theme-dark) {\n          background: var(--tab-panel-bg-dark, #1e1e1e);\n          color: var(--tab-panel-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        /* Scrollbar styling for dark theme */\n        :host(.theme-dark) {\n          scrollbar-width: thin;\n          scrollbar-color: var(--scrollbar-thumb-dark, #555) var(--scrollbar-track-dark, #2d2d2d);\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-track {\n          background: var(--scrollbar-track-dark, #2d2d2d);\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-thumb {\n          background: var(--scrollbar-thumb-dark, #555);\n          border-radius: 4px;\n        }\n\n        :host(.theme-dark)::-webkit-scrollbar-thumb:hover {\n          background: var(--scrollbar-thumb-hover-dark, #666);\n        }\n\n        /* Light theme scrollbar */\n        :host(.theme-light) {\n          scrollbar-width: thin;\n          scrollbar-color: var(--scrollbar-thumb-light, #ccc) var(--scrollbar-track-light, #f0f0f0);\n        }\n\n        :host(.theme-light)::-webkit-scrollbar {\n          width: 8px;\n          height: 8px;\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-track {\n          background: var(--scrollbar-track-light, #f0f0f0);\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-thumb {\n          background: var(--scrollbar-thumb-light, #ccc);\n          border-radius: 4px;\n        }\n\n        :host(.theme-light)::-webkit-scrollbar-thumb:hover {\n          background: var(--scrollbar-thumb-hover-light, #bbb);\n        }\n\n        /* Content styling */\n        ::slotted(*) {\n          max-width: 100%;\n        }\n\n        ::slotted(h1),\n        ::slotted(h2),\n        ::slotted(h3),\n        ::slotted(h4),\n        ::slotted(h5),\n        ::slotted(h6) {\n          margin-top: 0;\n          color: inherit;\n        }\n\n        ::slotted(p) {\n          line-height: 1.5;\n          margin-bottom: 1em;\n        }\n\n        ::slotted(pre) {\n          background: var(--code-bg, #f5f5f5);\n          padding: 12px;\n          border-radius: 4px;\n          overflow-x: auto;\n          font-family: var(--font-family-mono, 'Consolas', 'Monaco', monospace);\n        }\n\n        :host(.theme-dark) ::slotted(pre) {\n          background: var(--code-bg-dark, #0d1117);\n        }\n\n        ::slotted(code) {\n          background: var(--code-bg, #f5f5f5);\n          padding: 2px 4px;\n          border-radius: 2px;\n          font-family: var(--font-family-mono, 'Consolas', 'Monaco', monospace);\n          font-size: 0.9em;\n        }\n\n        :host(.theme-dark) ::slotted(code) {\n          background: var(--code-bg-dark, #0d1117);\n        }\n\n        /* Loading state */\n        :host([loading]) {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        :host([loading])::before {\n          content: 'Loading...';\n          color: var(--tab-panel-loading-color, #666);\n        }\n\n        :host(.theme-dark[loading])::before {\n          color: var(--tab-panel-loading-color-dark, #aaa);\n        }\n\n        /* Empty state */\n        :host(:empty:not([loading])) {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n        }\n\n        :host(:empty:not([loading]))::before {\n          content: attr(data-empty-message);\n          color: var(--tab-panel-empty-color, #999);\n          font-style: italic;\n        }\n\n        :host(.theme-dark:empty:not([loading]))::before {\n          color: var(--tab-panel-empty-color-dark, #666);\n        }\n      </style>\n\n      <slot></slot>\n    "}show(){this.active=!0}hide(){this.active=!1}scrollToTop(){this.scrollTop=0}scrollToBottom(){this.scrollTop=this.scrollHeight}scrollToElement(e){this.contains(e)&&e.scrollIntoView({behavior:"smooth",block:"nearest"})}clearContent(){this.innerHTML=""}setContent(e){this.innerHTML="",this.innerHTML=e}appendContent(e){this.insertAdjacentHTML("beforeend",e)}prependContent(e){this.insertAdjacentHTML("afterbegin",e)}get theme(){return this._theme}set theme(e){this._theme=e,this.setAttribute("theme",e),this.applyTheme(e),g(this,e)}get active(){return this._active}set active(e){this._active=e,e?(this.setAttribute("active",""),this.style.display="flex"):(this.removeAttribute("active"),this.style.display="none")}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get loading(){return this.hasAttribute("loading")}set loading(e){e?this.setAttribute("loading",""):this.removeAttribute("loading")}get emptyMessage(){return this.getAttribute("data-empty-message")||"No content available"}set emptyMessage(e){this.setAttribute("data-empty-message",e)}applyTheme(e){p(this,e)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this._theme=n||"auto",this.applyTheme(this._theme);break;case"active":this._active=null!==n,this._active?this.style.display="flex":this.style.display="none"}}connectedCallback(){var e;if(this.id||(this.id=s("tab-panel")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),this._pendingSetup){const t=this._pendingSetup;t.slot&&this.setAttribute("slot",t.slot),t.content&&0===this.children.length&&""===(null===(e=this.textContent)||void 0===e?void 0:e.trim())&&(this.innerHTML=t.content),t.theme&&this.applyTheme(t.theme),delete this._pendingSetup}this._active?this.style.display="flex":this.style.display="none",this.hasAttribute("data-empty-message")||(this.emptyMessage="No content available")}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}}customElements.get("e2-tab-panel")||customElements.define("e2-tab-panel",H);class Z extends HTMLElement{static get observedAttributes(){return["theme","disabled"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){l(this).innerHTML="\n      <style>\n        :host {\n          display: flex;\n          align-items: center;\n          padding: 4px;\n          background: var(--toolbar-bg, #f0f0f0);\n          border-bottom: 1px solid var(--toolbar-border, #ccc);\n          gap: 2px;\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n        }\n\n        :host(.theme-dark) {\n          background: var(--toolbar-bg-dark, #2d2d2d);\n          border-bottom-color: var(--toolbar-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        ::slotted(*) {\n          flex-shrink: 0;\n        }\n      </style>\n      <slot></slot>\n    "}connectedCallback(){this.id||(this.id=s("toolbar")),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){t!==n&&"theme"===e&&(n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this)))}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}applyTheme(e){p(this,e)}closeAllMenus(e){this.querySelectorAll("e2-toolbar-menu").forEach(t=>{t!==e&&"function"==typeof t.close&&t.close()})}}customElements.get("e2-toolbar")||customElements.define("e2-toolbar",Z);class B extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled","active"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          display: inline-block;\n        }\n\n        button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          padding: 6px 12px;\n          border: 1px solid transparent;\n          background: transparent;\n          color: var(--text-color, #333);\n          font-family: inherit;\n          font-size: inherit;\n          cursor: pointer;\n          border-radius: 3px;\n          min-height: 24px;\n          transition: all 0.15s ease;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n\n        button:hover {\n          background: var(--button-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        button:active,\n        button.active {\n          background: var(--button-active-bg, rgba(0, 0, 0, 0.2));\n        }\n\n        button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        :host(.theme-dark) button {\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host(.theme-dark) button:hover {\n          background: var(--button-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        :host(.theme-dark) button:active,\n        :host(.theme-dark) button.active {\n          background: var(--button-active-bg-dark, rgba(255, 255, 255, 0.2));\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          flex-shrink: 0;\n        }\n\n        .label {\n          white-space: nowrap;\n          margin-left: 4px;\n        }\n      </style>\n      <button>\n        <span class="icon" style="display: none;"></span>\n        <span class="label"></span>\n      </button>\n    ',e.querySelector("button").addEventListener("click",this.handleClick.bind(this))}connectedCallback(){this.id||(this.id=s("toolbar-button")),this.updateContent(),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"label":case"icon":this.updateContent();break;case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"disabled":this.updateDisabled();break;case"active":this.updateActive()}}updateContent(){const e=this.shadowRoot,t=e.querySelector(".icon"),n=e.querySelector(".label"),i=this.getAttribute("icon"),s=this.getAttribute("label")||"";i?(t.textContent=i,t.style.display="inline-block"):t.style.display="none",n.textContent=s}updateDisabled(){this.shadowRoot.querySelector("button").disabled=this.hasAttribute("disabled")}updateActive(){this.shadowRoot.querySelector("button").classList.toggle("active",this.hasAttribute("active"))}handleClick(e){if(this.hasAttribute("disabled"))return;const t=new CustomEvent("toolbar-button-click",{detail:{buttonId:this.id,button:this},bubbles:!0,cancelable:!0});this.dispatchEvent(t)}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.applyTheme(e)}applyTheme(e){p(this,e)}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")||""}set icon(e){this.setAttribute("icon",e)}get active(){return this.hasAttribute("active")}set active(e){e?this.setAttribute("active",""):this.removeAttribute("active")}}customElements.get("e2-toolbar-button")||customElements.define("e2-toolbar-button",B);class J extends HTMLElement{static get observedAttributes(){return["label","icon","theme","disabled"]}constructor(){super(),this._theme="auto",this._isOpen=!1,this._justOpened=!1,this.setupElement(),this.bindEvents()}setupElement(){const e=l(this);e.innerHTML='\n      <style>\n        :host {\n          display: inline-block;\n          position: relative;\n        }\n\n        .button {\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          gap: 4px;\n          padding: 6px 12px;\n          border: 1px solid transparent;\n          background: transparent;\n          color: var(--text-color, #333);\n          font-family: inherit;\n          font-size: inherit;\n          cursor: pointer;\n          border-radius: 3px;\n          min-height: 24px;\n          transition: all 0.15s ease;\n          text-overflow: ellipsis;\n          overflow: hidden;\n        }\n\n        .button:hover {\n          background: var(--button-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        .button:active,\n        .button.open {\n          background: var(--button-active-bg, rgba(0, 0, 0, 0.2));\n        }\n\n        .button:disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n        }\n\n        :host(.theme-light) .button {\n          color: var(--text-color-light, #333) !important;\n        }\n\n        :host(.theme-light) .button:hover {\n          background: var(--button-hover-bg-light, rgba(0, 0, 0, 0.1));\n          color: var(--text-color-light, #333) !important;\n        }\n\n        :host(.theme-light) .button:active,\n        :host(.theme-light) .button.open {\n          background: var(--button-active-bg-light, rgba(0, 0, 0, 0.2));\n          color: var(--text-color-light, #333) !important;\n        }\n\n        :host(.theme-dark) .button {\n          color: var(--text-color-dark, #fff) !important;\n        }\n\n        :host(.theme-dark) .button:hover {\n          background: var(--button-hover-bg-dark, rgba(255, 255, 255, 0.1));\n          color: var(--text-color-dark, #fff) !important;\n        }\n\n        :host(.theme-dark) .button:active,\n        :host(.theme-dark) .button.open {\n          background: var(--button-active-bg-dark, rgba(255, 255, 255, 0.2));\n          color: var(--text-color-dark, #fff) !important;\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .button {\n            color: var(--text-color-dark, #fff) !important;\n          }\n\n          :host(.theme-auto) .button:hover {\n            background: var(--button-hover-bg-dark, rgba(255, 255, 255, 0.1));\n            color: var(--text-color-dark, #fff) !important;\n          }\n\n          :host(.theme-auto) .button:active,\n          :host(.theme-auto) .button.open {\n            background: var(--button-active-bg-dark, rgba(255, 255, 255, 0.2));\n            color: var(--text-color-dark, #fff) !important;\n          }\n        }\n\n        @media (prefers-color-scheme: light) {\n          :host(.theme-auto) .button {\n            color: var(--text-color-light, #333) !important;\n          }\n\n          :host(.theme-auto) .button:hover {\n            background: var(--button-hover-bg-light, rgba(0, 0, 0, 0.1));\n            color: var(--text-color-light, #333) !important;\n          }\n\n          :host(.theme-auto) .button:active,\n          :host(.theme-auto) .button.open {\n            background: var(--button-active-bg-light, rgba(0, 0, 0, 0.2));\n            color: var(--text-color-light, #333) !important;\n          }\n        }\n\n        .icon {\n          width: 16px;\n          height: 16px;\n          flex-shrink: 0;\n        }\n\n        .label {\n          white-space: nowrap;\n          margin-left: 4px;\n        }\n\n        .dropdown-arrow {\n          width: 0;\n          height: 0;\n          border-left: 4px solid transparent;\n          border-right: 4px solid transparent;\n          border-top: 4px solid currentColor;\n          margin-left: 4px;\n          flex-shrink: 0;\n        }\n\n        .dropdown {\n          position: absolute;\n          top: 100%;\n          left: 0;\n          z-index: 9999;\n          display: none;\n          min-width: 180px;\n          background: var(--context-menu-bg, #ffffff);\n          border: 1px solid var(--context-menu-border, #d0d0d0);\n          border-radius: 4px;\n          box-shadow: var(--context-menu-shadow, 0 2px 8px rgba(0, 0, 0, 0.15));\n          padding: 4px 0;\n          font-family: inherit;\n          font-size: 14px;\n          margin-top: 2px;\n        }\n\n        .dropdown.open {\n          display: block;\n        }\n\n        :host(.theme-light) .dropdown {\n          background: var(--context-menu-bg-light, #ffffff);\n          border-color: var(--context-menu-border-light, #d0d0d0);\n          box-shadow: var(--context-menu-shadow-light, 0 2px 8px rgba(0, 0, 0, 0.15));\n        }\n\n        :host(.theme-dark) .dropdown {\n          background: var(--context-menu-bg-dark, #2a2a2a);\n          border-color: var(--context-menu-border-dark, #444444);\n          box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n        }\n\n        @media (prefers-color-scheme: dark) {\n          :host(.theme-auto) .dropdown {\n            background: var(--context-menu-bg-dark, #2a2a2a);\n            border-color: var(--context-menu-border-dark, #444444);\n            box-shadow: var(--context-menu-shadow-dark, 0 2px 8px rgba(0, 0, 0, 0.4));\n          }\n        }\n\n        ::slotted(*) {\n          display: block;\n        }\n      </style>\n      <button class="button">\n        <span class="icon" style="display: none;"></span>\n        <span class="label"></span>\n        <div class="dropdown-arrow"></div>\n      </button>\n      <div class="dropdown">\n        <slot></slot>\n      </div>\n    ',e.querySelector(".button").addEventListener("click",this.handleButtonClick.bind(this))}bindEvents(){document.addEventListener("click",this.handleDocumentClick.bind(this)),document.addEventListener("keydown",this.handleKeyDown.bind(this)),window.addEventListener("resize",this.handleWindowResize.bind(this)),this.addEventListener("click",this.handleItemClick.bind(this))}connectedCallback(){this.id||(this.id=s("toolbar-menu")),this.updateContent(),this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this)),setTimeout(()=>{const e=this.getCurrentTheme();this.applyTheme(e)},0)}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"label":case"icon":this.updateContent();break;case"theme":n?this.theme=n:this.isConnected&&(m(this),this._themeCleanup=b(this));break;case"disabled":this.updateDisabled()}}updateContent(){const e=this.shadowRoot,t=e.querySelector(".icon"),n=e.querySelector(".label"),i=this.getAttribute("icon"),s=this.getAttribute("label")||"";i?(t.textContent=i,t.style.display="inline-block"):t.style.display="none",n.textContent=s}updateDisabled(){this.shadowRoot.querySelector(".button").disabled=this.hasAttribute("disabled"),this.hasAttribute("disabled")&&this._isOpen&&this.close()}handleButtonClick(e){this.hasAttribute("disabled")||(e.stopPropagation(),this._isOpen?this.close():this.open())}handleDocumentClick(e){var t;if(!this._isOpen)return;if(this._justOpened)return void(this._justOpened=!1);const n=e.target;this.contains(n)||(null===(t=this.shadowRoot)||void 0===t?void 0:t.contains(n))||this.close()}handleKeyDown(e){if(this._isOpen)switch(e.key){case"Escape":e.preventDefault(),this.close();break;case"ArrowDown":e.preventDefault(),this.focusNextItem();break;case"ArrowUp":e.preventDefault(),this.focusPreviousItem();break;case"Enter":case" ":e.preventDefault(),this.activateFocusedItem()}}handleWindowResize(){this._isOpen&&this.close()}handleItemClick(e){const t=e.target;("E2-CONTEXT-MENU-ITEM"===t.tagName||t.closest("e2-context-menu-item"))&&setTimeout(()=>this.close(),0)}focusNextItem(){const e=this.querySelectorAll("e2-context-menu-item:not([disabled])"),t=Array.from(e).findIndex(e=>{var t;return e===document.activeElement||(null===(t=e.shadowRoot)||void 0===t?void 0:t.activeElement)});e[t<e.length-1?t+1:0].focus()}focusPreviousItem(){const e=this.querySelectorAll("e2-context-menu-item:not([disabled])"),t=Array.from(e).findIndex(e=>{var t;return e===document.activeElement||(null===(t=e.shadowRoot)||void 0===t?void 0:t.activeElement)});e[t>0?t-1:e.length-1].focus()}activateFocusedItem(){const e=document.activeElement;e&&"E2-CONTEXT-MENU-ITEM"===e.tagName&&e.click()}adjustPosition(){const e=this.shadowRoot.querySelector(".dropdown"),t=this.getBoundingClientRect(),n=e.getBoundingClientRect();t.left+n.width>window.innerWidth?(e.style.left="auto",e.style.right="0"):(e.style.left="0",e.style.right="auto"),t.bottom+n.height>window.innerHeight?(e.style.top="auto",e.style.bottom="100%",e.style.marginTop="0",e.style.marginBottom="2px"):(e.style.top="100%",e.style.bottom="auto",e.style.marginTop="2px",e.style.marginBottom="0")}get theme(){return this._theme}set theme(e){this._theme=e,this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),p(this,e),this.applyThemeToChildren(e)}applyTheme(e){p(this,e),this.applyThemeToChildren(e)}applyThemeToChildren(e){this.querySelectorAll("e2-context-menu, e2-context-menu-item, e2-context-menu-separator, e2-context-menu-menu").forEach(t=>{t.setAttribute("theme",e),"function"==typeof t.applyTheme&&t.applyTheme(e)})}getCurrentTheme(){return this.hasAttribute("theme")?this.getAttribute("theme"):this.findInheritedTheme()}findInheritedTheme(){let e=this.parentElement;for(;e;){const t=e.getAttribute("theme");if(t&&["light","dark","auto"].includes(t))return t;if(e.classList.contains("theme-light"))return"light";if(e.classList.contains("theme-dark"))return"dark";if(e.classList.contains("theme-auto"))return"auto";e=e.parentElement}return"auto"}get label(){return this.getAttribute("label")||""}set label(e){this.setAttribute("label",e)}get icon(){return this.getAttribute("icon")||""}set icon(e){this.setAttribute("icon",e)}get isOpen(){return this._isOpen}open(){if(this.hasAttribute("disabled")||this._isOpen)return;const e=this.closest("e2-toolbar");e&&"function"==typeof e.closeAllMenus&&e.closeAllMenus(this),this._isOpen=!0;const t=this.shadowRoot.querySelector(".button"),n=this.shadowRoot.querySelector(".dropdown");t.classList.add("open"),n.classList.add("open"),this.adjustPosition(),this._justOpened=!0;const i=this.getCurrentTheme();this.applyTheme(i);const s=new CustomEvent("toolbar-menu-show",{detail:{menuId:this.id,menu:this},bubbles:!0,cancelable:!0});this.dispatchEvent(s)}close(){if(!this._isOpen)return;this._isOpen=!1;const e=this.shadowRoot.querySelector(".button"),t=this.shadowRoot.querySelector(".dropdown");e.classList.remove("open"),t.classList.remove("open");const n=new CustomEvent("toolbar-menu-hide",{detail:{menuId:this.id,menu:this},bubbles:!0,cancelable:!0});this.dispatchEvent(n)}toggle(){this._isOpen?this.close():this.open()}}customElements.get("e2-toolbar-menu")||customElements.define("e2-toolbar-menu",J);class U extends HTMLElement{static get observedAttributes(){return["theme"]}constructor(){super(),this._theme="auto",this.setupElement()}setupElement(){l(this).innerHTML="\n      <style>\n        :host {\n          display: inline-block;\n          width: 1px;\n          height: 24px;\n          background: var(--separator-color, #ccc);\n          margin: 0 4px;\n          flex-shrink: 0;\n        }\n\n        :host(.theme-dark) {\n          background: var(--separator-color-dark, #555);\n        }\n      </style>\n    "}connectedCallback(){this.hasAttribute("theme")?this.applyTheme(this._theme):(m(this),this._themeCleanup=b(this))}disconnectedCallback(){this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0)}attributeChangedCallback(e,t,n){t!==n&&"theme"===e&&(this._themeCleanup&&(this._themeCleanup(),this._themeCleanup=void 0),this.theme=n)}get theme(){return this._theme}set theme(e){this._theme=e,this.applyTheme(e),g(this,e)}applyTheme(e){p(this,e)}}customElements.get("e2-toolbar-separator")||customElements.define("e2-toolbar-separator",U);class W extends HTMLElement{static get observedAttributes(){return["theme","disabled","multi-select"]}constructor(){super(),this._theme="auto",this._items=[],this._multiSelect=!1,this._selectedItems=new Set,this._expandedItems=new Set,this.setupElement()}setupElement(){l(this).innerHTML="\n      <style>\n        :host {\n          display: block;\n          border: 1px solid var(--treeview-border, #ccc);\n          background: var(--treeview-bg, #fff);\n          font-family: var(--font-family, system-ui, sans-serif);\n          font-size: var(--font-size, 14px);\n          overflow: auto;\n          min-height: 100px;\n          box-sizing: border-box;\n        }\n\n        :host *,\n        :host *::before,\n        :host *::after {\n          box-sizing: border-box;\n        }\n\n        :host(.theme-dark) {\n          background: var(--treeview-bg-dark, #1e1e1e);\n          border-color: var(--treeview-border-dark, #555);\n          color: var(--text-color-dark, #fff);\n        }\n\n        :host([disabled]) {\n          opacity: 0.6;\n          pointer-events: none;\n        }\n\n        .treeview-container {\n          width: 100%;\n          height: 100%;\n          padding: 2px;\n        }\n\n        .tree-item {\n          display: block;\n          user-select: none;\n        }\n\n        .tree-item-content {\n          display: flex;\n          align-items: center;\n          padding: 2px 4px;\n          cursor: pointer;\n          border-radius: 3px;\n          min-height: 22px;\n          max-width: 100%;\n        }\n\n        .tree-item-content:hover {\n          background: var(--treeview-item-hover-bg, #f0f0f0);\n        }\n\n        :host(.theme-dark) .tree-item-content:hover {\n          background: var(--treeview-item-hover-bg-dark, #2d2d2d);\n        }\n\n        .tree-item-content.selected {\n          background: var(--treeview-item-selected-bg, #0078d4);\n          color: var(--treeview-item-selected-text, #fff);\n        }\n\n        :host(.theme-dark) .tree-item-content.selected {\n          background: var(--treeview-item-selected-bg-dark, #0078d4);\n          color: var(--treeview-item-selected-text-dark, #fff);\n        }\n\n        .tree-item-content.disabled {\n          opacity: 0.6;\n          cursor: not-allowed;\n          pointer-events: none;\n        }\n\n        .tree-item-expand {\n          width: 16px;\n          height: 16px;\n          display: flex;\n          align-items: center;\n          justify-content: center;\n          margin-right: 4px;\n          cursor: pointer;\n          font-size: 12px;\n          border-radius: 2px;\n          flex-shrink: 0;\n        }\n\n        .tree-item-expand:hover {\n          background: var(--treeview-expand-hover-bg, rgba(0, 0, 0, 0.1));\n        }\n\n        :host(.theme-dark) .tree-item-expand:hover {\n          background: var(--treeview-expand-hover-bg-dark, rgba(255, 255, 255, 0.1));\n        }\n\n        .tree-item-expand.has-children::before {\n          content: '';\n          transition: transform 0.2s ease;\n        }\n\n        .tree-item-expand.expanded::before {\n          transform: rotate(90deg);\n        }\n\n        .tree-item-icon {\n          width: 16px;\n          height: 16px;\n          margin-right: 6px;\n          flex-shrink: 0;\n          font-size: 14px;\n          text-align: center;\n          line-height: 16px;\n        }\n\n        .tree-item-label {\n          flex: 1;\n          min-width: 0;\n          text-overflow: ellipsis;\n          white-space: nowrap;\n          overflow: hidden;\n        }\n\n        .tree-item-children {\n          margin-left: 16px;\n          border-left: 1px dotted var(--treeview-guide-color, #ccc);\n          position: relative;\n          max-width: calc(100% - 16px);\n        }\n\n        :host(.theme-dark) .tree-item-children {\n          border-left-color: var(--treeview-guide-color-dark, #555);\n        }\n\n        .tree-item-children.collapsed {\n          display: none;\n        }\n\n        .tree-item-children::before {\n          content: '';\n          position: absolute;\n          left: -1px;\n          top: 0;\n          bottom: 0;\n          width: 1px;\n          background: var(--treeview-guide-color, #ccc);\n        }\n\n        :host(.theme-dark) .tree-item-children::before {\n          background: var(--treeview-guide-color-dark, #555);\n        }\n\n        .empty-message {\n          padding: 20px;\n          text-align: center;\n          color: var(--treeview-empty-text, #666);\n          font-style: italic;\n        }\n\n        :host(.theme-dark) .empty-message {\n          color: var(--treeview-empty-text-dark, #999);\n        }\n      </style>\n      <div class=\"treeview-container\">\n        <div class=\"tree-content\"></div>\n      </div>\n    ",this.setupEventListeners(),this.setupTheme()}setupEventListeners(){const e=this.shadowRoot.querySelector(".tree-content");e.addEventListener("click",e=>{this.handleClick(e)}),e.addEventListener("dblclick",e=>{this.handleDoubleClick(e)}),e.addEventListener("contextmenu",e=>{this.handleContextMenu(e)})}setupTheme(){this._themeCleanup=b(this,e=>{this._theme=e,p(this,e)})}handleClick(e){const t=e.target;if(t.classList.contains("tree-item-expand")){e.stopPropagation();const n=t.closest(".tree-item").dataset.itemId;return void(n&&this.toggleExpanded(n))}const n=t.closest(".tree-item-content");if(n){const t=n.closest(".tree-item").dataset.itemId;if(t){const n=this.findItemById(t);n&&!n.disabled&&this.handleItemClick(t,e)}}}handleDoubleClick(e){const t=e.target.closest(".tree-item-content");if(t){const e=t.closest(".tree-item").dataset.itemId;if(e){const t=this.findItemById(e);t&&!t.disabled&&this.dispatchItemDoubleClick(t,e)}}}handleContextMenu(e){const t=e,n=t.target.closest(".tree-item-content");let i=null,o=null;if(n){const e=n.closest(".tree-item");o=(null==e?void 0:e.dataset.itemId)||null,o&&(i=this.findItemById(o))}const a={componentType:"tree-view",componentId:this.id||s(),component:this,item:i,itemId:o};t.componentContext=a}handleItemClick(e,t){const n=this.findItemById(e);if(!n)return;const i=this._selectedItems.has(e),s=[],o=[];if(this._multiSelect&&(t.ctrlKey||t.metaKey))i?(this._selectedItems.delete(e),o.push(n)):(this._selectedItems.add(e),s.push(n));else{const t=Array.from(this._selectedItems);this._selectedItems.clear(),t.forEach(e=>{const t=this.findItemById(e);t&&o.push(t)}),(!i||t.length>1)&&(this._selectedItems.add(e),s.push(n))}this.updateSelection(),this.dispatchSelectionChange(s,o),this.dispatchItemClick(n,e,t)}toggleExpanded(e){const t=this.findItemById(e);t&&t.children&&0!==t.children.length&&(this._expandedItems.has(e)?(this._expandedItems.delete(e),this.dispatchCollapseEvent(t,e)):(this._expandedItems.add(e),this.dispatchExpandEvent(t,e)),this.render())}findItemById(e,t=this._items){for(const n of t){if(n.id===e)return n;if(n.children){const t=this.findItemById(e,n.children);if(t)return t}}return null}updateSelection(){this.shadowRoot.querySelectorAll(".tree-item-content").forEach(e=>{const t=e.closest(".tree-item").dataset.itemId;t&&e.classList.toggle("selected",this._selectedItems.has(t))})}render(){const e=this.shadowRoot.querySelector(".tree-content");0!==this._items.length?e.innerHTML=this.renderItems(this._items):e.innerHTML='<div class="empty-message">No items to display</div>'}renderItems(e,t=0){return e.map(e=>this.renderItem(e,t)).join("")}renderItem(e,t){const n=e.children&&e.children.length>0,i=this._expandedItems.has(e.id),s=this._selectedItems.has(e.id),o=e.disabled;let a=`\n      <div class="tree-item" data-item-id="${e.id}">\n        <div class="tree-item-content ${s?"selected":""} ${o?"disabled":""}">\n          <div class="tree-item-expand ${n?"has-children":""} ${i?"expanded":""}"></div>\n    `;return e.icon&&(a+=`<div class="tree-item-icon">${e.icon}</div>`),a+=`\n          <div class="tree-item-label">${this.escapeHtml(e.label)}</div>\n        </div>\n    `,n&&(a+=`\n        <div class="tree-item-children ${i?"":"collapsed"}">\n          ${this.renderItems(e.children,t+1)}\n        </div>\n      `),a+="</div>",a}escapeHtml(e){const t=document.createElement("div");return t.textContent=e,t.innerHTML}dispatchExpandEvent(e,t){o(this,"tree-expand",{treeViewId:this.id||s(),treeView:this,item:e,itemId:t})}dispatchCollapseEvent(e,t){o(this,"tree-collapse",{treeViewId:this.id||s(),treeView:this,item:e,itemId:t})}dispatchSelectionChange(e,t){const n=Array.from(this._selectedItems).map(e=>this.findItemById(e)).filter(Boolean);o(this,"tree-selection-change",{treeViewId:this.id||s(),treeView:this,selectedItems:n,selectedIds:Array.from(this._selectedItems),addedItems:e,removedItems:t})}dispatchItemClick(e,t,n){o(this,"tree-item-click",{treeViewId:this.id||s(),treeView:this,item:e,itemId:t,ctrlKey:n.ctrlKey,shiftKey:n.shiftKey,altKey:n.altKey})}dispatchItemDoubleClick(e,t){o(this,"tree-item-dblclick",{treeViewId:this.id||s(),treeView:this,item:e,itemId:t})}attributeChangedCallback(e,t,n){if(t!==n)switch(e){case"theme":this._theme=n||"auto",m(this);break;case"disabled":break;case"multi-select":if(this._multiSelect=null!==n,!this._multiSelect){const e=Array.from(this._selectedItems);if(e.length>1){const t=e[0];this._selectedItems.clear(),this._selectedItems.add(t),this.updateSelection()}}}}get theme(){return this._theme}set theme(e){this.setAttribute("theme",e)}get disabled(){return this.hasAttribute("disabled")}set disabled(e){e?this.setAttribute("disabled",""):this.removeAttribute("disabled")}get multiSelect(){return this._multiSelect}set multiSelect(e){e?this.setAttribute("multi-select",""):this.removeAttribute("multi-select")}get items(){return[...this._items]}set items(e){this._items=e||[],this._selectedItems.clear(),this._expandedItems.clear(),this.restoreItemStates(this._items),this.render()}restoreItemStates(e){for(const t of e)t.expanded&&this._expandedItems.add(t.id),t.selected&&this._selectedItems.add(t.id),t.children&&this.restoreItemStates(t.children)}get selectedItems(){return Array.from(this._selectedItems).map(e=>this.findItemById(e)).filter(Boolean)}get selectedIds(){return Array.from(this._selectedItems)}selectItem(e){this._multiSelect||this._selectedItems.clear(),this._selectedItems.add(e),this.updateSelection()}deselectItem(e){this._selectedItems.delete(e),this.updateSelection()}clearSelection(){this._selectedItems.clear(),this.updateSelection()}expandItem(e){const t=this.findItemById(e);t&&t.children&&t.children.length>0&&(this._expandedItems.add(e),this.render())}collapseItem(e){this._expandedItems.delete(e),this.render()}expandAll(){const e=t=>{for(const n of t)n.children&&n.children.length>0&&(this._expandedItems.add(n.id),e(n.children))};e(this._items),this.render()}collapseAll(){this._expandedItems.clear(),this.render()}disconnectedCallback(){this._themeCleanup&&this._themeCleanup()}}customElements.define("e2-tree-view",W);const K="1.0.0";return i})());
//# sourceMappingURL=e2.min.js.map